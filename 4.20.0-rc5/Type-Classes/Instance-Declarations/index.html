<!DOCTYPE html>
<html>
  <head>
<meta name="robots" content="noindex">
                        <link rel="canonical" href="https://lean-lang.org/doc/reference/4.20.0-rc5/Type-Classes/Instance-Declarations/" />
                        
    <script>
      (function(){
  const {protocol:proto, host:hostName, pathname:path, search:srch, hash:hsh} = window.location;
  if (!(path.endsWith("/") || path.endsWith(".html"))) {
    window.location.replace(`${proto}//${hostName}${path}/${srch}${hsh}`);
  }
})()</script>
    <base href="./../../"><meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
    <title>Instance Declarations</title><link rel="stylesheet" href="book.css">
    <script>
      const __versoSiteRoot = document.baseURI;</script>
    <script src="https://cdn.jsdelivr.net/npm/marked@11.1.1/marked.min.js" integrity="sha384-zbcZAIxlvJtNE3Dp5nxLXdXtXyxwOdnILY1TDPVmKFhl4r4nSUG1r8bcFXGVa4Te" crossorigin="anonymous"></script>
    <script src="static/katex/katex.min.js"></script>
    <script src="static/math.js"></script>
    <script src="static/search/fuzzysort.js"></script>
    <script src="static/print.js"></script>
    <script src="-verso-js/popper.js"></script>
    <script src="-verso-js/tippy.js"></script>
    <link rel="stylesheet" href="static/katex/katex.min.css">
    <link rel="stylesheet" href="static/colors.css">
    <link rel="stylesheet" href="static/theme.css">
    <link rel="stylesheet" href="static/print.css">
    <link rel="stylesheet" href="static/search/search-box.css">
    <link rel="stylesheet" href="static/fonts/source-serif/source-serif-text.css">
    <link rel="stylesheet" href="static/fonts/source-code-pro/source-code-pro.css">
    <link rel="stylesheet" href="static/fonts/source-sans/source-sans-3.css">
    <link rel="stylesheet" href="static/fonts/noto-sans-mono/noto-sans-mono.css">
    <link rel="stylesheet" href="-verso-css/tippy-border.css">
    <style>
a.elan-command {
  color: inherit;
  text-decoration: currentcolor underline dotted;
}
a.elan-command:hover {
  text-decoration: currentcolor underline solid;
}

</style><style>
a.lake-command {
  color: inherit;
  text-decoration: currentcolor underline dotted;
}
a.lake-command:hover {
  text-decoration: currentcolor underline solid;
}

</style><style>
span.TODO {
  border: 3px solid red;
  display: inline;
  position: relative;
  float: right;
  clear: right;
  margin-top: 1rem;
  width: 15vw;
  margin-right: -17vw;
  color: red;
  font-size: large;
  font-weight: bold;
}
</style><style>
.hl.lean.tactic-view {
  white-space: collapse;
}
.hl.lean.tactic-view .tactic-state {
  display: block;
  left: 0;
  padding: 0;
  border: none;
}
.hl.lean.tactic-view .tactic-state .goal {
  margin-top: 1em;
  margin-bottom: 1em;
  display: block;
}
.hl.lean.tactic-view .tactic-state .goal:first-child {
  margin-top: 0.25em;
}
.hl.lean.tactic-view .tactic-state .goal:last-child {
  margin-bottom: 0.25em;
}


</style><style>
.namedocs .title {
  font-family: var(--verso-structure-font-family);
  font-size: 1.1rem;
  margin-top: 0;
  margin-left: 1rem;
  margin-right: 1.5rem;
  margin-bottom: 0.75rem;
  display: inline-block;
}
</style><style>
.marginalia .note {
  position: relative;
  padding: 0.5rem;
}

/* Wide viewport */
@media screen and (min-width: 1400px) {
  .marginalia .note {
    float: right;
    clear: right;
    margin-right: -16rem;
    width: 13rem;
    margin-top: 1rem;
  }
}

/* Very wide viewport */
@media screen and (min-width: 1600px) {
  .marginalia .note {
    margin-right: -19vw;
    width: 15vw;
  }
}

.marginalia:hover, .marginalia:hover .note, .marginalia:has(.note:hover) {
  background-color: var(--lean-accent-light-blue);
}

/* Medium viewport */
@media screen and (700px < width <= 1400px) {
  .marginalia .note {
    float: right;
    clear: right;
    width: 40%;
    margin: 1rem 0;
    margin-left: 10%;
  }
}

/* Narrow viewport (e.g. phone) */
@media screen and (width <= 700px) {
  .marginalia .note {
    float: left;
    clear: left;
    width: 90%;
    margin: 1rem 5%;
  }
}

body {
  counter-reset: margin-note-counter;
}
.marginalia .note {
  counter-increment: margin-note-counter;
}
.marginalia .note::before {
  content: counter(margin-note-counter) ".";
  position: absolute;
  vertical-align: baseline;
  font-size: 0.9em;
  font-weight: bold;
  left: -3rem;
  width: 3rem;
  text-align: right;
}
.marginalia::after {
  content: counter(margin-note-counter);
  vertical-align: super;
  font-size: 0.7em;
  font-weight: bold;
  margin-right: 0.5em;
}
</style><style>
.namedocs {
  position: relative;
  border: solid 1px #98B2C0;
  border-radius: .5rem;
  padding-top: var(--verso--box-padding);
  margin-top: var(--verso--box-vertical-margin);
  margin-bottom: var(--verso--box-vertical-margin);
}

.namedocs .text {
  /* Causes margins on child elements to collapse inside the element, such
     that the margins don't extend into parent with the background color.
     The effect is that weird borders in the definition box don't happen anymore. */
  display: flow-root;
  /* Add a padding. this is the same as the margin applied to the first and last child.
     The effect is that the padding looks the same size on all sides. */
  padding: 0 var(--verso--box-padding);
  border-top: 1px solid #98B2C0;
}

.namedocs .text > pre {
  overflow-x: auto;
}

.namedocs .signature {
  font-family: var(--verso-code-font-family);
  margin-top: 0 !important;
  margin-left: var(--verso--box-padding) !important;
  margin-bottom: .75rem !important;
}

.namedocs .label {
  display: block;
  font-size: small;
  font-family: var(--verso-structure-font-family);
  position: absolute;
  top: -0.65rem;
  left: 1rem;
  background: #fff;
  padding: 0 .5rem .125rem;
  border: 1px solid #98B2C0;
  border-radius: 1rem;
  color: #555;
}

.namedocs h1 {
  font-size: inherit;
  font-weight: bold
  margin-top: 1rem;
  margin-bottom: 1rem;
}

.namedocs > .text .constructor {
  padding-top: 0;
  padding-right: 0;
  padding-bottom: 0;
  margin-top: 0.5rem;
  margin-bottom: 1.5rem;
}

.namedocs > .text .constructor::before {
  content: '| ';
  display: block;
  font-family: var(--verso-code-font-family);
  font-weight: bold;
  float: left;
  width: 0.5rem;
  white-space: pre;
}

.namedocs > .text .constructor .name-and-type {
  padding-left: 0.5rem;
  float: left;
  margin-top: 0;
  max-width: calc(100% - 1rem);
}
.namedocs > .text .constructor .docs {
  clear: both;
  padding-left: 1rem;
}

/* These margins work together with the padding on .text */
.namedocs .text > :first-child {
  margin-top: var(--verso--box-padding);
}
.namedocs .text > :last-child {
  margin-bottom: var(--verso--box-padding);
}

.namedocs .methods td, .namedocs .fields td {
  vertical-align: top;
}
.namedocs .inheritance {
  vertical-align: top;
  font-size: smaller;
  font-family: var(--verso-structure-font-family);
}
.namedocs .inheritance ol {
  display: inline-block;
  margin: 0;
  padding: 0;
}
.namedocs .inheritance ol li {
  list-style-type: none;
  display: inline-block;
}
.namedocs .inheritance ol li::after {
  content: " > "
}
.namedocs .inheritance ol li:last-child::after {
  content: "";
}

.namedocs .extends {
  display: inline;
  margin: 0;
  padding: 0;
}

.namedocs .extends li {
  list-style-type: none;
  display: inline-block;
}

.namedocs .extends li label {
  padding-right: 1rem;
}

.namedocs .subdocs .name-and-type {
  font-size: 1rem;
  margin-left: 0;
  margin-top: 0;
  margin-right: 0;
  margin-bottom: 0.5rem;
}

.namedocs .subdocs .docs {
  margin-left: 1.5rem;
  margin-top: 0;
  margin-right: 0;
  margin-bottom: 0.5rem;
}

.namedocs:has(input[data-parent-idx]) [data-inherited-from] {
  transition-property: opacity, display;
  transition-duration: 0.4s;
  transition-behavior: allow-discrete;
  @starting-style { opacity: 0 !important; }
}

#this-page-items .tactic-name { font-weight: bold; }
.namedocs:has(input[data-parent-idx="0"]) [data-inherited-from="0"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="0"]:checked) [data-inherited-from="0"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="0"]:checked):has(.inheritance[data-inherited-from="0"]:hover) [data-inherited-from]:not([data-inherited-from="0"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="1"]) [data-inherited-from="1"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="1"]:checked) [data-inherited-from="1"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="1"]:checked):has(.inheritance[data-inherited-from="1"]:hover) [data-inherited-from]:not([data-inherited-from="1"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="2"]) [data-inherited-from="2"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="2"]:checked) [data-inherited-from="2"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="2"]:checked):has(.inheritance[data-inherited-from="2"]:hover) [data-inherited-from]:not([data-inherited-from="2"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="3"]) [data-inherited-from="3"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="3"]:checked) [data-inherited-from="3"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="3"]:checked):has(.inheritance[data-inherited-from="3"]:hover) [data-inherited-from]:not([data-inherited-from="3"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="4"]) [data-inherited-from="4"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="4"]:checked) [data-inherited-from="4"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="4"]:checked):has(.inheritance[data-inherited-from="4"]:hover) [data-inherited-from]:not([data-inherited-from="4"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="5"]) [data-inherited-from="5"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="5"]:checked) [data-inherited-from="5"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="5"]:checked):has(.inheritance[data-inherited-from="5"]:hover) [data-inherited-from]:not([data-inherited-from="5"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="6"]) [data-inherited-from="6"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="6"]:checked) [data-inherited-from="6"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="6"]:checked):has(.inheritance[data-inherited-from="6"]:hover) [data-inherited-from]:not([data-inherited-from="6"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="7"]) [data-inherited-from="7"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="7"]:checked) [data-inherited-from="7"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="7"]:checked):has(.inheritance[data-inherited-from="7"]:hover) [data-inherited-from]:not([data-inherited-from="7"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="8"]) [data-inherited-from="8"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="8"]:checked) [data-inherited-from="8"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="8"]:checked):has(.inheritance[data-inherited-from="8"]:hover) [data-inherited-from]:not([data-inherited-from="8"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="9"]) [data-inherited-from="9"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="9"]:checked) [data-inherited-from="9"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="9"]:checked):has(.inheritance[data-inherited-from="9"]:hover) [data-inherited-from]:not([data-inherited-from="9"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="10"]) [data-inherited-from="10"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="10"]:checked) [data-inherited-from="10"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="10"]:checked):has(.inheritance[data-inherited-from="10"]:hover) [data-inherited-from]:not([data-inherited-from="10"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="11"]) [data-inherited-from="11"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="11"]:checked) [data-inherited-from="11"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="11"]:checked):has(.inheritance[data-inherited-from="11"]:hover) [data-inherited-from]:not([data-inherited-from="11"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="12"]) [data-inherited-from="12"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="12"]:checked) [data-inherited-from="12"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="12"]:checked):has(.inheritance[data-inherited-from="12"]:hover) [data-inherited-from]:not([data-inherited-from="12"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="13"]) [data-inherited-from="13"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="13"]:checked) [data-inherited-from="13"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="13"]:checked):has(.inheritance[data-inherited-from="13"]:hover) [data-inherited-from]:not([data-inherited-from="13"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="14"]) [data-inherited-from="14"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="14"]:checked) [data-inherited-from="14"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="14"]:checked):has(.inheritance[data-inherited-from="14"]:hover) [data-inherited-from]:not([data-inherited-from="14"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="15"]) [data-inherited-from="15"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="15"]:checked) [data-inherited-from="15"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="15"]:checked):has(.inheritance[data-inherited-from="15"]:hover) [data-inherited-from]:not([data-inherited-from="15"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="16"]) [data-inherited-from="16"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="16"]:checked) [data-inherited-from="16"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="16"]:checked):has(.inheritance[data-inherited-from="16"]:hover) [data-inherited-from]:not([data-inherited-from="16"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="17"]) [data-inherited-from="17"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="17"]:checked) [data-inherited-from="17"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="17"]:checked):has(.inheritance[data-inherited-from="17"]:hover) [data-inherited-from]:not([data-inherited-from="17"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="18"]) [data-inherited-from="18"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="18"]:checked) [data-inherited-from="18"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="18"]:checked):has(.inheritance[data-inherited-from="18"]:hover) [data-inherited-from]:not([data-inherited-from="18"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="19"]) [data-inherited-from="19"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="19"]:checked) [data-inherited-from="19"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="19"]:checked):has(.inheritance[data-inherited-from="19"]:hover) [data-inherited-from]:not([data-inherited-from="19"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="20"]) [data-inherited-from="20"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="20"]:checked) [data-inherited-from="20"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="20"]:checked):has(.inheritance[data-inherited-from="20"]:hover) [data-inherited-from]:not([data-inherited-from="20"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="21"]) [data-inherited-from="21"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="21"]:checked) [data-inherited-from="21"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="21"]:checked):has(.inheritance[data-inherited-from="21"]:hover) [data-inherited-from]:not([data-inherited-from="21"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="22"]) [data-inherited-from="22"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="22"]:checked) [data-inherited-from="22"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="22"]:checked):has(.inheritance[data-inherited-from="22"]:hover) [data-inherited-from]:not([data-inherited-from="22"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="23"]) [data-inherited-from="23"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="23"]:checked) [data-inherited-from="23"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="23"]:checked):has(.inheritance[data-inherited-from="23"]:hover) [data-inherited-from]:not([data-inherited-from="23"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="24"]) [data-inherited-from="24"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="24"]:checked) [data-inherited-from="24"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="24"]:checked):has(.inheritance[data-inherited-from="24"]:hover) [data-inherited-from]:not([data-inherited-from="24"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="25"]) [data-inherited-from="25"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="25"]:checked) [data-inherited-from="25"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="25"]:checked):has(.inheritance[data-inherited-from="25"]:hover) [data-inherited-from]:not([data-inherited-from="25"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="26"]) [data-inherited-from="26"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="26"]:checked) [data-inherited-from="26"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="26"]:checked):has(.inheritance[data-inherited-from="26"]:hover) [data-inherited-from]:not([data-inherited-from="26"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="27"]) [data-inherited-from="27"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="27"]:checked) [data-inherited-from="27"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="27"]:checked):has(.inheritance[data-inherited-from="27"]:hover) [data-inherited-from]:not([data-inherited-from="27"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="28"]) [data-inherited-from="28"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="28"]:checked) [data-inherited-from="28"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="28"]:checked):has(.inheritance[data-inherited-from="28"]:hover) [data-inherited-from]:not([data-inherited-from="28"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="29"]) [data-inherited-from="29"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="29"]:checked) [data-inherited-from="29"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="29"]:checked):has(.inheritance[data-inherited-from="29"]:hover) [data-inherited-from]:not([data-inherited-from="29"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="30"]) [data-inherited-from="30"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="30"]:checked) [data-inherited-from="30"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="30"]:checked):has(.inheritance[data-inherited-from="30"]:hover) [data-inherited-from]:not([data-inherited-from="30"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="31"]) [data-inherited-from="31"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="31"]:checked) [data-inherited-from="31"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="31"]:checked):has(.inheritance[data-inherited-from="31"]:hover) [data-inherited-from]:not([data-inherited-from="31"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="32"]) [data-inherited-from="32"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="32"]:checked) [data-inherited-from="32"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="32"]:checked):has(.inheritance[data-inherited-from="32"]:hover) [data-inherited-from]:not([data-inherited-from="32"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="33"]) [data-inherited-from="33"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="33"]:checked) [data-inherited-from="33"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="33"]:checked):has(.inheritance[data-inherited-from="33"]:hover) [data-inherited-from]:not([data-inherited-from="33"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="34"]) [data-inherited-from="34"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="34"]:checked) [data-inherited-from="34"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="34"]:checked):has(.inheritance[data-inherited-from="34"]:hover) [data-inherited-from]:not([data-inherited-from="34"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="35"]) [data-inherited-from="35"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="35"]:checked) [data-inherited-from="35"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="35"]:checked):has(.inheritance[data-inherited-from="35"]:hover) [data-inherited-from]:not([data-inherited-from="35"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="36"]) [data-inherited-from="36"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="36"]:checked) [data-inherited-from="36"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="36"]:checked):has(.inheritance[data-inherited-from="36"]:hover) [data-inherited-from]:not([data-inherited-from="36"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="37"]) [data-inherited-from="37"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="37"]:checked) [data-inherited-from="37"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="37"]:checked):has(.inheritance[data-inherited-from="37"]:hover) [data-inherited-from]:not([data-inherited-from="37"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="38"]) [data-inherited-from="38"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="38"]:checked) [data-inherited-from="38"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="38"]:checked):has(.inheritance[data-inherited-from="38"]:hover) [data-inherited-from]:not([data-inherited-from="38"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="39"]) [data-inherited-from="39"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="39"]:checked) [data-inherited-from="39"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="39"]:checked):has(.inheritance[data-inherited-from="39"]:hover) [data-inherited-from]:not([data-inherited-from="39"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="40"]) [data-inherited-from="40"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="40"]:checked) [data-inherited-from="40"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="40"]:checked):has(.inheritance[data-inherited-from="40"]:hover) [data-inherited-from]:not([data-inherited-from="40"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="41"]) [data-inherited-from="41"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="41"]:checked) [data-inherited-from="41"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="41"]:checked):has(.inheritance[data-inherited-from="41"]:hover) [data-inherited-from]:not([data-inherited-from="41"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="42"]) [data-inherited-from="42"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="42"]:checked) [data-inherited-from="42"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="42"]:checked):has(.inheritance[data-inherited-from="42"]:hover) [data-inherited-from]:not([data-inherited-from="42"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="43"]) [data-inherited-from="43"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="43"]:checked) [data-inherited-from="43"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="43"]:checked):has(.inheritance[data-inherited-from="43"]:hover) [data-inherited-from]:not([data-inherited-from="43"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="44"]) [data-inherited-from="44"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="44"]:checked) [data-inherited-from="44"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="44"]:checked):has(.inheritance[data-inherited-from="44"]:hover) [data-inherited-from]:not([data-inherited-from="44"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="45"]) [data-inherited-from="45"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="45"]:checked) [data-inherited-from="45"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="45"]:checked):has(.inheritance[data-inherited-from="45"]:hover) [data-inherited-from]:not([data-inherited-from="45"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="46"]) [data-inherited-from="46"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="46"]:checked) [data-inherited-from="46"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="46"]:checked):has(.inheritance[data-inherited-from="46"]:hover) [data-inherited-from]:not([data-inherited-from="46"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="47"]) [data-inherited-from="47"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="47"]:checked) [data-inherited-from="47"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="47"]:checked):has(.inheritance[data-inherited-from="47"]:hover) [data-inherited-from]:not([data-inherited-from="47"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="48"]) [data-inherited-from="48"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="48"]:checked) [data-inherited-from="48"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="48"]:checked):has(.inheritance[data-inherited-from="48"]:hover) [data-inherited-from]:not([data-inherited-from="48"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="49"]) [data-inherited-from="49"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="49"]:checked) [data-inherited-from="49"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="49"]:checked):has(.inheritance[data-inherited-from="49"]:hover) [data-inherited-from]:not([data-inherited-from="49"]) {
  opacity: 0.5;
}
</style><style>
.field-category > :first-child {
}

.field-category > :not(:first-child) {
  margin-left: 1rem;
}
</style><style>
a.technical-term {
  color: inherit;
  text-decoration: currentcolor underline dotted;
}
a.technical-term:hover {
  text-decoration: currentcolor underline solid;
}

</style><style>
dl.toml-table-field-spec {
}
</style><style>
.example-file {
  white-space: normal;
  font-family: var(--verso-structure-font-family);
  margin: 1rem;
  width: fit-content;
  border: 1px solid #ddd;
  padding: 0.5rem;

  /* These are necessary for the container to behave nicely on mobile */
  overflow-x: auto;
  max-width: 100%;
  box-sizing: border-box;
}
.example-file::before {
  counter-reset: linenumber;
}
.example-file > .line {
  display: block;
  white-space: pre;
  counter-increment: linenumber;
  font-family: var(--verso-code-font-family);
}
.example-file > .line::before {
  -webkit-user-select: none;
  display: inline-block;
  content: counter(linenumber);
  border-right: 1px solid #ddd;
  width: 2em;
  padding-right: 0.25em;
  margin-right: 0.25em;
  font-family: var(--verso-code-font-family);
  text-align: right;
}
.example-file > .line::after {
  -webkit-user-select: none;
  display: inline-block;
  content: "âŽ";
  opacity: 0;
}
.example-file > .line:hover::after {
  opacity: 1;
}
.example-file > .line:hover, .example-file > .line:hover::before {
  background-color: #eee;
}
.example-file > .empty {
  display: block;
  white-space: pre;
  font-family: var(--verso-code-font-family);
  font-style: italic;
}
.example-file > .empty::before {
  -webkit-user-select: none;
  display: inline-block;
  content: "";
  border-right: 1px solid #ddd;
  width: 2em;
  padding-right: 0.25em;
  margin-right: 0.25em;
  font-family: var(--verso-code-font-family);
  text-align: right;
}
</style><style>.keyword-of .kw {
  font-weight: 500;
}
.keyword-of .hover-info {
  display: none;
}
.keyword-of .kw:hover {
  background-color: #eee;
  border-radius: 2px;
}
</style><style>.grammar .keyword {
  font-weight: 500 !important;
}

.grammar {
  padding-top: 0.25rem;
  padding-bottom: 0.25rem;
}

.grammar .comment {
  font-style: italic;
  font-family: var(--verso-text-font-family);
  /* TODO add background and text colors to Verso theme, then compute a background here */
  background-color: #fafafa;
  border: 1px solid #f0f0f0;
}

.grammar .local-name {
  font-family: var(--verso-code-font-family);
  font-style: italic;
}

.grammar .nonterminal {
  font-style: italic;
}
.grammar .nonterminal > .hover-info, .grammar .from-nonterminal > .hover-info, .grammar .local-name > .hover-info {
  display: none;
}
.grammar .active {
  background-color: #eee;
  border-radius: 2px;
}
.grammar a {
  color: inherit;
  text-decoration: currentcolor underline dotted;
}
</style><style>
.c .type { font-weight: 600; }
.c .kw { font-weight: 600; }
.c .comment { font-style: italic; }
</style><style>.namedocs .label a { color: inherit; }</style><style>#toc .split-toc > ol .syntax .keyword { font-family: var(--verso-code-font-family); font-weight: 600; }</style><style>

.hl.lean {
  white-space: pre;
  font-weight: normal;
  font-style: normal;
}

.hl.lean .keyword {
  font-weight : bold;
}

.hl.lean .var {
  font-style: italic;
  position: relative;
}

.hover-container {
  width: 0;
  height: 0;
  position: relative;
  display: inline;
}

.hl.lean a {
  color: inherit;
  text-decoration: currentcolor underline dotted;
}

.hl.lean a:hover {
  text-decoration: currentcolor underline solid;
}

.hl.lean .hover-info {
  white-space: normal;
}

.hl.lean .token .hover-info {
  display: none;
  position: absolute;
  background-color: #e5e5e5;
  border: 1px solid black;
  padding: 0.5rem;
  z-index: 300;
  font-size: inherit;
}

.hl.lean .hover-info.messages {
  max-height: 10rem;
  overflow-y: auto;
  overflow-x: hidden;
  scrollbar-gutter: stable;
  padding: 0 0.5rem 0 0;
  display: block;
}

.hl.lean .hover-info code {
  white-space: pre-wrap;
}

.hl.lean .hover-info.messages > code {
  padding: 0.5rem;
  display: block;
  width: fit-content;
}

.hl.lean .hover-info.messages > code:only-child {
  margin: 0;
}

.hl.lean .hover-info.messages > code {
  margin: 0.1rem;
}

.hl.lean .hover-info.messages > code:not(:first-child) {
  margin-top: 0rem;
}

/*
@media (hover: hover) {
  .hl.lean .has-info:hover > .hover-container > .hover-info:not(.tactic *),
  .hl.lean .tactic:has(> .tactic-toggle:checked) .has-info:hover > .hover-container > .hover-info,
  .hl.lean .token:hover > .hover-container > .hover-info:not(.has-info *):not(.tactic *),
  .hl.lean .tactic:has(> .tactic-toggle:checked) .token:hover > .hover-container > .hover-info:not(.has-info *) {
    display: inline-block;
    position: absolute;
    top: 1rem;
    font-weight: normal;
    font-style: normal;
    width: min-content;
  }
}
*/

.hl.lean.block {
  display: block;
}

.hl.lean.inline {
  display: inline;
  white-space: pre-wrap;
}

.hl.lean .token {
  transition: all 0.25s; /* Slight fade for highlights */
}

@media (hover: hover) {
  .hl.lean .token.binding-hl, .hl.lean .literal.string:hover, .hl.lean .token.typed:hover {
    background-color: #eee;
    border-radius: 2px;
    transition: none;
  }
}


.hl.lean .has-info {
  text-decoration-style: wavy;
  text-decoration-line: underline;
  text-decoration-thickness: from-font;
}

.hl.lean .has-info .hover-info {
  display: none;
  position: absolute;
  transform: translate(0.25rem, 0.3rem);
  border: 1px solid black;
  padding: 0.5rem;
  z-index: 400;
  text-align: left;
}

.hl.lean .has-info.error {
  text-decoration-color: red;
}

@media (hover: hover) {
  .hl.lean .has-info.error:hover {
    background-color: #ffb3b3;
  }
}

.hl.lean .hover-info.messages > code.error {
  background-color: #e5e5e5;
  border-left: 0.2rem solid #ffb3b3;
}

.tippy-box[data-theme~='error'] .hl.lean .hover-info.messages > code.error {
  background: none;
  border: none;
}

.error pre {
    color: red;
}

.hl.lean .has-info.warning {
  text-decoration-color: var(--verso-warning-color);
}

@media (hover: hover) {
  .hl.lean .has-info.warning:hover {
    background-color:var(--verso-warning-color);
  }
}

.hl.lean .hover-info.messages > code.warning {
  background-color: var(--verso-warning-color);
}

.hl.lean .hover-info.messages > code.error {
  background-color: #e5e5e5;
  border-left: 0.2rem solid var(--verso-warning-color);
}

.tippy-box[data-theme~='warning'] .hl.lean .hover-info.messages > code.warning {
  background: none;
  border: none;
}


.hl.lean .has-info.info {
  text-decoration-color: blue;
}

@media (hover: hover) {
  .hl.lean .has-info.info:hover {
    background-color: #4777ff;
  }
}


.hl.lean .hover-info.messages > code.info {
  background-color: #e5e5e5;
  border-left: 0.2rem solid #4777ff;
}

.tippy-box[data-theme~='info'] .hl.lean .hover-info.messages > code.info {
  background: none;
  border: none;
}

.hl.lean div.docstring {
  font-family: sans-serif;
  white-space: normal;
  max-width: 40rem;
  width: max-content;
}

.hl.lean div.docstring > :last-child {
  margin-bottom: 0;
}

.hl.lean div.docstring > :first-child {
  margin-top: 0;
}

.hl.lean .hover-info .sep {
  display: block;
  width: auto;
  margin-left: 1rem;
  margin-right: 1rem;
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
  padding: 0;
  height: 1px;
  border-top: 1px solid #ccc;
}

.hl.lean code {
  font-family: monospace;
}

.hl.lean .tactic-state {
  display: none;
  position: relative;
  left: 2rem;
  width: fit-content;
  border: 1px solid #888888;
  border-radius: 0.1rem;
  padding: 0.5rem;
  font-family: sans-serif;
  background-color: #ffffff;
  z-index: 200;
}

.hl.lean.popup .tactic-state {
  position: static;
  display: block;
  width: auto;
  border: none;
  padding: 0.5rem;
  font-family: sans-serif;
  background-color: #ffffff;
}


.hl.lean .tactic {
  position: relative;
}

.hl.lean .tactic-toggle:checked ~ .tactic-state {
  display: block;
}

/*
@media (hover: hover) {
  .hl.lean .tactic:hover > .tactic-toggle:not(:checked) ~ .tactic-state {
    display: block;
    position: absolute;
    left: 0;
    transform: translate(0.25rem, 0);
    z-index: 250;
  }
}
*/

.hl.lean .tactic > label {
  position: relative;
  transition: all 0.5s;
}

@media (hover: hover) {
  .hl.lean .tactic > label:hover {
    border-bottom: 1px dotted #bbbbbb;
  }
}

.hl.lean .tactic-toggle {
  position: absolute;
  top: 0;
  left: 0;
  opacity: 0;
  height: 0;
  width: 0;
  z-index: -10;
}

.hl.lean .tactic > label::after {
  content: "";
  border: 1px solid #bbbbbb;
  border-radius: 1rem;
  height: 0.25rem;
  vertical-align: middle;
  width: 0.6rem;
  margin-left: 0.1rem;
  margin-right: 0.1rem;
  display: inline-block;
  transition: all 0.5s;
}

/*
@media (hover: hover) {
  .hl.lean .tactic > label:hover::after {
    border: 1px solid #aaaaaa;
    background-color: #aaaaaa;
    transition: all 0.5s;
  }
}
*/

.hl.lean .tactic > label:has(+ .tactic-toggle:checked)::after {
  border: 1px solid #999999;
  background-color: #999999;
  transition: all 0.5s;
}

.hl.lean .tactic-state .goal + .goal {
  margin-top: 1.5rem;
}

.hl.lean .tactic-state summary {
  margin-left: -0.5rem;
}

.hl.lean .tactic-state details {
  padding-left: 0.5rem;
}

.hl.lean .case-label {
  display: block;
  position: relative;
}

.hl.lean .case-label input[type="checkbox"] {
  position: absolute;
  top: 0;
  left: 0;
  opacity: 0;
  height: 0;
  width: 0;
  z-index: -10;
}

.hl.lean .case-label:has(input[type="checkbox"])::before {
  width: 1rem;
  height: 1rem;
  display: inline-block;
  background-color: black;
  content: ' ';
  transition: ease 0.2s;
  margin-right: 0.7rem;
  clip-path: polygon(100% 0, 0 0, 50% 100%);
  width: 0.6rem;
  height: 0.6rem;
}

.hl.lean .case-label:has(input[type="checkbox"]:not(:checked))::before {
  transform: rotate(-90deg);
}

.hl.lean .case-label:has(input[type="checkbox"]) {

}

.hl.lean .case-label:has(input[type="checkbox"]:checked) {

}


.hl.lean .tactic-state .labeled-case > :not(:first-child) {
  max-height: 0px;
  display: block;
  overflow: hidden;
  transition: max-height 0.1s ease-in;
  margin-left: 0.5rem;
  margin-top: 0.1rem;
}

.hl.lean .labeled-case:has(.case-label input[type="checkbox"]:checked) > :not(:first-child) {
  max-height: 100%;
}


.hl.lean .tactic-state .goal-name::before {
  font-style: normal;
  content: "case ";
}

.hl.lean .tactic-state .goal-name {
  font-style: italic;
  font-family: monospace;
}

.hl.lean .tactic-state .hypotheses {
  display: table;
}

.hl.lean .tactic-state .hypothesis {
  display: table-row;
}

.hl.lean .tactic-state .hypothesis > * {
  display: table-cell;
}


.hl.lean .tactic-state .hypotheses .colon {
  text-align: center;
  min-width: 1rem;
}

.hl.lean .tactic-state .hypotheses .name {
  text-align: right;
}

.hl.lean .tactic-state .hypotheses .name,
.hl.lean .tactic-state .hypotheses .type,
.hl.lean .tactic-state .conclusion .type {
  font-family: monospace;
}

.tippy-box[data-theme~='lean'] {
  background-color: #e5e5e5;
  color: black;
  border: 1px solid black;
}
.tippy-box[data-theme~='lean'][data-placement^='top'] > .tippy-arrow::before {
  border-top-color: #e5e5e5;
}
.tippy-box[data-theme~='lean'][data-placement^='bottom'] > .tippy-arrow::before {
  border-bottom-color: #e5e5e5;
}
.tippy-box[data-theme~='lean'][data-placement^='left'] > .tippy-arrow::before {
  border-left-color: #e5e5e5;
}
.tippy-box[data-theme~='lean'][data-placement^='right'] > .tippy-arrow::before {
  border-right-color: #e5e5e5;
}

.tippy-box[data-theme~='message'][data-placement^='top'] > .tippy-arrow::before {
  border-top-color: #e5e5e5;
  border-width: 11px 11px 0;
}
.tippy-box[data-theme~='message'][data-placement^='top'] > .tippy-arrow::after {
  bottom: -11px;
  border-width: 11px 11px 0;
}
.tippy-box[data-theme~='message'][data-placement^='bottom'] > .tippy-arrow::before {
  border-width: 0 11px 11px;
}
.tippy-box[data-theme~='message'][data-placement^='bottom'] > .tippy-arrow::after {
  top: -11px;
  border-width: 0 11px 11px;
}
.tippy-box[data-theme~='message'][data-placement^='left'] > .tippy-arrow::before {
  border-left-color: #e5e5e5;
  border-width: 11px 0 11px 11px;
}
.tippy-box[data-theme~='message'][data-placement^='left'] > .tippy-arrow::after {
  right: -11px;
  border-width: 11px 0 11px 11px;
}

.tippy-box[data-theme~='message'][data-placement^='right'] > .tippy-arrow::before {
  border-right-color: #e5e5e5;
  border-width: 11px 11px 11px 0;
}
.tippy-box[data-theme~='message'][data-placement^='right'] > .tippy-arrow::after {
  left: -11px;
  border-width: 11px 11px 11px 0;
}



.tippy-box[data-theme~='warning'] {
  background-color: #e5e5e5;
  color: black;
  border: 3px solid var(--verso-warning-color);
}

.tippy-box[data-theme~='error'] {
  background-color: #e5e5e5;
  color: black;
  border: 3px solid #f7a7af;
}

.tippy-box[data-theme~='info'] {
  background-color: #e5e5e5;
  color: black;
  border: 3px solid #99b3c2;
}



.tippy-box[data-theme~='tactic'] {
  background-color: white;
  color: black;
  border: 1px solid black;
}
.tippy-box[data-theme~='tactic'][data-placement^='top'] > .tippy-arrow::before {
  border-top-color: white;
}
.tippy-box[data-theme~='tactic'][data-placement^='bottom'] > .tippy-arrow::before {
  border-bottom-color: white;
}
.tippy-box[data-theme~='tactic'][data-placement^='left'] > .tippy-arrow::before {
  border-left-color: white;
}
.tippy-box[data-theme~='tactic'][data-placement^='right'] > .tippy-arrow::before {
  border-right-color: white;
}

</style><style>
table.tabular {
  margin: auto;
  border-spacing: 1rem;
}
table.tabular.left-align {
  margin-right: auto;
  margin-left: 0;
}
table.tabular.center-align {
  margin: auto;
}
table.tabular.right-align {
  margin-left auto;
  margin-right: 0;
}
table.tabular td, table.tabular th {
  text-align: left;
  vertical-align: top;
}
table.tabular td > p:first-child, table.tabular th > p:first-child {
  margin-top: 0;
}
table.tabular td > p:last-child, table.tabular th > p:first-child {
  margin-bottom: 0;
}
</style><style>
.lake-opt a {
  color: inherit;
  text-decoration: currentcolor underline dotted;
}
.lake-opt a:hover {
  text-decoration: currentcolor underline solid;
}
</style><style>
div.TODO {
  border: 5px solid red;
  position: relative;
}
div.TODO::before {
  content: "TODO";
  position: absolute;
  top: 0;
  right: 0;
  color: red;
  font-size: large;
  font-weight: bold;
  transform: rotate(-90deg) translate(-2em);
}
</style><style>
.toml {
  font-family: var(--verso-code-font-family);
}

pre.toml {
  margin: 0.5rem .75rem;
  padding: 0.1rem 0;
}

.toml .bool, .toml .table-header {
    font-weight: 600;
}

.toml .table-header .key {
    color: #3030c0;
}

.toml .bool {
    color: #107090;
}

.toml .string {
    color: #0a5020;
}

.toml a, .toml a:link {
    color: inherit;
    text-decoration: none;
    border-bottom: 1px dotted #a2a2a2;
}

.toml a:hover {
    border-bottom-style: solid;
}
</style><style>
    main .theIndex {
      padding-left: 0;
      font-family: var(--verso-text-font-family);
    }

    main .theIndex nav {
      position: sticky;
      top: var(--verso-header-height);
      background: white;
      font-family: var(--verso-structure-font-family);
    }

    main .theIndex [id] {
      /* This needs the combined height of the index header and the page header. We
         know the height of the page header, but the index header height varies, so
         we use the maximum height it gets which also works well for readers with
         wide screens */
      scroll-margin-top: calc(var(--verso-header-height) + 7.5rem);
    }

    @media screen and (max-width: 700px) {
      /* On mobile, the sticky index takes up half the screen. */
      main .theIndex nav {
        position: static;
      }

      main .theIndex [id] {
        /* On mobile, the index header is not sticky, so we just need to
        be below the page header. */
        scroll-margin-top: var(--verso-header-height);
      }
    }

    main .theIndex nav ol {
      padding: 0;
    }

    main .theIndex nav ol li {
      display: inline-block;
    }

    main .theIndex nav ol li a {
      /* Padding instead of margin to have a bigger click target */
      padding-left: 0.5rem;
      padding-right: 0.5rem;
    }
    /* Increase the size of the touch target on phones */
    @media screen and (max-width: 700px) {
      main .theIndex nav ol li a {
        padding-left: 0.75rem;
        padding-right: 0.75rem;
      }
    }

    main .theIndex nav ol li:first-child a {
      padding-left: 0;
    }

    main .theIndex nav ol li + li:before {
      content: "|";
    }

    main .theIndex h1,
    main .theIndex h2,
    main .theIndex h3,
    main .theIndex h4,
    main .theIndex h5,
    main .theIndex h6 {
      margin-top: 0;
    }

    main .theIndex ol {
      list-style-type: none;
    }

    main .theIndex .division > ol {
      padding-left: 0;
      display: flex;
      flex-direction: column;
      gap: .5rem;
      overflow-wrap: break-word;
    }

   main .theIndex .division > ol > li {
      margin-bottom: 0.5rem;
    }

    main .theIndex .division ol ol {
      padding-left: 1rem;
    }

    main .theIndex .division {
      break-inside: avoid;
      counter-reset: none;
      max-width: none;
      width: auto;
    }
    </style><style>
.toml-field a {
  color: inherit;
  text-decoration: currentcolor underline dotted;
}
.toml-field a:hover {
  text-decoration: currentcolor underline solid;
}
</style><style>
.env-var a {
  color: inherit;
  text-decoration: currentcolor underline dotted;
}
.env-var a:hover {
  text-decoration: currentcolor underline solid;
}

</style><style>.plain-keyword {
  font-weight: 500;
}
</style><style>.example {
  border: 1px solid #98B2C0;
  border-radius: 0.5rem;
  margin-bottom: var(--verso--box-vertical-margin);
  margin-top: var(--verso--box-vertical-margin);
}
/* 1400 px is the cutoff for when the margin notes move out of the margin and into floated elements. */
@media screen and (700px < width <= 1400px) {
  .example {
    clear: both; /* Don't overlap margin notes with examples */
  }
}
.example .description::before {
  content: "Example: ";
}
.example .description {
  font-style: italic;
  font-family: var(--verso-structure-font-family);
  padding: var(--verso--box-padding);
}
.example[open] .description {
  margin-bottom: 0;
}
.example-content {
  padding: 0 var(--verso--box-padding) var(--verso--box-padding);
}
.example-content > :first-child {
  margin-top: 0;
}
.example-content p:last-child {
  margin-bottom:0;
}
.example .hl.lean.block {
  overflow-x: auto;
}
</style><style>
.syntax-error {
  white-space: normal;
}
.syntax-error::before {
  counter-reset: linenumber;
}
.syntax-error > .line {
  display: block;
  white-space: pre;
  counter-increment: linenumber;
  font-family: var(--verso-code-font-family);
}
.syntax-error > .line::before {
  -webkit-user-select: none;
  display: inline-block;
  content: counter(linenumber);
  border-right: 1px solid #ddd;
  width: 2em;
  padding-right: 0.25em;
  margin-right: 0.25em;
  font-family: var(--verso-code-font-family);
  text-align: right;
}

:is(.syntax-error > .line):has(.parse-message)::before {
  color: red;
  font-weight: bold;
}

.syntax-error .parse-message > code.hover-info {
  display:none;
}

.syntax-error .parse-message {
  white-space: pre;
  text-decoration-skip-ink: none;
  color: red;
  font-weight: 600;
}
</style><script>
      
window.addEventListener("load", () => {
  const innerProps = {
    onShow(inst) { console.log(inst); },
    onHide(inst) { console.log(inst); },
    content(tgt) {
      const content = document.createElement("span");
      const state = tgt.querySelector(".hover-info").cloneNode(true);
      state.style.display = "block";
      content.appendChild(state);
      /* Render docstrings - TODO server-side */
      if ('undefined' !== typeof marked) {
          for (const d of content.querySelectorAll("code.docstring, pre.docstring")) {
              const str = d.innerText;
              const html = marked.parse(str);
              const rendered = document.createElement("div");
              rendered.classList.add("docstring");
              rendered.innerHTML = html;
              d.parentNode.replaceChild(rendered, d);
          }
      }
      content.style.display = "block";
      content.className = "hl lean popup";
      return content;
    }
  };
  const outerProps = {
    allowHtml: true,
    theme: "lean",
    placement: 'bottom-start',
    maxWidth: "none",
    delay: 100,
    moveTransition: 'transform 0.2s ease-out',
    onTrigger(inst, event) {
      const ref = event.currentTarget;
      const block = ref.closest('.hl.lean');
      block.querySelectorAll('.active').forEach((i) => i.classList.remove('active'));
      ref.classList.add("active");
    },
    onUntrigger(inst, event) {
      const ref = event.currentTarget;
      const block = ref.closest('.hl.lean');
      block.querySelectorAll('.active').forEach((i) => i.classList.remove('active'));
    }
  };
  tippy.createSingleton(tippy('pre.grammar.hl.lean .nonterminal.documented, pre.grammar.hl.lean .from-nonterminal.documented, pre.grammar.hl.lean .local-name.documented', innerProps), outerProps);
});
</script>
    <script>
      
window.addEventListener("load", () => {
  tippy('.keyword-of.hl.lean', {
    allowHtml: true,
    /* DEBUG -- remove the space: * /
    onHide(any) { return false; },
    trigger: "click",
    // */
    maxWidth: "none",

    theme: "lean",
    placement: 'bottom-start',
    content (tgt) {
      const content = document.createElement("span");
      const state = tgt.querySelector(".hover-info").cloneNode(true);
      state.style.display = "block";
      content.appendChild(state);
      /* Render docstrings - TODO server-side */
      if ('undefined' !== typeof marked) {
          for (const d of content.querySelectorAll("code.docstring, pre.docstring")) {
              const str = d.innerText;
              const html = marked.parse(str);
              const rendered = document.createElement("div");
              rendered.classList.add("docstring");
              rendered.innerHTML = html;
              d.parentNode.replaceChild(rendered, d);
          }
      }
      content.style.display = "block";
      content.className = "hl lean popup";
      return content;
    }
  });
});
</script>
    <script>
      
window.onload = () => {

    // Don't show hovers inside of closed tactic states
    function blockedByTactic(elem) {
      let parent = elem.parentNode;
      while (parent && "classList" in parent) {
        if (parent.classList.contains("tactic")) {
          const toggle = parent.querySelector("input.tactic-toggle");
          if (toggle) {
            return !toggle.checked;
          }
        }
        parent = parent.parentNode;
      }
      return false;
    }

    function blockedByTippy(elem) {
      // Don't show a new hover until the old ones are all closed.
      // Scoped to the nearest "top-level block" to avoid being O(n) in the size of the document.
      var block = elem;
      const topLevel = new Set(["section", "body", "html", "nav", "header"]);
      while (block.parentNode && !topLevel.has(block.parentNode.nodeName.toLowerCase())) {
        block = block.parentNode;
      }
      for (const child of block.querySelectorAll(".token, .has-info")) {
        if (child._tippy && child._tippy.state.isVisible) { return true };
      }
      return false;
    }

    for (const c of document.querySelectorAll(".hl.lean .token")) {
        if (c.dataset.binding != "") {
            c.addEventListener("mouseover", (event) => {
                if (blockedByTactic(c)) {return;}
                const context = c.closest(".hl.lean").dataset.leanContext;
                for (const example of document.querySelectorAll(".hl.lean")) {
                    if (example.dataset.leanContext == context) {
                        for (const tok of example.querySelectorAll(".token")) {
                            if (c.dataset.binding == tok.dataset.binding) {
                                tok.classList.add("binding-hl");
                            }
                        }
                    }
                }
            });
        }
        c.addEventListener("mouseout", (event) => {
            for (const tok of document.querySelectorAll(".hl.lean .token")) {
                tok.classList.remove("binding-hl");
            }
        });
    }
    /* Render docstrings */
    if ('undefined' !== typeof marked) {
        for (const d of document.querySelectorAll("code.docstring, pre.docstring")) {
            const str = d.innerText;
            const html = marked.parse(str);
            const rendered = document.createElement("div");
            rendered.classList.add("docstring");
            rendered.innerHTML = html;
            d.parentNode.replaceChild(rendered, d);
        }
    }
    // Add hovers
    let siteRoot = typeof __versoSiteRoot !== 'undefined' ? __versoSiteRoot : "/";
    let docsJson = siteRoot + "-verso-docs.json";
    fetch(docsJson).then((resp) => resp.json()).then((versoDocData) => {

      const defaultTippyProps = {
        /* DEBUG -- remove the space: * /
        onHide(any) { return false; },
        trigger: "click",
        // */
        theme: "lean",
        maxWidth: "none",
        appendTo: () => document.body,
        interactive: true,
        delay: [100, null],
        ignoreAttributes: true,
        onShow(inst) {
          if (inst.reference.querySelector(".hover-info") || "versoHover" in inst.reference.dataset) {
            if (blockedByTactic(inst.reference)) { return false };
            if (blockedByTippy(inst.reference)) { return false; }
          } else { // Nothing to show here!
            return false;
          }
        },
        content (tgt) {
          const content = document.createElement("span");
          content.className = "hl lean";
          content.style.display = "block";
          content.style.maxHeight = "300px";
          content.style.overflowY = "auto";
          content.style.overflowX = "hidden";
          const hoverId = tgt.dataset.versoHover;
          const hoverInfo = tgt.querySelector(".hover-info");
          if (hoverId) { // Docstrings from the table
            // TODO stop doing an implicit conversion from string to number here
            let data = versoDocData[hoverId];
            if (data) {
              const info = document.createElement("span");
              info.className = "hover-info";
              info.style.display = "block";
              info.innerHTML = data;
              content.appendChild(info);
              /* Render docstrings - TODO server-side */
              if ('undefined' !== typeof marked) {
                  for (const d of content.querySelectorAll("code.docstring, pre.docstring")) {
                      const str = d.innerText;
                      const html = marked.parse(str);
                      const rendered = document.createElement("div");
                      rendered.classList.add("docstring");
                      rendered.innerHTML = html;
                      d.parentNode.replaceChild(rendered, d);
                  }
              }
            } else {
              content.innerHTML = "Failed to load doc ID: " + hoverId;
            }
          } else if (hoverInfo) { // The inline info, still used for compiler messages
            content.appendChild(hoverInfo.cloneNode(true));
          }
          return content;
        }
      };

      const addTippy = (selector, props) => {
        tippy(selector, Object.assign({}, defaultTippyProps, props));
      };
      addTippy('.hl.lean .const.token, .hl.lean .keyword.token, .hl.lean .literal.token, .hl.lean .option.token, .hl.lean .var.token, .hl.lean .typed.token', {theme: 'lean'});
      addTippy('.hl.lean .has-info.warning', {theme: 'warning message'});
      addTippy('.hl.lean .has-info.info', {theme: 'info message'});
      addTippy('.hl.lean .has-info.error', {theme: 'error message'});

      tippy('.hl.lean .tactic', {
        allowHtml: true,
        /* DEBUG -- remove the space: * /
        onHide(any) { return false; },
        trigger: "click",
        // */
        maxWidth: "none",
        onShow(inst) {
          const toggle = inst.reference.querySelector("input.tactic-toggle");
          if (toggle && toggle.checked) {
            return false;
          }
          if (blockedByTippy(inst.reference)) { return false; }
        },
        theme: "tactic",
        placement: 'bottom-start',
        content (tgt) {
          const content = document.createElement("span");
          const state = tgt.querySelector(".tactic-state").cloneNode(true);
          state.style.display = "block";
          content.appendChild(state);
          content.style.display = "block";
          content.className = "hl lean popup";
          return content;
        }
      });
  });
}
</script>
    <script type="module" src="static/search/search-init.js"></script>
    <script defer="defer" data-domain="lean-lang.org/doc/reference/latest" src="https://plausible.io/js/script.outbound-links.js"></script>
    </head>
  <body>
    <header>
      <div class="header-logo-wrapper">
        <a href="" id="logo"><img src="static/lean_logo.svg"></a></div>
      <div class="header-title-wrapper">
        <a href="" class="header-title"><h1>
            The Lean Language Reference</h1>
          </a></div>
      </header>
    <label for="toggle-toc" id="toggle-toc-click"><span class="line line1"></span><span class="line line2"></span><span class="line line3"></span></label><div class="with-toc">
      <div class="toc-backdrop" onclick="document.getElementById('toggle-toc-click')?.click()"></div>
      <nav id="toc">
        <input type="checkbox" id="toggle-toc"><div class="first">
          <a href="" class="toc-title"><h1>
              The Lean Language Reference</h1>
            </a><div class="split-tocs">
            <div class="split-toc book">
              <div class="title">
                <label for="--verso-manual-toc-----bookRoot" class="toggle-split-toc"><input type="checkbox" class="toggle-split-toc" id="--verso-manual-toc-----bookRoot"></label><span class="">Table of Contents</span></div>
              <table><tr class="numbered"><td class="num">1.</td><td><a href="Introduction/#introduction">Introduction</a></td></tr><tr class="numbered"><td class="num">2.</td><td><a href="Elaboration-and-Compilation/#The-Lean-Language-Reference--Elaboration-and-Compilation">Elaboration and Compilation</a></td></tr><tr class="numbered"><td class="num">3.</td><td><a href="Interacting-with-Lean/#interaction">Interacting with Lean</a></td></tr><tr class="numbered"><td class="num">4.</td><td><a href="The-Type-System/#type-system">The Type System</a></td></tr><tr class="numbered"><td class="num">5.</td><td><a href="Source-Files-and-Modules/#files">Source Files and Modules</a></td></tr><tr class="numbered"><td class="num">6.</td><td><a href="Namespaces-and-Sections/#namespaces-sections">Namespaces and Sections</a></td></tr><tr class="numbered"><td class="num">7.</td><td><a href="Definitions/#definitions">Definitions</a></td></tr><tr class="numbered"><td class="num">8.</td><td><a href="Axioms/#axioms">Axioms</a></td></tr><tr class="numbered"><td class="num">9.</td><td><a href="Attributes/#attributes">Attributes</a></td></tr><tr class="numbered"><td class="num">10.</td><td><a href="Terms/#terms">Terms</a></td></tr><tr class="current numbered"><td class="num">11.</td><td><a href="Type-Classes/#type-classes">Type Classes</a></td></tr><tr class="numbered"><td class="num">12.</td><td><a href="Coercions/#coercions">Coercions</a></td></tr><tr class="numbered"><td class="num">13.</td><td><a href="Tactic-Proofs/#tactics">Tactic Proofs</a></td></tr><tr class="numbered"><td class="num">14.</td><td><a href="Functors___-Monads-and--do--Notation/#monads-and-do">Functors, Monads and <code>do</code>-Notation</a></td></tr><tr class="numbered"><td class="num">15.</td><td><a href="IO/#io">IO</a></td></tr><tr class="numbered"><td class="num">16.</td><td><a href="The-Simplifier/#the-simplifier">The Simplifier</a></td></tr><tr class="numbered"><td class="num">17.</td><td><a href="Basic-Propositions/#basic-props">Basic Propositions</a></td></tr><tr class="numbered"><td class="num">18.</td><td><a href="Basic-Types/#basic-types">Basic Types</a></td></tr><tr class="numbered"><td class="num">19.</td><td><a href="Notations-and-Macros/#language-extension">Notations and Macros</a></td></tr><tr class="numbered"><td class="num">20.</td><td><a href="Run-Time-Code/#runtime">Run-Time Code</a></td></tr><tr class="numbered"><td class="num">21.</td><td><a href="Build-Tools-and-Distribution/#build-tools-and-distribution">Build Tools and Distribution</a></td></tr><tr class="unnumbered"><td class="num"><td><a href="releases/#release-notes">Release Notes</a></td></tr><tr class="unnumbered"><td class="num"><td><a href="the-index/#The-Lean-Language-Reference--Index">Index</a></td></tr></table></div>
            <div class="split-toc">
              <div class="title">
                <label for="--verso-manual-toc-type-classes" class="toggle-split-toc"><input type="checkbox" class="toggle-split-toc" id="--verso-manual-toc-type-classes" checked="checked"></label><span class="number">11.</span>Â <span class=""><a href="Type-Classes/#type-classes">Type Classes</a></span></div>
              <table><tr class="numbered"><td class="num">11.1.</td><td><a href="Type-Classes/Class-Declarations/#class">Class Declarations</a></td></tr><tr class="current numbered"><td class="num">11.2.</td><td><a href="Type-Classes/Instance-Declarations/#instance-declarations">Instance Declarations</a></td></tr><tr class="numbered"><td class="num">11.3.</td><td><a href="Type-Classes/Instance-Synthesis/#instance-synth">Instance Synthesis</a></td></tr><tr class="numbered"><td class="num">11.4.</td><td><a href="Type-Classes/Deriving-Instances/#deriving-instances">Deriving Instances</a></td></tr><tr class="numbered"><td class="num">11.5.</td><td><a href="Type-Classes/Basic-Classes/#basic-classes">Basic Classes</a></td></tr></table></div>
            <div class="split-toc">
              <div class="title">
                <label for="--verso-manual-toc-instance-declarations" class="toggle-split-toc"><input type="checkbox" class="toggle-split-toc" id="--verso-manual-toc-instance-declarations" checked="checked"></label><span class="number">11.2.</span>Â <span class="current"><a href="Type-Classes/Instance-Declarations/#instance-declarations">Instance Declarations</a></span></div>
              <ol>
                <li>
                  <a href="Type-Classes/Instance-Declarations/#Lean___Parser___Command___instance-next"><span class="syntax"><span class="keyword">instance</span><span class="ws"> </span><span class="meta">(</span><span class="keyword">(</span><span class="keyword">priority</span><span class="ws"> </span><span class="keyword">:=</span><span class="ws"> </span><span class="meta">â€¦</span><span class="keyword">)</span><span class="meta">)?</span><span class="ws"> </span><span class="meta">â€¦</span><span class="ws"> </span><span class="keyword">where</span><span class="ws"> </span><span class="meta">â€¦</span></span></a></li>
                <li>
                  <a href="Type-Classes/Instance-Declarations/#Lean___Parser___Command___instance-next-next"><span class="syntax"><span class="keyword">instance</span><span class="ws"> </span><span class="meta">(</span><span class="keyword">(</span><span class="keyword">priority</span><span class="ws"> </span><span class="keyword">:=</span><span class="ws"> </span><span class="meta">â€¦</span><span class="keyword">)</span><span class="meta">)?</span><span class="ws"> </span><span class="meta">â€¦</span><span class="ws"> </span><span class="keyword">:=</span><span class="ws"> </span><span class="meta">â€¦</span></span></a></li>
                <li>
                  <a href="Type-Classes/Instance-Declarations/#Lean___Parser___Command___instance-next-next-next"><span class="syntax"><span class="keyword">instance</span><span class="ws"> </span><span class="meta">(</span><span class="keyword">(</span><span class="keyword">priority</span><span class="ws"> </span><span class="keyword">:=</span><span class="ws"> </span><span class="meta">â€¦</span><span class="keyword">)</span><span class="meta">)?</span><span class="ws"> </span><span class="meta">â€¦</span><span class="ws"> </span><span class="meta">(</span><span class="keyword">|</span><span class="ws"> </span><span class="meta">â€¦</span><span class="ws"> </span><span class="keyword">=&gt;</span><span class="ws"> </span><span class="meta">â€¦</span><span class="meta">)*</span></span></a></li>
                <li>
                  <span class="header head-1"><span class="level-num">1.</span> <a href="Type-Classes/Instance-Declarations/#recursive-instances">Recursive Instances</a></span></li>
                <li>
                  <span class="header head-1"><span class="level-num">2.</span> <a href="Type-Classes/Instance-Declarations/#class-inductive-instances">Instances of <code>class inductive</code>s</a></span></li>
                <li>
                  <span class="header head-1"><span class="level-num">3.</span> <a href="Type-Classes/Instance-Declarations/#instance-priorities">Instance Priorities</a></span></li>
                <li>
                  <a href="Type-Classes/Instance-Declarations/#prioDefault"><span class="syntax"><span class="keyword">default</span></span></a></li>
                <li>
                  <a href="Type-Classes/Instance-Declarations/#prioLow"><span class="syntax"><span class="keyword">low</span></span></a></li>
                <li>
                  <a href="Type-Classes/Instance-Declarations/#prioMid"><span class="syntax"><span class="keyword">mid</span></span></a></li>
                <li>
                  <a href="Type-Classes/Instance-Declarations/#prioHigh"><span class="syntax"><span class="keyword">high</span></span></a></li>
                <li>
                  <a href="Type-Classes/Instance-Declarations/#_FLQQ_prio_LPAR___RPAR__FLQQ_"><span class="syntax"><span class="keyword">(</span><span class="meta">â€¦</span><span class="keyword">)</span></span></a></li>
                <li>
                  <a href="Type-Classes/Instance-Declarations/#Lean___Parser___Syntax___addPrio"><span class="syntax"><span class="meta">â€¦</span><span class="ws"> </span><span class="keyword">+</span><span class="ws"> </span><span class="meta">â€¦</span></span></a></li>
                <li>
                  <a href="Type-Classes/Instance-Declarations/#Lean___Parser___Syntax___subPrio"><span class="syntax"><span class="meta">â€¦</span><span class="ws"> </span><span class="keyword">-</span><span class="ws"> </span><span class="meta">â€¦</span></span></a></li>
                <li>
                  <span class="header head-1"><span class="level-num">4.</span> <a href="Type-Classes/Instance-Declarations/#default-instances">Default Instances</a></span></li>
                <li>
                  <a href="Type-Classes/Instance-Declarations/#Lean___Parser___Attr___default_instance"><span class="syntax"><span class="keyword">default_instance</span><span class="ws"> </span><span class="meta">â€¦</span></span></a></li>
                <li>
                  <span class="header head-1"><span class="level-num">5.</span> <a href="Type-Classes/Instance-Declarations/#instance-attribute">The Instance Attribute</a></span></li>
                <li>
                  <a href="Type-Classes/Instance-Declarations/#Lean___Parser___Attr___instance"><span class="syntax"><span class="keyword">instance</span><span class="ws"> </span><span class="meta">â€¦</span></span></a></li>
                </ol>
              </div>
            </div>
          </div>
        <div class="last">
          <ul id="meta-links">
            <li>
              <a href="https://github.com/leanprover/reference-manual">Source Code</a></li>
            <li>
              <a href="https://github.com/leanprover/reference-manual/issues">Report Issues</a></li>
            </ul>
          </div>
        </nav>
      <main><div class="content-wrapper">
          <nav class="prev-next-buttons">
            <a class="local-button active" href="Type-Classes/Class-Declarations/#class" rel="prev" title="11.1. Class Declarations"><span class="arrow">â†</span><span class="where">11.1. Class Declarations</span></a><a class="local-button active" href="Type-Classes/Instance-Synthesis/#instance-synth" rel="next" title="11.3. Instance Synthesis"><span class="where">11.3. Instance Synthesis</span><span class="arrow">â†’</span></a></nav>
          <section>
            <h1>
              11.2.Â Instance Declarations<span class="permalink-widget inline"><a href="find/?domain=Verso.Genre.Manual.section&name=instance-declarations" title="Permalink">ðŸ”—</a></span></h1>
            <p>
              The syntax of instance declarations is almost identical to that of definitions.
The only syntactic differences are that the keyword <span class="hl lean keyword-of"><code class="hover-info"><code>Lean.Parser.Command.declaration : command</code></code><code class="kw">def</code></span> is replaced by <span class="hl lean keyword-of"><code class="hover-info"><code>Lean.Parser.Command.declaration : command</code></code><code class="kw">instance</code></span> and the name is optional:</p>
            <div class="namedocs" id="Lean___Parser___Command___instance">
              <span class="label">syntax</span><span class="title">Instance Declarations</span><div class="text">
                <p>
                  Most instances define each method using <span class="hl lean keyword-of"><code class="hover-info"><code>Lean.Parser.Command.declaration : command</code></code><code class="kw">where</code></span> syntax:</p>
                <pre class="grammar hl lean" data-lean-context="--grammar" id="Lean___Parser___Command___instance-next"><span class="nonterminal" data-kind="Lean.Parser.Command.instance">instance</span> <span class="bnf">::=</span> ...
    <span class="bnf">|</span> <span class="from-nonterminal" data-kind="Lean.Parser.Command.instance"><span class="from-nonterminal documented" data-kind="Lean.Parser.Term.attrKind"><code class="hover-info"><code class="docstring">`attrKind` matches `("scoped" &lt;|&gt; "local")?`, used before an attribute like `@[local simp]`. </code></code><span class="from-nonterminal" data-kind="null"></span></span><span class="keyword">instance</span> <span class="from-nonterminal" data-kind="null"><span class="bnf">(</span><span class="from-nonterminal" data-kind="null"><span class="from-nonterminal" data-kind="Lean.Parser.Command.namedPrio"><span class="keyword">(</span><span class="keyword">priority</span> <span class="keyword">:=</span> <span class="nonterminal" data-kind="prio.pseudo">prio</span><span class="keyword">)</span></span></span><span class="bnf">)?</span> </span><span class="from-nonterminal" data-kind="null"><span class="nonterminal documented" data-kind="Lean.Parser.Command.declId"><code class="hover-info"><code class="docstring">`declId` matches `foo` or `foo.{u,v}`: an identifier possibly followed by a list of universe names </code></code>declId</span><span class="bnf">?</span> </span><a href="Definitions/Headers-and-Signatures#Lean___Parser___Command___declSig"><span class="nonterminal documented" data-kind="Lean.Parser.Command.declSig"><code class="hover-info"><code class="docstring">`declSig` matches the signature of a declaration with required type: a list of binders and then `: type` </code></code>declSig</span></a> <span class="from-nonterminal" data-kind="Lean.Parser.Command.whereStructInst"><span class="keyword">where</span>
        <span class="from-nonterminal" data-kind="Lean.Parser.Term.structInstFields"><span class="from-nonterminal" data-kind="null"><span class="nonterminal" data-kind="Lean.Parser.Term.structInstField">structInstField</span><span class="bnf">*</span></span></span><span class="from-nonterminal" data-kind="null"></span></span></span></pre><p>
                  However, type classes are inductive types, so instances can be constructed using any expression with an appropriate type:</p>
                <pre class="grammar hl lean" data-lean-context="--grammar" id="Lean___Parser___Command___instance-next-next"><span class="nonterminal" data-kind="Lean.Parser.Command.instance">instance</span> <span class="bnf">::=</span> ...
    <span class="bnf">|</span> <span class="from-nonterminal" data-kind="Lean.Parser.Command.instance"><span class="from-nonterminal documented" data-kind="Lean.Parser.Term.attrKind"><code class="hover-info"><code class="docstring">`attrKind` matches `("scoped" &lt;|&gt; "local")?`, used before an attribute like `@[local simp]`. </code></code><span class="from-nonterminal" data-kind="null"></span></span><span class="keyword">instance</span> <span class="from-nonterminal" data-kind="null"><span class="bnf">(</span><span class="from-nonterminal" data-kind="null"><span class="from-nonterminal" data-kind="Lean.Parser.Command.namedPrio"><span class="keyword">(</span><span class="keyword">priority</span> <span class="keyword">:=</span> <span class="nonterminal" data-kind="prio.pseudo">prio</span><span class="keyword">)</span></span></span><span class="bnf">)?</span> </span><span class="from-nonterminal" data-kind="null"><span class="nonterminal documented" data-kind="Lean.Parser.Command.declId"><code class="hover-info"><code class="docstring">`declId` matches `foo` or `foo.{u,v}`: an identifier possibly followed by a list of universe names </code></code>declId</span><span class="bnf">?</span> </span><a href="Definitions/Headers-and-Signatures#Lean___Parser___Command___declSig"><span class="nonterminal documented" data-kind="Lean.Parser.Command.declSig"><code class="hover-info"><code class="docstring">`declSig` matches the signature of a declaration with required type: a list of binders and then `: type` </code></code>declSig</span></a> <span class="from-nonterminal" data-kind="Lean.Parser.Command.declValSimple"><span class="keyword">:=</span>
        <span class="nonterminal" data-kind="term.pseudo">term</span><span class="from-nonterminal documented" data-kind="Lean.Parser.Termination.suffix"><code class="hover-info"><code class="docstring">Termination hints are `termination_by` and `decreasing_by`, in that order.
</code></code><span class="from-nonterminal" data-kind="null"></span><span class="from-nonterminal" data-kind="null"></span></span><span class="from-nonterminal" data-kind="null"></span></span></span></pre><p>
                  Instances may also be defined by cases; however, this feature is rarely used outside of <code class="hl lean inline" data-lean-context="examples"><a href="Type-Classes/Basic-Classes/#Decidable___isFalse"><span class="const token" data-binding="const-Decidable" data-verso-hover="465">Decidable</span></a></code> instances:</p>
                <pre class="grammar hl lean" data-lean-context="--grammar" id="Lean___Parser___Command___instance-next-next-next"><span class="nonterminal" data-kind="Lean.Parser.Command.instance">instance</span> <span class="bnf">::=</span> ...
    <span class="bnf">|</span> <span class="from-nonterminal" data-kind="Lean.Parser.Command.instance"><span class="from-nonterminal documented" data-kind="Lean.Parser.Term.attrKind"><code class="hover-info"><code class="docstring">`attrKind` matches `("scoped" &lt;|&gt; "local")?`, used before an attribute like `@[local simp]`. </code></code><span class="from-nonterminal" data-kind="null"></span></span><span class="keyword">instance</span> <span class="from-nonterminal" data-kind="null"><span class="bnf">(</span><span class="from-nonterminal" data-kind="null"><span class="from-nonterminal" data-kind="Lean.Parser.Command.namedPrio"><span class="keyword">(</span><span class="keyword">priority</span> <span class="keyword">:=</span> <span class="nonterminal" data-kind="prio.pseudo">prio</span><span class="keyword">)</span></span></span><span class="bnf">)?</span> </span><span class="from-nonterminal" data-kind="null"><span class="nonterminal documented" data-kind="Lean.Parser.Command.declId"><code class="hover-info"><code class="docstring">`declId` matches `foo` or `foo.{u,v}`: an identifier possibly followed by a list of universe names </code></code>declId</span><span class="bnf">?</span> </span><a href="Definitions/Headers-and-Signatures#Lean___Parser___Command___declSig"><span class="nonterminal documented" data-kind="Lean.Parser.Command.declSig"><code class="hover-info"><code class="docstring">`declSig` matches the signature of a declaration with required type: a list of binders and then `: type` </code></code>declSig</span></a>
        <span class="from-nonterminal" data-kind="Lean.Parser.Command.declValEqns"><span class="from-nonterminal" data-kind="Lean.Parser.Term.matchAltsWhereDecls"><span class="from-nonterminal" data-kind="Lean.Parser.Term.matchAlts"><span class="from-nonterminal" data-kind="null"><span class="bnf">(</span><span class="from-nonterminal" data-kind="null"><span class="from-nonterminal" data-kind="Lean.Parser.Term.matchAlt"><span class="keyword">|</span> <span class="from-nonterminal" data-kind="null"><span class="from-nonterminal" data-kind="null"><span class="nonterminal" data-kind="term.pseudo">term</span> </span></span><span class="keyword">=&gt;</span> <span class="nonterminal" data-kind="term.pseudo">term</span></span></span><span class="bnf">)*</span></span></span><span class="from-nonterminal documented" data-kind="Lean.Parser.Termination.suffix"><code class="hover-info"><code class="docstring">Termination hints are `termination_by` and `decreasing_by`, in that order.
</code></code><span class="from-nonterminal" data-kind="null"></span><span class="from-nonterminal" data-kind="null"></span></span><span class="from-nonterminal" data-kind="null"></span></span></span></span></pre></div>
              </div>
            <p>
              Instances defined with explicit terms often consist of either anonymous constructors (<span class="hl lean keyword-of"><code class="hover-info"><code>Lean.Parser.Term.anonymousCtor : term</code><span class="sep"></span><code class="docstring">The *anonymous constructor* `âŸ¨e, ...âŸ©` is equivalent to `c e ...` if the
expected type is an inductive type with a single constructor `c`.
If more terms are given than `c` has parameters, the remaining arguments
are turned into a new anonymous constructor application. For example,
`âŸ¨a, b, câŸ© : Î± Ã— (Î² Ã— Î³)` is equivalent to `âŸ¨a, âŸ¨b, câŸ©âŸ©`.
</code></code><a href="The-Type-System/Inductive-Types/#Lean___Parser___Term___anonymousCtor"><code class="kw">âŸ¨...âŸ©</code></a></span>) wrapping method implementations or of invocations of <code class="hl lean inline" data-lean-context="examples"><a href="Type-Classes/Instance-Synthesis/#inferInstanceAs"><span class="const token" data-binding="const-inferInstanceAs" data-verso-hover="1126">inferInstanceAs</span></a></code> on definitionally equal types.</p>
            <p>
              Elaboration of instances is almost identical to the elaboration of ordinary definitions, with the exception of the caveats documented below.
If no name is provided, then one is created automatically.
It is possible to refer to this generated name directly, but the algorithm used to generate the names has changed in the past and may change in the future.
It's better to explicitly name instances that will be referred to directly.
After elaboration, the new instance is registered as a candidate for instance search.
Adding the attribute <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="" data-verso-hover="1413">instance</span></code> to a name can be used to mark any other defined name as a candidate.</p>
            <details class="example"><summary class="description">Instance Name Generation</summary><div class="example-content">
                <p>
                  Following these declarations:</p>
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.structureTk-2252">structure</span> <span class="const token" data-binding="const-NatWrapper" data-verso-hover="1614">NatWrapper</span> <span class="keyword token" data-binding="kw-occ-null-2273">where</span>
  <span class="const token" data-binding="const-NatWrapper.val" data-verso-hover="1615">val</span> <span class="unknown token" data-binding="">:</span> <a href="Basic-Types/Natural-Numbers/#Nat___zero"><span class="const token" data-binding="const-Nat" data-verso-hover="22">Nat</span></a>

<span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-2292">instance</span> <span class="unknown token" data-binding="">:</span> <a href="Type-Classes/Basic-Classes/#BEq___mk"><span class="const token" data-binding="const-BEq" data-verso-hover="1342">BEq</span></a> <span class="const token" data-binding="const-NatWrapper" data-verso-hover="1614">NatWrapper</span> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-2318">where</span>
  <a href="Type-Classes/Basic-Classes/#BEq___mk"><span class="const token" data-binding="const-BEq.beq" data-verso-hover="1616">beq</span></a>
    <span class="unknown token" data-binding="">|</span> <span class="unknown token" data-binding="">âŸ¨</span><span class="var token" data-binding="var-_uniq.251" data-verso-hover="7">x</span><span class="unknown token" data-binding="">âŸ©</span><span class="unknown token" data-binding="">,</span> <span class="unknown token" data-binding="">âŸ¨</span><span class="var token" data-binding="var-_uniq.252" data-verso-hover="7">y</span><span class="unknown token" data-binding="">âŸ©</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="var token" data-binding="var-_uniq.251" data-verso-hover="7">x</span> <span class="unknown token" data-binding="">==</span> <span class="var token" data-binding="var-_uniq.252" data-verso-hover="7">y</span>
<span class="unknown token" data-binding=""></span></code><p>
                  the name <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-instBEqNatWrapper" data-verso-hover="1617">instBEqNatWrapper</span></code> refers to the new instance.</p>
                </div>
              </details><details class="example"><summary class="description">Variations in Instance Definitions</summary><div class="example-content">
                <p>
                  Given this structure type:</p>
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.structureTk-2537">structure</span> <span class="const token" data-binding="const-NatWrapper" data-verso-hover="1614">NatWrapper</span> <span class="keyword token" data-binding="kw-occ-null-2558">where</span>
  <span class="const token" data-binding="const-NatWrapper.val" data-verso-hover="1615">val</span> <span class="unknown token" data-binding="">:</span> <a href="Basic-Types/Natural-Numbers/#Nat___zero"><span class="const token" data-binding="const-Nat" data-verso-hover="22">Nat</span></a>
<span class="unknown token" data-binding=""></span></code><p>
                  all of the following ways of defining a <code class="hl lean inline" data-lean-context="examples"><a href="Type-Classes/Basic-Classes/#BEq___mk"><span class="const token" data-binding="const-BEq" data-verso-hover="1342">BEq</span></a></code> instance are equivalent:</p>
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-2665">instance</span> <span class="unknown token" data-binding="">:</span> <a href="Type-Classes/Basic-Classes/#BEq___mk"><span class="const token" data-binding="const-BEq" data-verso-hover="1342">BEq</span></a> <span class="const token" data-binding="const-NatWrapper" data-verso-hover="1614">NatWrapper</span> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-2691">where</span>
  <a href="Type-Classes/Basic-Classes/#BEq___mk"><span class="const token" data-binding="const-BEq.beq" data-verso-hover="1616">beq</span></a>
    <span class="unknown token" data-binding="">|</span> <span class="unknown token" data-binding="">âŸ¨</span><span class="var token" data-binding="var-_uniq.37" data-verso-hover="7">x</span><span class="unknown token" data-binding="">âŸ©</span><span class="unknown token" data-binding="">,</span> <span class="unknown token" data-binding="">âŸ¨</span><span class="var token" data-binding="var-_uniq.38" data-verso-hover="7">y</span><span class="unknown token" data-binding="">âŸ©</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="var token" data-binding="var-_uniq.37" data-verso-hover="7">x</span> <span class="unknown token" data-binding="">==</span> <span class="var token" data-binding="var-_uniq.38" data-verso-hover="7">y</span>

<span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-2737">instance</span> <span class="unknown token" data-binding="">:</span> <a href="Type-Classes/Basic-Classes/#BEq___mk"><span class="const token" data-binding="const-BEq" data-verso-hover="1342">BEq</span></a> <span class="const token" data-binding="const-NatWrapper" data-verso-hover="1614">NatWrapper</span> <span class="unknown token" data-binding="">:=</span>
  <span class="unknown token" data-binding="const-BEq.mk" data-verso-hover="1618">âŸ¨</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-2771">fun</span> <span class="var token" data-binding="var-_uniq.160" data-verso-hover="1619">x</span> <span class="var token" data-binding="var-_uniq.163" data-verso-hover="1619">y</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="var token" data-binding="var-_uniq.160" data-verso-hover="1619">x</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-NatWrapper.val" data-verso-hover="1615">val</span> <span class="unknown token" data-binding="">==</span> <span class="var token" data-binding="var-_uniq.163" data-verso-hover="1619">y</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-NatWrapper.val" data-verso-hover="1615">val</span><span class="unknown token" data-binding="const-BEq.mk" data-verso-hover="1618">âŸ©</span>

<span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-2801">instance</span> <span class="unknown token" data-binding="">:</span> <a href="Type-Classes/Basic-Classes/#BEq___mk"><span class="const token" data-binding="const-BEq" data-verso-hover="1342">BEq</span></a> <span class="const token" data-binding="const-NatWrapper" data-verso-hover="1614">NatWrapper</span> <span class="unknown token" data-binding="">:=</span>
  <span class="unknown token" data-binding="const-BEq.mk" data-verso-hover="1618">âŸ¨</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-2835">fun</span> <span class="unknown token" data-binding="">âŸ¨</span><span class="var token" data-binding="var-_uniq.217" data-verso-hover="7">x</span><span class="unknown token" data-binding="">âŸ©</span> <span class="unknown token" data-binding="">âŸ¨</span><span class="var token" data-binding="var-_uniq.227" data-verso-hover="7">y</span><span class="unknown token" data-binding="">âŸ©</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="var token" data-binding="var-_uniq.217" data-verso-hover="7">x</span> <span class="unknown token" data-binding="">==</span> <span class="var token" data-binding="var-_uniq.227" data-verso-hover="7">y</span><span class="unknown token" data-binding="const-BEq.mk" data-verso-hover="1618">âŸ©</span>
<span class="unknown token" data-binding=""></span></code><p>
                  Aside from introducing different names into the environment, the following are also equivalent:</p>
                <code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding="">@[</span><a href="Type-Classes/Instance-Declarations/#Lean___Parser___Attr___instance"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Attr.instance-2979">instance</span></a><span class="unknown token" data-binding="">]</span>
<span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-2989">def</span> <span class="const token" data-binding="const-instBeqNatWrapper" data-verso-hover="1620" id="instBeqNatWrapper">instBeqNatWrapper</span> <span class="unknown token" data-binding="">:</span> <a href="Type-Classes/Basic-Classes/#BEq___mk"><span class="const token" data-binding="const-BEq" data-verso-hover="1342">BEq</span></a> <span class="const token" data-binding="const-NatWrapper" data-verso-hover="1614">NatWrapper</span> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-3028">where</span>
  <a href="Type-Classes/Basic-Classes/#BEq___mk"><span class="const token" data-binding="const-BEq.beq" data-verso-hover="1616">beq</span></a>
    <span class="unknown token" data-binding="">|</span> <span class="unknown token" data-binding="">âŸ¨</span><span class="var token" data-binding="var-_uniq.37" data-verso-hover="7">x</span><span class="unknown token" data-binding="">âŸ©</span><span class="unknown token" data-binding="">,</span> <span class="unknown token" data-binding="">âŸ¨</span><span class="var token" data-binding="var-_uniq.38" data-verso-hover="7">y</span><span class="unknown token" data-binding="">âŸ©</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="var token" data-binding="var-_uniq.37" data-verso-hover="7">x</span> <span class="unknown token" data-binding="">==</span> <span class="var token" data-binding="var-_uniq.38" data-verso-hover="7">y</span>

<span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-3074">instance</span> <span class="unknown token" data-binding="">:</span> <a href="Type-Classes/Basic-Classes/#BEq___mk"><span class="const token" data-binding="const-BEq" data-verso-hover="1342">BEq</span></a> <span class="const token" data-binding="const-NatWrapper" data-verso-hover="1614">NatWrapper</span> <span class="unknown token" data-binding="">:=</span>
  <span class="unknown token" data-binding="const-BEq.mk" data-verso-hover="1618">âŸ¨</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-3108">fun</span> <span class="var token" data-binding="var-_uniq.159" data-verso-hover="1619">x</span> <span class="var token" data-binding="var-_uniq.162" data-verso-hover="1619">y</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="var token" data-binding="var-_uniq.159" data-verso-hover="1619">x</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-NatWrapper.val" data-verso-hover="1615">val</span> <span class="unknown token" data-binding="">==</span> <span class="var token" data-binding="var-_uniq.162" data-verso-hover="1619">y</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-NatWrapper.val" data-verso-hover="1615">val</span><span class="unknown token" data-binding="const-BEq.mk" data-verso-hover="1618">âŸ©</span>

<span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-3138">instance</span> <span class="unknown token" data-binding="">:</span> <a href="Type-Classes/Basic-Classes/#BEq___mk"><span class="const token" data-binding="const-BEq" data-verso-hover="1342">BEq</span></a> <span class="const token" data-binding="const-NatWrapper" data-verso-hover="1614">NatWrapper</span> <span class="unknown token" data-binding="">:=</span>
  <span class="unknown token" data-binding="const-BEq.mk" data-verso-hover="1618">âŸ¨</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-3172">fun</span> <span class="unknown token" data-binding="">âŸ¨</span><span class="var token" data-binding="var-_uniq.216" data-verso-hover="7">x</span><span class="unknown token" data-binding="">âŸ©</span> <span class="unknown token" data-binding="">âŸ¨</span><span class="var token" data-binding="var-_uniq.226" data-verso-hover="7">y</span><span class="unknown token" data-binding="">âŸ©</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="var token" data-binding="var-_uniq.216" data-verso-hover="7">x</span> <span class="unknown token" data-binding="">==</span> <span class="var token" data-binding="var-_uniq.226" data-verso-hover="7">y</span><span class="unknown token" data-binding="const-BEq.mk" data-verso-hover="1618">âŸ©</span>
<span class="unknown token" data-binding=""></span></code></div>
              </details><section>
              <h2 id="recursive-instances">
                11.2.1.Â Recursive Instances<span class="permalink-widget inline"><a href="find/?domain=Verso.Genre.Manual.section&name=recursive-instances" title="Permalink">ðŸ”—</a></span></h2>
              <p>
                Functions defined in <span class="hl lean keyword-of"><code class="hover-info"><code>Lean.Parser.Command.declaration : command</code></code><code class="kw">where</code></span> structure definition syntax are not recursive.
Because instance declaration is a version of structure definition, type class methods are also not recursive by default.
Instances for recursive inductive types are common, however.
There is a standard idiom to work around this limitation: define a recursive function independently of the instance, and then refer to it in the instance definition.
By convention, these recursive functions have the name of the corresponding method, but are defined in the type's namespace.</p>
              <details class="example"><summary class="description">Instances are not recursive</summary><div class="example-content">
                  <p>
                    Given this definition of <code class="hl lean inline" data-lean-context="examples"><a href="Type-Classes/Instance-Declarations/#NatTree___leaf"><span class="const token" data-binding="const-NatTree" data-verso-hover="1621">NatTree</span></a></code>:</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.inductive-3964" data-verso-hover="20">inductive</span> <span class="const token" data-binding="const-NatTree" data-verso-hover="1621" id="NatTree___leaf">NatTree</span> <span class="keyword token" data-binding="kw-occ-null-3982">where</span>
  <span class="unknown token" data-binding="">|</span> <span class="const token" data-binding="const-NatTree.leaf" data-verso-hover="1622" id="NatTree___leaf">leaf</span>
  <span class="unknown token" data-binding="">|</span> <span class="const token" data-binding="const-NatTree.branch" data-verso-hover="1623" id="NatTree___leaf">branch</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.5" data-verso-hover="1624">left</span> <span class="unknown token" data-binding="">:</span> <a href="Type-Classes/Instance-Declarations/#NatTree___leaf"><span class="const token" data-binding="const-NatTree" data-verso-hover="1621">NatTree</span></a><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.7" data-verso-hover="7">val</span> <span class="unknown token" data-binding="">:</span> <a href="Basic-Types/Natural-Numbers/#Nat___zero"><span class="const token" data-binding="const-Nat" data-verso-hover="22">Nat</span></a><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.9" data-verso-hover="1624">right</span> <span class="unknown token" data-binding="">:</span> <a href="Type-Classes/Instance-Declarations/#NatTree___leaf"><span class="const token" data-binding="const-NatTree" data-verso-hover="1621">NatTree</span></a><span class="unknown token" data-binding="">)</span>
<span class="unknown token" data-binding=""></span></code><p>
                    the following <code class="hl lean inline" data-lean-context="examples"><a href="Type-Classes/Basic-Classes/#BEq___mk"><span class="const token" data-binding="const-BEq" data-verso-hover="1342">BEq</span></a></code> instance fails:</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-4150">instance</span> <span class="unknown token" data-binding="">:</span> <a href="Type-Classes/Basic-Classes/#BEq___mk"><span class="const token" data-binding="const-BEq" data-verso-hover="1342">BEq</span></a> <a href="Type-Classes/Instance-Declarations/#NatTree___leaf"><span class="const token" data-binding="const-NatTree" data-verso-hover="1621">NatTree</span></a> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-4173">where</span>
  <a href="Type-Classes/Basic-Classes/#BEq___mk"><span class="const token" data-binding="const-BEq.beq" data-verso-hover="1625">beq</span></a>
    <span class="unknown token" data-binding="">|</span> <a href="Type-Classes/Instance-Declarations/#NatTree___leaf"><span class="const token" data-binding="const-NatTree.leaf" data-verso-hover="1622">.leaf</span></a><span class="unknown token" data-binding="">,</span> <a href="Type-Classes/Instance-Declarations/#NatTree___leaf"><span class="const token" data-binding="const-NatTree.leaf" data-verso-hover="1622">.leaf</span></a> <span class="unknown token" data-binding="">=&gt;</span> <a href="Basic-Types/Booleans/#Bool___false"><span class="const token" data-binding="const-Bool.true" data-verso-hover="41">true</span></a>
    <span class="unknown token" data-binding="">|</span> <a href="Type-Classes/Instance-Declarations/#NatTree___leaf"><span class="const token" data-binding="const-NatTree.branch" data-verso-hover="1623">.branch</span></a> <span class="var token" data-binding="var-_uniq.59" data-verso-hover="1624">l1</span> <span class="var token" data-binding="var-_uniq.60" data-verso-hover="7">v1</span> <span class="var token" data-binding="var-_uniq.61" data-verso-hover="1624">r1</span><span class="unknown token" data-binding="">,</span> <a href="Type-Classes/Instance-Declarations/#NatTree___leaf"><span class="const token" data-binding="const-NatTree.branch" data-verso-hover="1623">.branch</span></a> <span class="var token" data-binding="var-_uniq.62" data-verso-hover="1624">l2</span> <span class="var token" data-binding="var-_uniq.63" data-verso-hover="7">v2</span> <span class="var token" data-binding="var-_uniq.64" data-verso-hover="1624">r2</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="has-info error"><span class="hover-container"><span class="hover-info messages"><code class="message error">failed to synthesize
  BEq NatTree

Additional diagnostic information may be available using the `set_option diagnostics true` command.</code></span></span><span class="var token" data-binding="var-_uniq.59" data-verso-hover="1624">l1</span></span> <span class="unknown token" data-binding="">==</span> <span class="var token" data-binding="var-_uniq.62" data-verso-hover="1624">l2</span> <span class="unknown token" data-binding="">&&</span> <span class="var token" data-binding="var-_uniq.60" data-verso-hover="7">v1</span> <span class="unknown token" data-binding="">==</span> <span class="var token" data-binding="var-_uniq.63" data-verso-hover="7">v2</span> <span class="unknown token" data-binding="">&&</span> <span class="has-info error"><span class="hover-container"><span class="hover-info messages"><code class="message error">failed to synthesize
  BEq NatTree

Additional diagnostic information may be available using the `set_option diagnostics true` command.</code></span></span><span class="var token" data-binding="var-_uniq.61" data-verso-hover="1624">r1</span></span> <span class="unknown token" data-binding="">==</span> <span class="var token" data-binding="var-_uniq.64" data-verso-hover="1624">r2</span>
    <span class="unknown token" data-binding="">|</span> <span class="unknown token" data-binding="">_</span><span class="unknown token" data-binding="">,</span> <span class="unknown token" data-binding="">_</span> <span class="unknown token" data-binding="">=&gt;</span> <a href="Basic-Types/Booleans/#Bool___false"><span class="const token" data-binding="const-Bool.false" data-verso-hover="40">false</span></a>
<span class="unknown token" data-binding=""></span></code><p>
                    with errors in both the left and right recursive calls that read:</p>
                  <div class="error">
                    <pre>failed to synthesize
  BEq NatTree

Additional diagnostic information may be available using the `set_option diagnostics true` command.
</pre></div>
                  <p>
                    Given a suitable recursive function, such as <code class="hl lean inline" data-lean-context="examples"><a href="Type-Classes/Instance-Declarations/#NatTree___beq"><span class="const token" data-binding="const-NatTree.beq" data-verso-hover="1626">NatTree.beq</span></a></code>:</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-4622">def</span> <span class="const token" data-binding="const-NatTree.beq" data-verso-hover="1626" id="NatTree___beq">NatTree.beq</span> <span class="unknown token" data-binding="">:</span> <a href="Type-Classes/Instance-Declarations/#NatTree___leaf"><span class="const token" data-binding="const-NatTree" data-verso-hover="1621">NatTree</span></a> <span class="unknown token" data-binding="">â†’</span> <a href="Type-Classes/Instance-Declarations/#NatTree___leaf"><span class="const token" data-binding="const-NatTree" data-verso-hover="1621">NatTree</span></a> <span class="unknown token" data-binding="">â†’</span> <a href="Basic-Types/Booleans/#Bool___false"><span class="const token" data-binding="const-Bool" data-verso-hover="155">Bool</span></a>
  <span class="unknown token" data-binding="">|</span> <a href="Type-Classes/Instance-Declarations/#NatTree___leaf"><span class="const token" data-binding="const-NatTree.leaf" data-verso-hover="1622">.leaf</span></a><span class="unknown token" data-binding="">,</span> <a href="Type-Classes/Instance-Declarations/#NatTree___leaf"><span class="const token" data-binding="const-NatTree.leaf" data-verso-hover="1622">.leaf</span></a> <span class="unknown token" data-binding="">=&gt;</span> <a href="Basic-Types/Booleans/#Bool___false"><span class="const token" data-binding="const-Bool.true" data-verso-hover="41">true</span></a>
  <span class="unknown token" data-binding="">|</span> <a href="Type-Classes/Instance-Declarations/#NatTree___leaf"><span class="const token" data-binding="const-NatTree.branch" data-verso-hover="1623">.branch</span></a> <span class="var token" data-binding="var-_uniq.53" data-verso-hover="1624">l1</span> <span class="var token" data-binding="var-_uniq.54" data-verso-hover="7">v1</span> <span class="var token" data-binding="var-_uniq.55" data-verso-hover="1624">r1</span><span class="unknown token" data-binding="">,</span> <a href="Type-Classes/Instance-Declarations/#NatTree___leaf"><span class="const token" data-binding="const-NatTree.branch" data-verso-hover="1623">.branch</span></a> <span class="var token" data-binding="var-_uniq.56" data-verso-hover="1624">l2</span> <span class="var token" data-binding="var-_uniq.57" data-verso-hover="7">v2</span> <span class="var token" data-binding="var-_uniq.58" data-verso-hover="1624">r2</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="var token" data-binding="var-_uniq.53" data-verso-hover="1624">l1</span> <span class="unknown token" data-binding="">==</span> <span class="var token" data-binding="var-_uniq.56" data-verso-hover="1624">l2</span> <span class="unknown token" data-binding="">&&</span> <span class="var token" data-binding="var-_uniq.54" data-verso-hover="7">v1</span> <span class="unknown token" data-binding="">==</span> <span class="var token" data-binding="var-_uniq.57" data-verso-hover="7">v2</span> <span class="unknown token" data-binding="">&&</span> <span class="var token" data-binding="var-_uniq.55" data-verso-hover="1624">r1</span> <span class="unknown token" data-binding="">==</span> <span class="var token" data-binding="var-_uniq.58" data-verso-hover="1624">r2</span>
  <span class="unknown token" data-binding="">|</span> <span class="unknown token" data-binding="">_</span><span class="unknown token" data-binding="">,</span> <span class="unknown token" data-binding="">_</span> <span class="unknown token" data-binding="">=&gt;</span> <a href="Basic-Types/Booleans/#Bool___false"><span class="const token" data-binding="const-Bool.false" data-verso-hover="40">false</span></a>
<span class="unknown token" data-binding=""></span></code><p>
                    the instance can be created in a second step:</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-4845">instance</span> <span class="unknown token" data-binding="">:</span> <a href="Type-Classes/Basic-Classes/#BEq___mk"><span class="const token" data-binding="const-BEq" data-verso-hover="1342">BEq</span></a> <a href="Type-Classes/Instance-Declarations/#NatTree___leaf"><span class="const token" data-binding="const-NatTree" data-verso-hover="1621">NatTree</span></a> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-4868">where</span>
  <a href="Type-Classes/Basic-Classes/#BEq___mk"><span class="const token" data-binding="const-BEq.beq" data-verso-hover="1625">beq</span></a> <span class="unknown token" data-binding="">:=</span> <a href="Type-Classes/Instance-Declarations/#NatTree___beq"><span class="const token" data-binding="const-NatTree.beq" data-verso-hover="1626">NatTree.beq</span></a>
<span class="unknown token" data-binding=""></span></code><p>
                    or, equivalently, using anonymous constructor syntax:</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-4961">instance</span> <span class="unknown token" data-binding="">:</span> <a href="Type-Classes/Basic-Classes/#BEq___mk"><span class="const token" data-binding="const-BEq" data-verso-hover="1342">BEq</span></a> <a href="Type-Classes/Instance-Declarations/#NatTree___leaf"><span class="const token" data-binding="const-NatTree" data-verso-hover="1621">NatTree</span></a> <span class="unknown token" data-binding="">:=</span> <span class="unknown token" data-binding="const-BEq.mk" data-verso-hover="1618">âŸ¨</span><a href="Type-Classes/Instance-Declarations/#NatTree___beq"><span class="const token" data-binding="const-NatTree.beq" data-verso-hover="1626">NatTree.beq</span></a><span class="unknown token" data-binding="const-BEq.mk" data-verso-hover="1618">âŸ©</span>
<span class="unknown token" data-binding=""></span></code></div>
                </details><p>
                Furthermore, instances are not available for instance synthesis during their own definitions.
They are first marked as being available for instance synthesis after they are defined.
Nested inductive types, in which the recursive occurrence of the type occurs as a parameter to some other inductive type, may require an instance to be available to write even the recursive function.
The standard idiom to work around this limitation is to create a local instance in a recursively-defined function that includes a reference to the function being defined, taking advantage of the fact that instance synthesis may use every binding in the local context with the right type.</p>
              <details class="example"><summary class="description">Instances for nested types</summary><div class="example-content">
                  <p>
                    In this definition of <code class="hl lean inline" data-lean-context="examples"><a href="Type-Classes/Instance-Declarations/#NatRoseTree___node"><span class="const token" data-binding="const-NatRoseTree" data-verso-hover="1627">NatRoseTree</span></a></code>, the type being defined occurs nested under another inductive type constructor (<code class="hl lean inline" data-lean-context="examples"><a href="Basic-Types/Arrays/#Array___mk"><span class="const token" data-binding="const-Array" data-verso-hover="159">Array</span></a></code>):</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.inductive-5873" data-verso-hover="20">inductive</span> <span class="const token" data-binding="const-NatRoseTree" data-verso-hover="1627" id="NatRoseTree___node">NatRoseTree</span> <span class="keyword token" data-binding="kw-occ-null-5895">where</span>
  <span class="unknown token" data-binding="">|</span> <span class="const token" data-binding="const-NatRoseTree.node" data-verso-hover="1628" id="NatRoseTree___node">node</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.5" data-verso-hover="7">val</span> <span class="unknown token" data-binding="">:</span> <a href="Basic-Types/Natural-Numbers/#Nat___zero"><span class="const token" data-binding="const-Nat" data-verso-hover="22">Nat</span></a><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.8" data-verso-hover="1629">children</span> <span class="unknown token" data-binding="">:</span> <a href="Basic-Types/Arrays/#Array___mk"><span class="const token" data-binding="const-Array" data-verso-hover="159">Array</span></a> <a href="Type-Classes/Instance-Declarations/#NatRoseTree___node"><span class="const token" data-binding="const-NatRoseTree" data-verso-hover="1627">NatRoseTree</span></a><span class="unknown token" data-binding="">)</span>

<span class="unknown token" data-binding=""></span></code><p>
                    Checking the equality of rose trees requires checking equality of arrays.
However, instances are not typically available for instance synthesis during their own definitions, so the following definition fails, even though <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-NatRoseTree.beq" data-verso-hover="1630">NatRoseTree.beq</span></code> is a recursive function and is in scope in its own definition.</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-6335">def</span> <span class="const token" data-binding="const-NatRoseTree.beq" data-verso-hover="1630">NatRoseTree.beq</span> <span class="unknown token" data-binding="">:</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.3" data-verso-hover="1631">tree1</span> <span class="var token" data-binding="var-_uniq.5" data-verso-hover="1631">tree2</span> <span class="unknown token" data-binding="">:</span> <a href="Type-Classes/Instance-Declarations/#NatRoseTree___node"><span class="const token" data-binding="const-NatRoseTree" data-verso-hover="1627">NatRoseTree</span></a><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">â†’</span> <a href="Basic-Types/Booleans/#Bool___false"><span class="const token" data-binding="const-Bool" data-verso-hover="155">Bool</span></a>
  <span class="unknown token" data-binding="">|</span> <a href="Type-Classes/Instance-Declarations/#NatRoseTree___node"><span class="const token" data-binding="const-NatRoseTree.node" data-verso-hover="1628">.node</span></a> <span class="var token" data-binding="var-_uniq.38" data-verso-hover="7">val1</span> <span class="var token" data-binding="var-_uniq.39" data-verso-hover="1629">children1</span><span class="unknown token" data-binding="">,</span> <a href="Type-Classes/Instance-Declarations/#NatRoseTree___node"><span class="const token" data-binding="const-NatRoseTree.node" data-verso-hover="1628">.node</span></a> <span class="var token" data-binding="var-_uniq.40" data-verso-hover="7">val2</span> <span class="var token" data-binding="var-_uniq.41" data-verso-hover="1629">children2</span> <span class="unknown token" data-binding="">=&gt;</span>
    <span class="var token" data-binding="var-_uniq.38" data-verso-hover="7">val1</span> <span class="unknown token" data-binding="">==</span> <span class="var token" data-binding="var-_uniq.40" data-verso-hover="7">val2</span> <span class="unknown token" data-binding="">&&</span>
    <span class="has-info error"><span class="hover-container"><span class="hover-info messages"><code class="message error">failed to synthesize
  BEq (Array NatRoseTree)

Additional diagnostic information may be available using the `set_option diagnostics true` command.</code></span></span><span class="var token" data-binding="var-_uniq.39" data-verso-hover="1629">children1</span></span> <span class="unknown token" data-binding="">==</span> <span class="var token" data-binding="var-_uniq.41" data-verso-hover="1629">children2</span>
<span class="unknown token" data-binding=""></span></code><div class="error">
                    <pre>failed to synthesize
  BEq (Array NatRoseTree)

Additional diagnostic information may be available using the `set_option diagnostics true` command.
</pre></div>
                  <p>
                    To solve this, a local <code class="hl lean inline" data-lean-context="examples"><a href="Type-Classes/Basic-Classes/#BEq___mk"><span class="const token" data-binding="const-BEq" data-verso-hover="1342">BEq</span></a> <a href="Type-Classes/Instance-Declarations/#NatRoseTree___node"><span class="const token" data-binding="const-NatRoseTree" data-verso-hover="1627">NatRoseTree</span></a></code> instance may be <code>let</code>-bound:</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.partial-6766">partial</span> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-6774">def</span> <span class="const token" data-binding="const-NatRoseTree.beq" data-verso-hover="1630">NatRoseTree.beq</span> <span class="unknown token" data-binding="">:</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.3" data-verso-hover="1631">tree1</span> <span class="var token" data-binding="var-_uniq.5" data-verso-hover="1631">tree2</span> <span class="unknown token" data-binding="">:</span> <a href="Type-Classes/Instance-Declarations/#NatRoseTree___node"><span class="const token" data-binding="const-NatRoseTree" data-verso-hover="1627">NatRoseTree</span></a><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">â†’</span> <a href="Basic-Types/Booleans/#Bool___false"><span class="const token" data-binding="const-Bool" data-verso-hover="155">Bool</span></a>
  <span class="unknown token" data-binding="">|</span> <a href="Type-Classes/Instance-Declarations/#NatRoseTree___node"><span class="const token" data-binding="const-NatRoseTree.node" data-verso-hover="1628">.node</span></a> <span class="var token" data-binding="var-_uniq.38" data-verso-hover="7">val1</span> <span class="var token" data-binding="var-_uniq.39" data-verso-hover="1629">children1</span><span class="unknown token" data-binding="">,</span> <a href="Type-Classes/Instance-Declarations/#NatRoseTree___node"><span class="const token" data-binding="const-NatRoseTree.node" data-verso-hover="1628">.node</span></a> <span class="var token" data-binding="var-_uniq.40" data-verso-hover="7">val2</span> <span class="var token" data-binding="var-_uniq.41" data-verso-hover="1629">children2</span> <span class="unknown token" data-binding="">=&gt;</span>
    <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.let-6887" data-verso-hover="108">let</span> <span class="unknown token" data-binding="">_</span> <span class="unknown token" data-binding="">:</span> <a href="Type-Classes/Basic-Classes/#BEq___mk"><span class="const token" data-binding="const-BEq" data-verso-hover="1342">BEq</span></a> <a href="Type-Classes/Instance-Declarations/#NatRoseTree___node"><span class="const token" data-binding="const-NatRoseTree" data-verso-hover="1627">NatRoseTree</span></a> <span class="unknown token" data-binding="">:=</span> <span class="unknown token" data-binding="const-BEq.mk" data-verso-hover="1618">âŸ¨</span><span class="const token" data-binding="const-NatRoseTree.beq" data-verso-hover="1630">NatRoseTree.beq</span><span class="unknown token" data-binding="const-BEq.mk" data-verso-hover="1618">âŸ©</span>
    <span class="var token" data-binding="var-_uniq.38" data-verso-hover="7">val1</span> <span class="unknown token" data-binding="">==</span> <span class="var token" data-binding="var-_uniq.40" data-verso-hover="7">val2</span> <span class="unknown token" data-binding="">&&</span>
    <span class="var token" data-binding="var-_uniq.39" data-verso-hover="1629">children1</span> <span class="unknown token" data-binding="">==</span> <span class="var token" data-binding="var-_uniq.41" data-verso-hover="1629">children2</span>
<span class="unknown token" data-binding=""></span></code><p>
                    The use of array equality on the children finds the let-bound instance during instance synthesis.</p>
                  </div>
                </details></section>
            <section>
              <h2 id="class-inductive-instances">
                11.2.2.Â Instances of <code>class inductive</code>s<span class="permalink-widget inline"><a href="find/?domain=Verso.Genre.Manual.section&name=class-inductive-instances" title="Permalink">ðŸ”—</a></span></h2>
              <p>
                Many instances have function types: any instance that itself recursively invokes instance search is a function, as is any instance with implicit parameters.
While most instances only project method implementations from their own instance parameters, instances of class inductive types typically pattern-match one or more of their arguments, allowing the instance to select the appropriate constructor.
This is done using ordinary Lean function syntax.
Just as with other instances, the function in question is not available for instance synthesis in its own definition.</p>
              <details class="example"><summary class="description">An instance for a sum class</summary><div class="example-content">
                  <p>
                    Because <code class="hl lean inline" data-lean-context="examples"><a href="Type-Classes/Basic-Classes/#DecidableEq"><span class="const token" data-binding="const-DecidableEq" data-verso-hover="1632">DecidableEq</span></a> <span class="const token" data-binding="const-Î±" data-verso-hover="164">Î±</span></code> is an abbreviation for <code class="hl lean inline" data-lean-context="examples"><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.14" data-verso-hover="46">a</span> <span class="var token" data-binding="var-_uniq.16" data-verso-hover="46">b</span> <span class="unknown token" data-binding="">:</span> <span class="const token" data-binding="const-Î±" data-verso-hover="164">Î±</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">â†’</span> <a href="Type-Classes/Basic-Classes/#Decidable___isFalse"><span class="const token" data-binding="const-Decidable" data-verso-hover="465">Decidable</span></a> <span class="unknown token" data-binding="">(</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16">Eq</span></a> <span class="var token" data-binding="var-_uniq.14" data-verso-hover="46">a</span> <span class="var token" data-binding="var-_uniq.16" data-verso-hover="46">b</span><span class="unknown token" data-binding="">)</span></code>, its arguments can be used directly, as in this example:</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.inductive-7997" data-verso-hover="20">inductive</span> <span class="const token" data-binding="const-ThreeChoices" data-verso-hover="1633" id="ThreeChoices___yes">ThreeChoices</span> <span class="keyword token" data-binding="kw-occ-null-8020">where</span>
  <span class="unknown token" data-binding="">|</span> <span class="const token" data-binding="const-ThreeChoices.yes" data-verso-hover="1634" id="ThreeChoices___yes">yes</span> <span class="unknown token" data-binding="">|</span> <span class="const token" data-binding="const-ThreeChoices.no" data-verso-hover="1635" id="ThreeChoices___yes">no</span> <span class="unknown token" data-binding="">|</span> <span class="const token" data-binding="const-ThreeChoices.maybe" data-verso-hover="1636" id="ThreeChoices___yes">maybe</span>

<span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-8048">instance</span> <span class="unknown token" data-binding="">:</span> <a href="Type-Classes/Basic-Classes/#DecidableEq"><span class="const token" data-binding="const-DecidableEq" data-verso-hover="1632">DecidableEq</span></a> <a href="Type-Classes/Instance-Declarations/#ThreeChoices___yes"><span class="const token" data-binding="const-ThreeChoices" data-verso-hover="1633">ThreeChoices</span></a>
  <span class="unknown token" data-binding="">|</span> <a href="Type-Classes/Instance-Declarations/#ThreeChoices___yes"><span class="const token" data-binding="const-ThreeChoices.yes" data-verso-hover="1634">.yes</span></a><span class="unknown token" data-binding="">,</span>   <a href="Type-Classes/Instance-Declarations/#ThreeChoices___yes"><span class="const token" data-binding="const-ThreeChoices.yes" data-verso-hover="1634">.yes</span></a>   <span class="unknown token" data-binding="">=&gt;</span>
    <a href="Type-Classes/Basic-Classes/#Decidable___isFalse"><span class="const token" data-binding="const-Decidable.isTrue" data-verso-hover="1637">.isTrue</span></a> <a href="Basic-Propositions/Propositional-Equality/#rfl-next"><span class="const token" data-binding="const-rfl" data-verso-hover="156">rfl</span></a>
  <span class="unknown token" data-binding="">|</span> <a href="Type-Classes/Instance-Declarations/#ThreeChoices___yes"><span class="const token" data-binding="const-ThreeChoices.no" data-verso-hover="1635">.no</span></a><span class="unknown token" data-binding="">,</span>    <a href="Type-Classes/Instance-Declarations/#ThreeChoices___yes"><span class="const token" data-binding="const-ThreeChoices.no" data-verso-hover="1635">.no</span></a>    <span class="unknown token" data-binding="">=&gt;</span>
    <a href="Type-Classes/Basic-Classes/#Decidable___isFalse"><span class="const token" data-binding="const-Decidable.isTrue" data-verso-hover="1637">.isTrue</span></a> <a href="Basic-Propositions/Propositional-Equality/#rfl-next"><span class="const token" data-binding="const-rfl" data-verso-hover="156">rfl</span></a>
  <span class="unknown token" data-binding="">|</span> <a href="Type-Classes/Instance-Declarations/#ThreeChoices___yes"><span class="const token" data-binding="const-ThreeChoices.maybe" data-verso-hover="1636">.maybe</span></a><span class="unknown token" data-binding="">,</span> <a href="Type-Classes/Instance-Declarations/#ThreeChoices___yes"><span class="const token" data-binding="const-ThreeChoices.maybe" data-verso-hover="1636">.maybe</span></a> <span class="unknown token" data-binding="">=&gt;</span>
    <a href="Type-Classes/Basic-Classes/#Decidable___isFalse"><span class="const token" data-binding="const-Decidable.isTrue" data-verso-hover="1637">.isTrue</span></a> <a href="Basic-Propositions/Propositional-Equality/#rfl-next"><span class="const token" data-binding="const-rfl" data-verso-hover="156">rfl</span></a>
  <span class="unknown token" data-binding="">|</span> <a href="Type-Classes/Instance-Declarations/#ThreeChoices___yes"><span class="const token" data-binding="const-ThreeChoices.yes" data-verso-hover="1634">.yes</span></a><span class="unknown token" data-binding="">,</span>   <a href="Type-Classes/Instance-Declarations/#ThreeChoices___yes"><span class="const token" data-binding="const-ThreeChoices.maybe" data-verso-hover="1636">.maybe</span></a> <span class="unknown token" data-binding="">|</span> <a href="Type-Classes/Instance-Declarations/#ThreeChoices___yes"><span class="const token" data-binding="const-ThreeChoices.yes" data-verso-hover="1634">.yes</span></a><span class="unknown token" data-binding="">,</span>   <a href="Type-Classes/Instance-Declarations/#ThreeChoices___yes"><span class="const token" data-binding="const-ThreeChoices.no" data-verso-hover="1635">.no</span></a>
  <span class="unknown token" data-binding="">|</span> <a href="Type-Classes/Instance-Declarations/#ThreeChoices___yes"><span class="const token" data-binding="const-ThreeChoices.maybe" data-verso-hover="1636">.maybe</span></a><span class="unknown token" data-binding="">,</span> <a href="Type-Classes/Instance-Declarations/#ThreeChoices___yes"><span class="const token" data-binding="const-ThreeChoices.yes" data-verso-hover="1634">.yes</span></a>   <span class="unknown token" data-binding="">|</span> <a href="Type-Classes/Instance-Declarations/#ThreeChoices___yes"><span class="const token" data-binding="const-ThreeChoices.maybe" data-verso-hover="1636">.maybe</span></a><span class="unknown token" data-binding="">,</span> <a href="Type-Classes/Instance-Declarations/#ThreeChoices___yes"><span class="const token" data-binding="const-ThreeChoices.no" data-verso-hover="1635">.no</span></a>
  <span class="unknown token" data-binding="">|</span> <a href="Type-Classes/Instance-Declarations/#ThreeChoices___yes"><span class="const token" data-binding="const-ThreeChoices.no" data-verso-hover="1635">.no</span></a><span class="unknown token" data-binding="">,</span>    <a href="Type-Classes/Instance-Declarations/#ThreeChoices___yes"><span class="const token" data-binding="const-ThreeChoices.yes" data-verso-hover="1634">.yes</span></a>   <span class="unknown token" data-binding="">|</span> <a href="Type-Classes/Instance-Declarations/#ThreeChoices___yes"><span class="const token" data-binding="const-ThreeChoices.no" data-verso-hover="1635">.no</span></a><span class="unknown token" data-binding="">,</span>    <a href="Type-Classes/Instance-Declarations/#ThreeChoices___yes"><span class="const token" data-binding="const-ThreeChoices.maybe" data-verso-hover="1636">.maybe</span></a> <span class="unknown token" data-binding="">=&gt;</span>
    <a href="Type-Classes/Basic-Classes/#Decidable___isFalse"><span class="const token" data-binding="const-Decidable.isFalse" data-verso-hover="1638">.isFalse</span></a> <a href="Terms/Pattern-Matching/#Lean___Parser___Term___nofun"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.nofun-8316">nofun</span></a>

<span class="unknown token" data-binding=""></span></code></div>
                </details><details class="example"><summary class="description">A recursive instance for a sum class</summary><div class="example-content">
                  <p>
                    The type <code class="hl lean inline" data-lean-context="examples"><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList" data-verso-hover="1639">StringList</span></a></code> represents monomorphic lists of strings:</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.inductive-8477" data-verso-hover="20">inductive</span> <span class="const token" data-binding="const-StringList" data-verso-hover="1639" id="StringList___nil">StringList</span> <span class="keyword token" data-binding="kw-occ-null-8498">where</span>
  <span class="unknown token" data-binding="">|</span> <span class="const token" data-binding="const-StringList.nil" data-verso-hover="1640" id="StringList___nil">nil</span>
  <span class="unknown token" data-binding="">|</span> <span class="const token" data-binding="const-StringList.cons" data-verso-hover="1641" id="StringList___nil">cons</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.5" data-verso-hover="312">hd</span> <span class="unknown token" data-binding="">:</span> <a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.7" data-verso-hover="1642">tl</span> <span class="unknown token" data-binding="">:</span> <a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList" data-verso-hover="1639">StringList</span></a><span class="unknown token" data-binding="">)</span>
<span class="unknown token" data-binding=""></span></code><p>
                    In the following attempt at defining a <code class="hl lean inline" data-lean-context="examples"><a href="Type-Classes/Basic-Classes/#DecidableEq"><span class="const token" data-binding="const-DecidableEq" data-verso-hover="1632">DecidableEq</span></a></code> instance, instance synthesis invoked while elaborating the inner <span class="hl lean keyword-of"><code class="hover-info"><code>termIfThenElse : term</code><span class="sep"></span><code class="docstring">`if c then t else e` is notation for `ite c t e`, "if-then-else", which decides to
return `t` or `e` depending on whether `c` is true or false. The explicit argument
`c : Prop` does not have any actual computational content, but there is an additional
`[Decidable c]` argument synthesized by typeclass inference which actually
determines how to evaluate `c` to true or false. Write `if h : c then t else e`
instead for a "dependent if-then-else" `dite`, which allows `t`/`e` to use the fact
that `c` is true/false.
</code></code><a href="Terms/Conditionals/#termIfThenElse"><code class="kw">if</code></a></span> fails because the instance is not available for instance synthesis in its own definition:</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-8868">instance</span> <span class="unknown token" data-binding="">:</span> <a href="Type-Classes/Basic-Classes/#DecidableEq"><span class="const token" data-binding="const-DecidableEq" data-verso-hover="1632">DecidableEq</span></a> <a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList" data-verso-hover="1639">StringList</span></a>
  <span class="unknown token" data-binding="">|</span> <a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList.nil" data-verso-hover="1640">.nil</span></a><span class="unknown token" data-binding="">,</span> <a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList.nil" data-verso-hover="1640">.nil</span></a> <span class="unknown token" data-binding="">=&gt;</span> <a href="Type-Classes/Basic-Classes/#Decidable___isFalse"><span class="const token" data-binding="const-Decidable.isTrue" data-verso-hover="1637">.isTrue</span></a> <a href="Basic-Propositions/Propositional-Equality/#rfl-next"><span class="const token" data-binding="const-rfl" data-verso-hover="156">rfl</span></a>
  <span class="unknown token" data-binding="">|</span> <a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList.cons" data-verso-hover="1641">.cons</span></a> <span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span> <span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span><span class="unknown token" data-binding="">,</span> <a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList.cons" data-verso-hover="1641">.cons</span></a> <span class="var token" data-binding="var-_uniq.54" data-verso-hover="312">h2</span> <span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span> <span class="unknown token" data-binding="">=&gt;</span>
    <a href="Terms/Conditionals/#termDepIfThenElse"><span class="keyword token" data-binding="kw-occ-termDepIfThenElse-8968" data-verso-hover="1005">if</span></a> <span class="var token" data-binding="var-_uniq.71" data-verso-hover="1643">h</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span> <span class="unknown token" data-binding="">=</span> <span class="var token" data-binding="var-_uniq.54" data-verso-hover="312">h2</span> <a href="Terms/Conditionals/#termDepIfThenElse"><span class="keyword token" data-binding="kw-occ-termDepIfThenElse-8968" data-verso-hover="1005">then</span></a>
      <span class="has-info error"><span class="hover-container"><span class="hover-info messages"><code class="message error">failed to synthesize
  Decidable (t1 = t2)

Additional diagnostic information may be available using the `set_option diagnostics true` command.</code></span></span><a href="Terms/Conditionals/#termDepIfThenElse"><span class="keyword token" data-binding="kw-occ-termDepIfThenElse-8994" data-verso-hover="1005">if</span></a></span> <span class="var token" data-binding="var-_uniq.81" data-verso-hover="1644">h'</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span> <span class="unknown token" data-binding="">=</span> <span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span> <a href="Terms/Conditionals/#termDepIfThenElse"><span class="keyword token" data-binding="kw-occ-termDepIfThenElse-8994" data-verso-hover="1005">then</span></a>
        <a href="Type-Classes/Basic-Classes/#Decidable___isFalse"><span class="const token" data-binding="const-Decidable.isTrue" data-verso-hover="1637">.isTrue</span></a> <span class="unknown token" data-binding="">(</span><span class="tactic"><label for="tactic-state-11634457877518338498-9032-9034"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-9032" data-verso-hover="10">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-11634457877518338498-9032-9034"><span class="tactic-state"><span class="goal"><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span></span><span class="colon">:</span><span class="type"><a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span></span><span class="colon">:</span><span class="type"><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList" data-verso-hover="1639">StringList</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.54" data-verso-hover="312">h2</span></span><span class="colon">:</span><span class="type"><a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span></span><span class="colon">:</span><span class="type"><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList" data-verso-hover="1639">StringList</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.71" data-verso-hover="1643">h</span></span><span class="colon">:</span><span class="type"><span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><span class="var token" data-binding="var-_uniq.54" data-verso-hover="312">h2</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.81" data-verso-hover="1644">h'</span></span><span class="colon">:</span><span class="type"><span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span></span></span></span><span class="conclusion"><span class="prefix">âŠ¢ </span><span class="type"><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList.cons" data-verso-hover="1641">StringList.cons</span></a> <span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span> <span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList.cons" data-verso-hover="1641">StringList.cons</span></a> <span class="var token" data-binding="var-_uniq.54" data-verso-hover="312">h2</span> <span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span></span></span></span></span></span> <span class="tactic"><label for="tactic-state-7-9035-9043"><a href="Tactic-Proofs/Tactic-Reference/#simp"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.simp-9035" data-verso-hover="36">simp</span></a> <span class="unknown token" data-binding="">[</span><span class="unknown token" data-binding="">*</span><span class="unknown token" data-binding="">]</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-9035-9043"><span class="tactic-state">All goals completed! ðŸ™</span></span><span class="unknown token" data-binding="">)</span>
      <a href="Terms/Conditionals/#termDepIfThenElse"><span class="keyword token" data-binding="kw-occ-termDepIfThenElse-8994" data-verso-hover="1005">else</span></a>
        <a href="Type-Classes/Basic-Classes/#Decidable___isFalse"><span class="const token" data-binding="const-Decidable.isFalse" data-verso-hover="1638">.isFalse</span></a> <span class="unknown token" data-binding="">(</span><span class="tactic"><label for="tactic-state-3917271974469861903-9074-9076"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-9074" data-verso-hover="10">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-3917271974469861903-9074-9076"><span class="tactic-state"><span class="goal"><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span></span><span class="colon">:</span><span class="type"><a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span></span><span class="colon">:</span><span class="type"><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList" data-verso-hover="1639">StringList</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.54" data-verso-hover="312">h2</span></span><span class="colon">:</span><span class="type"><a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span></span><span class="colon">:</span><span class="type"><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList" data-verso-hover="1639">StringList</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.71" data-verso-hover="1643">h</span></span><span class="colon">:</span><span class="type"><span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><span class="var token" data-binding="var-_uniq.54" data-verso-hover="312">h2</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.81" data-verso-hover="1645">h'</span></span><span class="colon">:</span><span class="type"><a href="Basic-Propositions/Logical-Connectives/#Not"><span class="const token" data-binding="const-Not" data-verso-hover="635">Â¬</span></a><span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span></span></span></span><span class="conclusion"><span class="prefix">âŠ¢ </span><span class="type"><a href="Basic-Propositions/Logical-Connectives/#Not"><span class="const token" data-binding="const-Not" data-verso-hover="635">Â¬</span></a><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList.cons" data-verso-hover="1641">StringList.cons</span></a> <span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span> <span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList.cons" data-verso-hover="1641">StringList.cons</span></a> <span class="var token" data-binding="var-_uniq.54" data-verso-hover="312">h2</span> <span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span></span></span></span></span></span> <span class="tactic"><label for="tactic-state-5721543472802955499-9077-9086"><a href="Tactic-Proofs/Tactic-Reference/#intro"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.intro-9077" data-verso-hover="662">intro</span></a> <span class="var token" data-binding="var-_uniq.684" data-verso-hover="1646">hEq</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-5721543472802955499-9077-9086"><span class="tactic-state"><span class="goal"><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span></span><span class="colon">:</span><span class="type"><a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span></span><span class="colon">:</span><span class="type"><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList" data-verso-hover="1639">StringList</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.54" data-verso-hover="312">h2</span></span><span class="colon">:</span><span class="type"><a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span></span><span class="colon">:</span><span class="type"><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList" data-verso-hover="1639">StringList</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.71" data-verso-hover="1643">h</span></span><span class="colon">:</span><span class="type"><span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><span class="var token" data-binding="var-_uniq.54" data-verso-hover="312">h2</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.81" data-verso-hover="1645">h'</span></span><span class="colon">:</span><span class="type"><a href="Basic-Propositions/Logical-Connectives/#Not"><span class="const token" data-binding="const-Not" data-verso-hover="635">Â¬</span></a><span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.684" data-verso-hover="1646">hEq</span></span><span class="colon">:</span><span class="type"><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList.cons" data-verso-hover="1641">StringList.cons</span></a> <span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span> <span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList.cons" data-verso-hover="1641">StringList.cons</span></a> <span class="var token" data-binding="var-_uniq.54" data-verso-hover="312">h2</span> <span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span></span></span></span><span class="conclusion"><span class="prefix">âŠ¢ </span><span class="type"><a href="Basic-Propositions/Truth/#False"><span class="const token" data-binding="const-False" data-verso-hover="9">False</span></a></span></span></span></span></span><span class="unknown token" data-binding="">;</span> <span class="tactic"><label for="tactic-state-15227931863329453266-9088-9097"><a href="Tactic-Proofs/Tactic-Reference/#cases"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.cases-9088" data-verso-hover="383">cases</span></a> <span class="var token" data-binding="var-_uniq.684" data-verso-hover="1646">hEq</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-15227931863329453266-9088-9097"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-230" checked="checked"><span for="--verso-unique-230" class="goal-name">refl</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span></span><span class="colon">:</span><span class="type"><a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span></span><span class="colon">:</span><span class="type"><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList" data-verso-hover="1639">StringList</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.753" data-verso-hover="1647">h</span></span><span class="colon">:</span><span class="type"><span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.772" data-verso-hover="1648">h'</span></span><span class="colon">:</span><span class="type"><a href="Basic-Propositions/Logical-Connectives/#Not"><span class="const token" data-binding="const-Not" data-verso-hover="635">Â¬</span></a><span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span></span></span></span><span class="conclusion"><span class="prefix">âŠ¢ </span><span class="type"><a href="Basic-Propositions/Truth/#False"><span class="const token" data-binding="const-False" data-verso-hover="9">False</span></a></span></span></span></span></span></span><span class="unknown token" data-binding="">;</span> <span class="tactic"><label for="tactic-state-7-9099-9106"><a href="Tactic-Proofs/Tactic-Reference/#trivial"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.tacticTrivial-9099" data-verso-hover="258">trivial</span></a></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-9099-9106"><span class="tactic-state">All goals completed! ðŸ™</span></span><span class="unknown token" data-binding="">)</span>
    <a href="Terms/Conditionals/#termDepIfThenElse"><span class="keyword token" data-binding="kw-occ-termDepIfThenElse-8968" data-verso-hover="1005">else</span></a>
      <a href="Type-Classes/Basic-Classes/#Decidable___isFalse"><span class="const token" data-binding="const-Decidable.isFalse" data-verso-hover="1638">.isFalse</span></a> <span class="unknown token" data-binding="">(</span><span class="tactic"><label for="tactic-state-11259597567059776409-9133-9135"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-9133" data-verso-hover="10">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-11259597567059776409-9133-9135"><span class="tactic-state"><span class="goal"><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span></span><span class="colon">:</span><span class="type"><a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span></span><span class="colon">:</span><span class="type"><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList" data-verso-hover="1639">StringList</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.54" data-verso-hover="312">h2</span></span><span class="colon">:</span><span class="type"><a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span></span><span class="colon">:</span><span class="type"><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList" data-verso-hover="1639">StringList</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.71" data-verso-hover="1649">h</span></span><span class="colon">:</span><span class="type"><a href="Basic-Propositions/Logical-Connectives/#Not"><span class="const token" data-binding="const-Not" data-verso-hover="635">Â¬</span></a><span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><span class="var token" data-binding="var-_uniq.54" data-verso-hover="312">h2</span></span></span></span><span class="conclusion"><span class="prefix">âŠ¢ </span><span class="type"><a href="Basic-Propositions/Logical-Connectives/#Not"><span class="const token" data-binding="const-Not" data-verso-hover="635">Â¬</span></a><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList.cons" data-verso-hover="1641">StringList.cons</span></a> <span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span> <span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList.cons" data-verso-hover="1641">StringList.cons</span></a> <span class="var token" data-binding="var-_uniq.54" data-verso-hover="312">h2</span> <span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span></span></span></span></span></span> <span class="tactic"><label for="tactic-state-8236650328776411323-9136-9145"><a href="Tactic-Proofs/Tactic-Reference/#intro"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.intro-9136" data-verso-hover="662">intro</span></a> <span class="var token" data-binding="var-_uniq.810" data-verso-hover="1646">hEq</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-8236650328776411323-9136-9145"><span class="tactic-state"><span class="goal"><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span></span><span class="colon">:</span><span class="type"><a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span></span><span class="colon">:</span><span class="type"><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList" data-verso-hover="1639">StringList</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.54" data-verso-hover="312">h2</span></span><span class="colon">:</span><span class="type"><a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span></span><span class="colon">:</span><span class="type"><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList" data-verso-hover="1639">StringList</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.71" data-verso-hover="1649">h</span></span><span class="colon">:</span><span class="type"><a href="Basic-Propositions/Logical-Connectives/#Not"><span class="const token" data-binding="const-Not" data-verso-hover="635">Â¬</span></a><span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><span class="var token" data-binding="var-_uniq.54" data-verso-hover="312">h2</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.810" data-verso-hover="1646">hEq</span></span><span class="colon">:</span><span class="type"><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList.cons" data-verso-hover="1641">StringList.cons</span></a> <span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span> <span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList.cons" data-verso-hover="1641">StringList.cons</span></a> <span class="var token" data-binding="var-_uniq.54" data-verso-hover="312">h2</span> <span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span></span></span></span><span class="conclusion"><span class="prefix">âŠ¢ </span><span class="type"><a href="Basic-Propositions/Truth/#False"><span class="const token" data-binding="const-False" data-verso-hover="9">False</span></a></span></span></span></span></span><span class="unknown token" data-binding="">;</span> <span class="tactic"><label for="tactic-state-14415353924036243651-9147-9156"><a href="Tactic-Proofs/Tactic-Reference/#cases"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.cases-9147" data-verso-hover="383">cases</span></a> <span class="var token" data-binding="var-_uniq.810" data-verso-hover="1646">hEq</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-14415353924036243651-9147-9156"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-233" checked="checked"><span for="--verso-unique-233" class="goal-name">refl</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span></span><span class="colon">:</span><span class="type"><a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span></span><span class="colon">:</span><span class="type"><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList" data-verso-hover="1639">StringList</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.874" data-verso-hover="1650">h</span></span><span class="colon">:</span><span class="type"><a href="Basic-Propositions/Logical-Connectives/#Not"><span class="const token" data-binding="const-Not" data-verso-hover="635">Â¬</span></a><span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span></span></span></span><span class="conclusion"><span class="prefix">âŠ¢ </span><span class="type"><a href="Basic-Propositions/Truth/#False"><span class="const token" data-binding="const-False" data-verso-hover="9">False</span></a></span></span></span></span></span></span><span class="unknown token" data-binding="">;</span> <span class="tactic"><label for="tactic-state-7-9158-9165"><a href="Tactic-Proofs/Tactic-Reference/#trivial"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.tacticTrivial-9158" data-verso-hover="258">trivial</span></a></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-9158-9165"><span class="tactic-state">All goals completed! ðŸ™</span></span><span class="unknown token" data-binding="">)</span>
  <span class="unknown token" data-binding="">|</span> <a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList.nil" data-verso-hover="1640">.nil</span></a><span class="unknown token" data-binding="">,</span> <a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList.cons" data-verso-hover="1641">.cons</span></a> <span class="unknown token" data-binding="">_</span> <span class="unknown token" data-binding="">_</span> <span class="unknown token" data-binding="">|</span> <a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList.cons" data-verso-hover="1641">.cons</span></a> <span class="unknown token" data-binding="">_</span> <span class="unknown token" data-binding="">_</span><span class="unknown token" data-binding="">,</span> <a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList.nil" data-verso-hover="1640">.nil</span></a> <span class="unknown token" data-binding="">=&gt;</span> <a href="Type-Classes/Basic-Classes/#Decidable___isFalse"><span class="const token" data-binding="const-Decidable.isFalse" data-verso-hover="1638">.isFalse</span></a> <a href="Terms/Pattern-Matching/#Lean___Parser___Term___nofun"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.nofun-9217">nofun</span></a>
<span class="unknown token" data-binding=""></span></code><div class="error">
                    <pre>failed to synthesize
  Decidable (t1 = t2)

Additional diagnostic information may be available using the `set_option diagnostics true` command.
</pre></div>
                  <p>
                    However, because it is an ordinary Lean function, it can recursively refer to its own explicitly-provided name:</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-9525">instance</span> <span class="const token" data-binding="const-instDecidableEqStringList" data-verso-hover="1651" id="instDecidableEqStringList">instDecidableEqStringList</span> <span class="unknown token" data-binding="">:</span> <a href="Type-Classes/Basic-Classes/#DecidableEq"><span class="const token" data-binding="const-DecidableEq" data-verso-hover="1632">DecidableEq</span></a> <a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList" data-verso-hover="1639">StringList</span></a>
  <span class="unknown token" data-binding="">|</span> <a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList.nil" data-verso-hover="1640">.nil</span></a><span class="unknown token" data-binding="">,</span> <a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList.nil" data-verso-hover="1640">.nil</span></a> <span class="unknown token" data-binding="">=&gt;</span> <a href="Type-Classes/Basic-Classes/#Decidable___isFalse"><span class="const token" data-binding="const-Decidable.isTrue" data-verso-hover="1637">.isTrue</span></a> <a href="Basic-Propositions/Propositional-Equality/#rfl-next"><span class="const token" data-binding="const-rfl" data-verso-hover="156">rfl</span></a>
  <span class="unknown token" data-binding="">|</span> <a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList.cons" data-verso-hover="1641">.cons</span></a> <span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span> <span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span><span class="unknown token" data-binding="">,</span> <a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList.cons" data-verso-hover="1641">.cons</span></a> <span class="var token" data-binding="var-_uniq.54" data-verso-hover="312">h2</span> <span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span> <span class="unknown token" data-binding="">=&gt;</span>
    <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.let-9651" data-verso-hover="108">let</span> <span class="unknown token" data-binding="">_</span> <span class="unknown token" data-binding="">:</span> <a href="Type-Classes/Basic-Classes/#Decidable___isFalse"><span class="const token" data-binding="const-Decidable" data-verso-hover="465">Decidable</span></a> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span> <span class="unknown token" data-binding="">=</span> <span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:=</span>
      <a href="Type-Classes/Instance-Declarations/#instDecidableEqStringList"><span class="const token" data-binding="const-instDecidableEqStringList" data-verso-hover="1651">instDecidableEqStringList</span></a> <span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span> <span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span>
    <a href="Terms/Conditionals/#termDepIfThenElse"><span class="keyword token" data-binding="kw-occ-termDepIfThenElse-9724" data-verso-hover="1005">if</span></a> <span class="var token" data-binding="var-_uniq.75" data-verso-hover="1643">h</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span> <span class="unknown token" data-binding="">=</span> <span class="var token" data-binding="var-_uniq.54" data-verso-hover="312">h2</span> <a href="Terms/Conditionals/#termDepIfThenElse"><span class="keyword token" data-binding="kw-occ-termDepIfThenElse-9724" data-verso-hover="1005">then</span></a>
      <a href="Terms/Conditionals/#termDepIfThenElse"><span class="keyword token" data-binding="kw-occ-termDepIfThenElse-9750" data-verso-hover="1005">if</span></a> <span class="var token" data-binding="var-_uniq.87" data-verso-hover="1644">h'</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span> <span class="unknown token" data-binding="">=</span> <span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span> <a href="Terms/Conditionals/#termDepIfThenElse"><span class="keyword token" data-binding="kw-occ-termDepIfThenElse-9750" data-verso-hover="1005">then</span></a>
        <a href="Type-Classes/Basic-Classes/#Decidable___isFalse"><span class="const token" data-binding="const-Decidable.isTrue" data-verso-hover="1637">.isTrue</span></a> <span class="unknown token" data-binding="">(</span><span class="tactic"><label for="tactic-state-4894730894502975747-9788-9790"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-9788" data-verso-hover="10">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-4894730894502975747-9788-9790"><span class="tactic-state"><span class="goal"><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span></span><span class="colon">:</span><span class="type"><a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span></span><span class="colon">:</span><span class="type"><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList" data-verso-hover="1639">StringList</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.54" data-verso-hover="312">h2</span></span><span class="colon">:</span><span class="type"><a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span></span><span class="colon">:</span><span class="type"><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList" data-verso-hover="1639">StringList</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.59" data-verso-hover="1652">xâœ</span></span><span class="colon">:</span><span class="type"><a href="Type-Classes/Basic-Classes/#Decidable___isFalse"><span class="const token" data-binding="const-Decidable" data-verso-hover="465">Decidable</span></a> <a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16">(</span></a><span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16">)</span></a> := <a href="Type-Classes/Instance-Declarations/#instDecidableEqStringList"><span class="const token" data-binding="const-instDecidableEqStringList" data-verso-hover="1651">instDecidableEqStringList</span></a> <span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span> <span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.75" data-verso-hover="1643">h</span></span><span class="colon">:</span><span class="type"><span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><span class="var token" data-binding="var-_uniq.54" data-verso-hover="312">h2</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.87" data-verso-hover="1644">h'</span></span><span class="colon">:</span><span class="type"><span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span></span></span></span><span class="conclusion"><span class="prefix">âŠ¢ </span><span class="type"><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList.cons" data-verso-hover="1641">StringList.cons</span></a> <span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span> <span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList.cons" data-verso-hover="1641">StringList.cons</span></a> <span class="var token" data-binding="var-_uniq.54" data-verso-hover="312">h2</span> <span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span></span></span></span></span></span> <span class="tactic"><label for="tactic-state-7-9791-9799"><a href="Tactic-Proofs/Tactic-Reference/#simp"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.simp-9791" data-verso-hover="36">simp</span></a> <span class="unknown token" data-binding="">[</span><span class="unknown token" data-binding="">*</span><span class="unknown token" data-binding="">]</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-9791-9799"><span class="tactic-state">All goals completed! ðŸ™</span></span><span class="unknown token" data-binding="">)</span>
      <a href="Terms/Conditionals/#termDepIfThenElse"><span class="keyword token" data-binding="kw-occ-termDepIfThenElse-9750" data-verso-hover="1005">else</span></a>
        <a href="Type-Classes/Basic-Classes/#Decidable___isFalse"><span class="const token" data-binding="const-Decidable.isFalse" data-verso-hover="1638">.isFalse</span></a> <span class="unknown token" data-binding="">(</span><span class="tactic"><label for="tactic-state-18198391938470400305-9830-9832"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-9830" data-verso-hover="10">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-18198391938470400305-9830-9832"><span class="tactic-state"><span class="goal"><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span></span><span class="colon">:</span><span class="type"><a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span></span><span class="colon">:</span><span class="type"><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList" data-verso-hover="1639">StringList</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.54" data-verso-hover="312">h2</span></span><span class="colon">:</span><span class="type"><a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span></span><span class="colon">:</span><span class="type"><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList" data-verso-hover="1639">StringList</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.59" data-verso-hover="1652">xâœ</span></span><span class="colon">:</span><span class="type"><a href="Type-Classes/Basic-Classes/#Decidable___isFalse"><span class="const token" data-binding="const-Decidable" data-verso-hover="465">Decidable</span></a> <a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16">(</span></a><span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16">)</span></a> := <a href="Type-Classes/Instance-Declarations/#instDecidableEqStringList"><span class="const token" data-binding="const-instDecidableEqStringList" data-verso-hover="1651">instDecidableEqStringList</span></a> <span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span> <span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.75" data-verso-hover="1643">h</span></span><span class="colon">:</span><span class="type"><span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><span class="var token" data-binding="var-_uniq.54" data-verso-hover="312">h2</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.87" data-verso-hover="1645">h'</span></span><span class="colon">:</span><span class="type"><a href="Basic-Propositions/Logical-Connectives/#Not"><span class="const token" data-binding="const-Not" data-verso-hover="635">Â¬</span></a><span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span></span></span></span><span class="conclusion"><span class="prefix">âŠ¢ </span><span class="type"><a href="Basic-Propositions/Logical-Connectives/#Not"><span class="const token" data-binding="const-Not" data-verso-hover="635">Â¬</span></a><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList.cons" data-verso-hover="1641">StringList.cons</span></a> <span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span> <span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList.cons" data-verso-hover="1641">StringList.cons</span></a> <span class="var token" data-binding="var-_uniq.54" data-verso-hover="312">h2</span> <span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span></span></span></span></span></span> <span class="tactic"><label for="tactic-state-6065281470879025107-9833-9842"><a href="Tactic-Proofs/Tactic-Reference/#intro"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.intro-9833" data-verso-hover="662">intro</span></a> <span class="var token" data-binding="var-_uniq.697" data-verso-hover="1646">hEq</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-6065281470879025107-9833-9842"><span class="tactic-state"><span class="goal"><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span></span><span class="colon">:</span><span class="type"><a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span></span><span class="colon">:</span><span class="type"><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList" data-verso-hover="1639">StringList</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.54" data-verso-hover="312">h2</span></span><span class="colon">:</span><span class="type"><a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span></span><span class="colon">:</span><span class="type"><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList" data-verso-hover="1639">StringList</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.59" data-verso-hover="1652">xâœ</span></span><span class="colon">:</span><span class="type"><a href="Type-Classes/Basic-Classes/#Decidable___isFalse"><span class="const token" data-binding="const-Decidable" data-verso-hover="465">Decidable</span></a> <a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16">(</span></a><span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16">)</span></a> := <a href="Type-Classes/Instance-Declarations/#instDecidableEqStringList"><span class="const token" data-binding="const-instDecidableEqStringList" data-verso-hover="1651">instDecidableEqStringList</span></a> <span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span> <span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.75" data-verso-hover="1643">h</span></span><span class="colon">:</span><span class="type"><span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><span class="var token" data-binding="var-_uniq.54" data-verso-hover="312">h2</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.87" data-verso-hover="1645">h'</span></span><span class="colon">:</span><span class="type"><a href="Basic-Propositions/Logical-Connectives/#Not"><span class="const token" data-binding="const-Not" data-verso-hover="635">Â¬</span></a><span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.697" data-verso-hover="1646">hEq</span></span><span class="colon">:</span><span class="type"><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList.cons" data-verso-hover="1641">StringList.cons</span></a> <span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span> <span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList.cons" data-verso-hover="1641">StringList.cons</span></a> <span class="var token" data-binding="var-_uniq.54" data-verso-hover="312">h2</span> <span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span></span></span></span><span class="conclusion"><span class="prefix">âŠ¢ </span><span class="type"><a href="Basic-Propositions/Truth/#False"><span class="const token" data-binding="const-False" data-verso-hover="9">False</span></a></span></span></span></span></span><span class="unknown token" data-binding="">;</span> <span class="tactic"><label for="tactic-state-17676338734587152260-9844-9853"><a href="Tactic-Proofs/Tactic-Reference/#cases"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.cases-9844" data-verso-hover="383">cases</span></a> <span class="var token" data-binding="var-_uniq.697" data-verso-hover="1646">hEq</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-17676338734587152260-9844-9853"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-237" checked="checked"><span for="--verso-unique-237" class="goal-name">refl</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span></span><span class="colon">:</span><span class="type"><a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span></span><span class="colon">:</span><span class="type"><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList" data-verso-hover="1639">StringList</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.766" data-verso-hover="1647">h</span></span><span class="colon">:</span><span class="type"><span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.786" data-verso-hover="1653">xâœ</span></span><span class="colon">:</span><span class="type"><a href="Type-Classes/Basic-Classes/#Decidable___isFalse"><span class="const token" data-binding="const-Decidable" data-verso-hover="465">Decidable</span></a> <a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16">(</span></a><span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16">)</span></a> := <a href="Type-Classes/Instance-Declarations/#instDecidableEqStringList"><span class="const token" data-binding="const-instDecidableEqStringList" data-verso-hover="1651">instDecidableEqStringList</span></a> <span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span> <span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.787" data-verso-hover="1648">h'</span></span><span class="colon">:</span><span class="type"><a href="Basic-Propositions/Logical-Connectives/#Not"><span class="const token" data-binding="const-Not" data-verso-hover="635">Â¬</span></a><span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span></span></span></span><span class="conclusion"><span class="prefix">âŠ¢ </span><span class="type"><a href="Basic-Propositions/Truth/#False"><span class="const token" data-binding="const-False" data-verso-hover="9">False</span></a></span></span></span></span></span></span><span class="unknown token" data-binding="">;</span> <span class="tactic"><label for="tactic-state-7-9855-9862"><a href="Tactic-Proofs/Tactic-Reference/#trivial"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.tacticTrivial-9855" data-verso-hover="258">trivial</span></a></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-9855-9862"><span class="tactic-state">All goals completed! ðŸ™</span></span><span class="unknown token" data-binding="">)</span>
    <a href="Terms/Conditionals/#termDepIfThenElse"><span class="keyword token" data-binding="kw-occ-termDepIfThenElse-9724" data-verso-hover="1005">else</span></a>
      <a href="Type-Classes/Basic-Classes/#Decidable___isFalse"><span class="const token" data-binding="const-Decidable.isFalse" data-verso-hover="1638">.isFalse</span></a> <span class="unknown token" data-binding="">(</span><span class="tactic"><label for="tactic-state-3482474689368741643-9889-9891"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-9889" data-verso-hover="10">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-3482474689368741643-9889-9891"><span class="tactic-state"><span class="goal"><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span></span><span class="colon">:</span><span class="type"><a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span></span><span class="colon">:</span><span class="type"><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList" data-verso-hover="1639">StringList</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.54" data-verso-hover="312">h2</span></span><span class="colon">:</span><span class="type"><a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span></span><span class="colon">:</span><span class="type"><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList" data-verso-hover="1639">StringList</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.59" data-verso-hover="1652">xâœ</span></span><span class="colon">:</span><span class="type"><a href="Type-Classes/Basic-Classes/#Decidable___isFalse"><span class="const token" data-binding="const-Decidable" data-verso-hover="465">Decidable</span></a> <a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16">(</span></a><span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16">)</span></a> := <a href="Type-Classes/Instance-Declarations/#instDecidableEqStringList"><span class="const token" data-binding="const-instDecidableEqStringList" data-verso-hover="1651">instDecidableEqStringList</span></a> <span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span> <span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.75" data-verso-hover="1649">h</span></span><span class="colon">:</span><span class="type"><a href="Basic-Propositions/Logical-Connectives/#Not"><span class="const token" data-binding="const-Not" data-verso-hover="635">Â¬</span></a><span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><span class="var token" data-binding="var-_uniq.54" data-verso-hover="312">h2</span></span></span></span><span class="conclusion"><span class="prefix">âŠ¢ </span><span class="type"><a href="Basic-Propositions/Logical-Connectives/#Not"><span class="const token" data-binding="const-Not" data-verso-hover="635">Â¬</span></a><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList.cons" data-verso-hover="1641">StringList.cons</span></a> <span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span> <span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList.cons" data-verso-hover="1641">StringList.cons</span></a> <span class="var token" data-binding="var-_uniq.54" data-verso-hover="312">h2</span> <span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span></span></span></span></span></span> <span class="tactic"><label for="tactic-state-6333067741761625869-9892-9901"><a href="Tactic-Proofs/Tactic-Reference/#intro"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.intro-9892" data-verso-hover="662">intro</span></a> <span class="var token" data-binding="var-_uniq.826" data-verso-hover="1646">hEq</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-6333067741761625869-9892-9901"><span class="tactic-state"><span class="goal"><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span></span><span class="colon">:</span><span class="type"><a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span></span><span class="colon">:</span><span class="type"><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList" data-verso-hover="1639">StringList</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.54" data-verso-hover="312">h2</span></span><span class="colon">:</span><span class="type"><a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span></span><span class="colon">:</span><span class="type"><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList" data-verso-hover="1639">StringList</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.59" data-verso-hover="1652">xâœ</span></span><span class="colon">:</span><span class="type"><a href="Type-Classes/Basic-Classes/#Decidable___isFalse"><span class="const token" data-binding="const-Decidable" data-verso-hover="465">Decidable</span></a> <a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16">(</span></a><span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16">)</span></a> := <a href="Type-Classes/Instance-Declarations/#instDecidableEqStringList"><span class="const token" data-binding="const-instDecidableEqStringList" data-verso-hover="1651">instDecidableEqStringList</span></a> <span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span> <span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.75" data-verso-hover="1649">h</span></span><span class="colon">:</span><span class="type"><a href="Basic-Propositions/Logical-Connectives/#Not"><span class="const token" data-binding="const-Not" data-verso-hover="635">Â¬</span></a><span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><span class="var token" data-binding="var-_uniq.54" data-verso-hover="312">h2</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.826" data-verso-hover="1646">hEq</span></span><span class="colon">:</span><span class="type"><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList.cons" data-verso-hover="1641">StringList.cons</span></a> <span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span> <span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList.cons" data-verso-hover="1641">StringList.cons</span></a> <span class="var token" data-binding="var-_uniq.54" data-verso-hover="312">h2</span> <span class="var token" data-binding="var-_uniq.55" data-verso-hover="1642">t2</span></span></span></span><span class="conclusion"><span class="prefix">âŠ¢ </span><span class="type"><a href="Basic-Propositions/Truth/#False"><span class="const token" data-binding="const-False" data-verso-hover="9">False</span></a></span></span></span></span></span><span class="unknown token" data-binding="">;</span> <span class="tactic"><label for="tactic-state-18267649021490409534-9903-9912"><a href="Tactic-Proofs/Tactic-Reference/#cases"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.cases-9903" data-verso-hover="383">cases</span></a> <span class="var token" data-binding="var-_uniq.826" data-verso-hover="1646">hEq</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-18267649021490409534-9903-9912"><span class="tactic-state"><span class="goal"><span class="labeled-case" checked="checked"><label class="case-label"><input type="checkbox" id="--verso-unique-240" checked="checked"><span for="--verso-unique-240" class="goal-name">refl</span></label><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span></span><span class="colon">:</span><span class="type"><a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span></span><span class="colon">:</span><span class="type"><a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList" data-verso-hover="1639">StringList</span></a></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.890" data-verso-hover="1650">h</span></span><span class="colon">:</span><span class="type"><a href="Basic-Propositions/Logical-Connectives/#Not"><span class="const token" data-binding="const-Not" data-verso-hover="635">Â¬</span></a><span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><span class="var token" data-binding="var-_uniq.52" data-verso-hover="312">h1</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.909" data-verso-hover="1653">xâœ</span></span><span class="colon">:</span><span class="type"><a href="Type-Classes/Basic-Classes/#Decidable___isFalse"><span class="const token" data-binding="const-Decidable" data-verso-hover="465">Decidable</span></a> <a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16">(</span></a><span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16"> = </span></a><span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span><a href="Basic-Propositions/Propositional-Equality/#Eq___refl"><span class="const token" data-binding="const-Eq" data-verso-hover="16">)</span></a> := <a href="Type-Classes/Instance-Declarations/#instDecidableEqStringList"><span class="const token" data-binding="const-instDecidableEqStringList" data-verso-hover="1651">instDecidableEqStringList</span></a> <span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span> <span class="var token" data-binding="var-_uniq.53" data-verso-hover="1642">t1</span></span></span></span><span class="conclusion"><span class="prefix">âŠ¢ </span><span class="type"><a href="Basic-Propositions/Truth/#False"><span class="const token" data-binding="const-False" data-verso-hover="9">False</span></a></span></span></span></span></span></span><span class="unknown token" data-binding="">;</span> <span class="tactic"><label for="tactic-state-7-9914-9921"><a href="Tactic-Proofs/Tactic-Reference/#trivial"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.tacticTrivial-9914" data-verso-hover="258">trivial</span></a></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-9914-9921"><span class="tactic-state">All goals completed! ðŸ™</span></span><span class="unknown token" data-binding="">)</span>
  <span class="unknown token" data-binding="">|</span> <a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList.nil" data-verso-hover="1640">.nil</span></a><span class="unknown token" data-binding="">,</span> <a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList.cons" data-verso-hover="1641">.cons</span></a> <span class="unknown token" data-binding="">_</span> <span class="unknown token" data-binding="">_</span> <span class="unknown token" data-binding="">|</span> <a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList.cons" data-verso-hover="1641">.cons</span></a> <span class="unknown token" data-binding="">_</span> <span class="unknown token" data-binding="">_</span><span class="unknown token" data-binding="">,</span> <a href="Type-Classes/Instance-Declarations/#StringList___nil"><span class="const token" data-binding="const-StringList.nil" data-verso-hover="1640">.nil</span></a> <span class="unknown token" data-binding="">=&gt;</span> <a href="Type-Classes/Basic-Classes/#Decidable___isFalse"><span class="const token" data-binding="const-Decidable.isFalse" data-verso-hover="1638">.isFalse</span></a> <a href="Terms/Pattern-Matching/#Lean___Parser___Term___nofun"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.nofun-9973">nofun</span></a>
<span class="unknown token" data-binding=""></span></code></div>
                </details></section>
            <section>
              <h2 id="instance-priorities">
                11.2.3.Â Instance Priorities<span class="permalink-widget inline"><a href="find/?domain=Verso.Genre.Manual.section&name=instance-priorities" title="Permalink">ðŸ”—</a></span></h2>
              <p>
                Instances may be assigned <span id="--tech-term-priorities" class="def-technical-term"><em>priorities</em></span>.
During instance synthesis, higher-priority instances are preferred; see <a href="Type-Classes/Instance-Synthesis/#instance-synth">the section on instance synthesis</a> for details of instance synthesis.</p>
              <div class="namedocs" id="prio">
                <span class="label">syntax</span><span class="title">Instance Priorities</span><div class="text">
                  <p>
                    Priorities may be numeric:</p>
                  <pre class="grammar hl lean" data-lean-context="--grammar" id="num___antiquot"><span class="nonterminal" data-kind="prio">prio</span> <span class="bnf">::=</span>
    <span class="nonterminal" data-kind="num">num</span></pre><p>
                    If no priority is specified, the default priority that corresponds to 1000 is used:</p>
                  <pre class="grammar hl lean" data-lean-context="--grammar" id="prioDefault"><span class="nonterminal" data-kind="prio">prio</span> <span class="bnf">::=</span> ...
    <span class="bnf">|</span> <span class="from-nonterminal documented" data-kind="prioDefault"><code class="hover-info"><code class="docstring">The default priority `default = 1000`, which is used when no priority is set. </code></code><span class="keyword">default</span></span></pre><p>
                    Three named priorities are available when numeric values are too fine-grained, corresponding to 100, 500, and 10000 respectively.
The <span class="hl lean keyword-of"><code class="hover-info"><code>prioMid : prio</code><span class="sep"></span><code class="docstring">The standardized "medium" priority `mid = 500`. This is lower than `default`, and higher than `low`.
</code></code><a href="Type-Classes/Instance-Declarations/#prioMid"><code class="kw">mid</code></a></span> priority is lower than <span class="hl lean keyword-of"><code class="hover-info"><code>prioDefault : prio</code><span class="sep"></span><code class="docstring">The default priority `default = 1000`, which is used when no priority is set. </code></code><a href="Type-Classes/Instance-Declarations/#prioDefault"><code class="kw">default</code></a></span>.</p>
                  <pre class="grammar hl lean" data-lean-context="--grammar" id="prioLow"><span class="nonterminal" data-kind="prio">prio</span> <span class="bnf">::=</span> ...
    <span class="bnf">|</span> <span class="from-nonterminal documented" data-kind="prioLow"><code class="hover-info"><code class="docstring">The standardized "low" priority `low = 100`, for things that should be lower than default priority. </code></code><span class="keyword">low</span></span></pre><pre class="grammar hl lean" data-lean-context="--grammar" id="prioMid"><span class="nonterminal" data-kind="prio">prio</span> <span class="bnf">::=</span> ...
    <span class="bnf">|</span> <span class="from-nonterminal documented" data-kind="prioMid"><code class="hover-info"><code class="docstring">The standardized "medium" priority `mid = 500`. This is lower than `default`, and higher than `low`.
</code></code><span class="keyword">mid</span></span></pre><pre class="grammar hl lean" data-lean-context="--grammar" id="prioHigh"><span class="nonterminal" data-kind="prio">prio</span> <span class="bnf">::=</span> ...
    <span class="bnf">|</span> <span class="from-nonterminal documented" data-kind="prioHigh"><code class="hover-info"><code class="docstring">The standardized "high" priority `high = 10000`, for things that should be higher than default priority. </code></code><span class="keyword">high</span></span></pre><p>
                    Finally, priorities can be added and subtracted, so <code>default + 2</code> is a valid priority, corresponding to 1002:</p>
                  <pre class="grammar hl lean" data-lean-context="--grammar" id="_FLQQ_prio_LPAR___RPAR__FLQQ_"><span class="nonterminal" data-kind="prio">prio</span> <span class="bnf">::=</span> ...
    <span class="bnf">|</span> <span class="from-nonterminal documented" data-kind="Â«prio(_)Â»"><code class="hover-info"><code class="docstring">Parentheses are used for grouping priority expressions. </code></code><span class="keyword">(</span><span class="nonterminal" data-kind="prio.pseudo">prio</span><span class="keyword">)</span></span></pre><pre class="grammar hl lean" data-lean-context="--grammar" id="Lean___Parser___Syntax___addPrio"><span class="nonterminal" data-kind="prio">prio</span> <span class="bnf">::=</span> ...
    <span class="bnf">|</span> <span class="from-nonterminal documented" data-kind="Lean.Parser.Syntax.addPrio"><code class="hover-info"><code class="docstring">Addition of priorities. This is normally used only for offsetting, e.g. `default + 1`. </code></code><span class="nonterminal" data-kind="prio.pseudo">prio</span> <span class="keyword">+</span> <span class="nonterminal" data-kind="prio.pseudo">prio</span></span></pre><pre class="grammar hl lean" data-lean-context="--grammar" id="Lean___Parser___Syntax___subPrio"><span class="nonterminal" data-kind="prio">prio</span> <span class="bnf">::=</span> ...
    <span class="bnf">|</span> <span class="from-nonterminal documented" data-kind="Lean.Parser.Syntax.subPrio"><code class="hover-info"><code class="docstring">Subtraction of priorities. This is normally used only for offsetting, e.g. `default - 1`. </code></code><span class="nonterminal" data-kind="prio.pseudo">prio</span> <span class="keyword">-</span> <span class="nonterminal" data-kind="prio.pseudo">prio</span></span></pre></div>
                </div>
              </section>
            <section>
              <h2 id="default-instances">
                11.2.4.Â Default Instances<span class="permalink-widget inline"><a href="find/?domain=Verso.Genre.Manual.section&name=default-instances" title="Permalink">ðŸ”—</a></span></h2>
              <p>
                The <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="" data-verso-hover="1654">default_instance</span></code> attribute specifies that an instance <a href="Type-Classes/Instance-Synthesis/#default-instance-synth">should be used as a fallback in situations where there is not enough information to select it otherwise</a>.
If no priority is specified, then the default priority <code>default</code> is used.</p>
              <div class="namedocs" id="attr-next-next-next-next-next">
                <span class="label">attribute</span><span class="title">The <code class="plain-keyword">default_instance</code> Attribute</span><div class="text">
                  <pre class="grammar hl lean" data-lean-context="--grammar" id="Lean___Parser___Attr___default_instance"><span class="nonterminal" data-kind="attr">attr</span> <span class="bnf">::=</span> ...
    <span class="bnf">|</span> <span class="from-nonterminal" data-kind="Lean.Parser.Attr.default_instance"><span class="keyword">default_instance</span> <span class="from-nonterminal" data-kind="null"><span class="nonterminal" data-kind="prio.pseudo">prio</span><span class="bnf">?</span></span></span></pre></div>
                </div>
              <details class="example"><summary class="description">Default Instances</summary><div class="example-content">
                  <p>
                    A default instance of <code class="hl lean inline" data-lean-context="examples"><a href="Terms/Literals/#OfNat___mk"><span class="const token" data-binding="const-OfNat" data-verso-hover="617">OfNat</span></a> <a href="Basic-Types/Natural-Numbers/#Nat___zero"><span class="const token" data-binding="const-Nat" data-verso-hover="22">Nat</span></a></code> is used to select <code class="hl lean inline" data-lean-context="examples"><a href="Basic-Types/Natural-Numbers/#Nat___zero"><span class="const token" data-binding="const-Nat" data-verso-hover="22">Nat</span></a></code> for natural number literals in the absence of other type information.
It is declared in the Lean standard library with priority 100.
Given this representation of even numbers, in which an even number is represented by half of it:</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.structureTk-11811">structure</span> <span class="const token" data-binding="const-Even" data-verso-hover="1655">Even</span> <span class="keyword token" data-binding="kw-occ-null-11826">where</span>
  <span class="const token" data-binding="const-Even.half" data-verso-hover="1656" id="Even">half</span> <span class="unknown token" data-binding="">:</span> <a href="Basic-Types/Natural-Numbers/#Nat___zero"><span class="const token" data-binding="const-Nat" data-verso-hover="22">Nat</span></a>
<span class="unknown token" data-binding=""></span></code><p>
                    the following instances allow numeric literals to be used for small <code class="hl lean inline" data-lean-context="examples"><a href="Introduction/#Even___zero-next-next"><span class="const token" data-binding="const-Even" data-verso-hover="1655">Even</span></a></code> values (a limit on the depth of type class instance search prevents them from being used for arbitrarily large literals):</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-12077">instance</span> <span class="const token" data-binding="const-ofNatEven0" data-verso-hover="1657" id="ofNatEvenPlusTwo">ofNatEven0</span> <span class="unknown token" data-binding="">:</span> <a href="Terms/Literals/#OfNat___mk"><span class="const token" data-binding="const-OfNat" data-verso-hover="617">OfNat</span></a> <a href="Introduction/#Even___zero-next-next"><span class="const token" data-binding="const-Even" data-verso-hover="1655">Even</span></a> <span class="typed token" data-binding="" data-verso-hover="7">0</span> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-12112">where</span>
  <a href="Terms/Literals/#OfNat___mk"><span class="const token" data-binding="const-OfNat.ofNat" data-verso-hover="1658">ofNat</span></a> <span class="unknown token" data-binding="">:=</span> <span class="unknown token" data-binding="const-Even.mk" data-verso-hover="1659">âŸ¨</span><span class="typed token" data-binding="" data-verso-hover="7">0</span><span class="unknown token" data-binding="const-Even.mk" data-verso-hover="1659">âŸ©</span>

<span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-12138">instance</span> <span class="const token" data-binding="const-ofNatEvenPlusTwo" data-verso-hover="1660" id="ofNatEvenPlusTwo">ofNatEvenPlusTwo</span> <span class="unknown token" data-binding="">[</span><a href="Terms/Literals/#OfNat___mk"><span class="const token" data-binding="const-OfNat" data-verso-hover="617">OfNat</span></a> <a href="Introduction/#Even___zero-next-next"><span class="const token" data-binding="const-Even" data-verso-hover="1655">Even</span></a> <span class="var token" data-binding="var-_uniq.40" data-verso-hover="7">n</span><span class="unknown token" data-binding="">]</span> <span class="unknown token" data-binding="">:</span> <a href="Terms/Literals/#OfNat___mk"><span class="const token" data-binding="const-OfNat" data-verso-hover="617">OfNat</span></a> <a href="Introduction/#Even___zero-next-next"><span class="const token" data-binding="const-Even" data-verso-hover="1655">Even</span></a> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.40" data-verso-hover="7">n</span> <span class="unknown token" data-binding="">+</span> <span class="typed token" data-binding="" data-verso-hover="7">2</span><span class="unknown token" data-binding="">)</span> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-12200">where</span>
  <a href="Terms/Literals/#OfNat___mk"><span class="const token" data-binding="const-OfNat.ofNat" data-verso-hover="1658">ofNat</span></a> <span class="unknown token" data-binding="">:=</span> <span class="unknown token" data-binding="const-Even.mk" data-verso-hover="1659">âŸ¨</span><span class="unknown token" data-binding="">(</span><a href="Terms/Literals/#OfNat___mk"><span class="const token" data-binding="const-OfNat.ofNat" data-verso-hover="1471">OfNat.ofNat</span></a> <span class="var token" data-binding="var-_uniq.105" data-verso-hover="7">n</span> <span class="unknown token" data-binding="">:</span> <a href="Introduction/#Even___zero-next-next"><span class="const token" data-binding="const-Even" data-verso-hover="1655">Even</span></a><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">.</span><a href="Type-Classes/Instance-Declarations/#Even"><span class="const token" data-binding="const-Even.half" data-verso-hover="1656">half</span></a> <span class="unknown token" data-binding="">+</span> <span class="typed token" data-binding="" data-verso-hover="7">1</span><span class="unknown token" data-binding="const-Even.mk" data-verso-hover="1659">âŸ©</span>

<span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">{ half := 0 }</code></span></span><a href="Interacting-with-Lean/#Lean___Parser___Command___eval"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-12256" data-verso-hover="6">#eval</span></a></span> <span class="unknown token" data-binding="">(</span><span class="typed token" data-binding="" data-verso-hover="1661">0</span> <span class="unknown token" data-binding="">:</span> <a href="Introduction/#Even___zero-next-next"><span class="const token" data-binding="const-Even" data-verso-hover="1655">Even</span></a><span class="unknown token" data-binding="">)</span>
<span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">{ half := 17 }</code></span></span><a href="Interacting-with-Lean/#Lean___Parser___Command___eval"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-12273" data-verso-hover="6">#eval</span></a></span> <span class="unknown token" data-binding="">(</span><span class="typed token" data-binding="" data-verso-hover="1661">34</span> <span class="unknown token" data-binding="">:</span> <a href="Introduction/#Even___zero-next-next"><span class="const token" data-binding="const-Even" data-verso-hover="1655">Even</span></a><span class="unknown token" data-binding="">)</span>
<span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">{ half := 127 }</code></span></span><a href="Interacting-with-Lean/#Lean___Parser___Command___eval"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-12291" data-verso-hover="6">#eval</span></a></span> <span class="unknown token" data-binding="">(</span><span class="typed token" data-binding="" data-verso-hover="1661">254</span> <span class="unknown token" data-binding="">:</span> <a href="Introduction/#Even___zero-next-next"><span class="const token" data-binding="const-Even" data-verso-hover="1655">Even</span></a><span class="unknown token" data-binding="">)</span>
<span class="unknown token" data-binding=""></span></code><div class="information">
                    <pre>{ half := 0 }
</pre></div>
                  <div class="information">
                    <pre>{ half := 17 }
</pre></div>
                  <div class="information">
                    <pre>{ half := 127 }
</pre></div>
                  <p>
                    Specifying them as default instances with a priority greater than or equal to 100 causes them to be used instead of <code class="hl lean inline" data-lean-context="examples"><a href="Basic-Types/Natural-Numbers/#Nat___zero"><span class="const token" data-binding="const-Nat" data-verso-hover="22">Nat</span></a></code>:</p>
                  <code class="hl lean block" data-lean-context="examples"><a href="Attributes/#Lean___Parser___Command___attribute"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.attribute-12569">attribute</span></a> <span class="unknown token" data-binding="">[</span><a href="Type-Classes/Instance-Declarations/#Lean___Parser___Attr___default_instance"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Attr.default_instance-12580">default_instance</span></a> <span class="unknown token" data-binding="">100</span><span class="unknown token" data-binding="">]</span> <a href="Type-Classes/Instance-Declarations/#ofNatEvenPlusTwo"><span class="const token" data-binding="const-ofNatEven0" data-verso-hover="1657">ofNatEven0</span></a>
<a href="Attributes/#Lean___Parser___Command___attribute"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.attribute-12613">attribute</span></a> <span class="unknown token" data-binding="">[</span><a href="Type-Classes/Instance-Declarations/#Lean___Parser___Attr___default_instance"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Attr.default_instance-12624">default_instance</span></a> <span class="unknown token" data-binding="">100</span><span class="unknown token" data-binding="">]</span> <a href="Type-Classes/Instance-Declarations/#ofNatEvenPlusTwo"><span class="const token" data-binding="const-ofNatEvenPlusTwo" data-verso-hover="1660">ofNatEvenPlusTwo</span></a>
<span class="unknown token" data-binding=""></span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">{ half := 0 }</code></span></span><a href="Interacting-with-Lean/#Lean___Parser___Command___eval"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-12698" data-verso-hover="6">#eval</span></a></span> <span class="typed token" data-binding="" data-verso-hover="1661">0</span>
<span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">{ half := 17 }</code></span></span><a href="Interacting-with-Lean/#Lean___Parser___Command___eval"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-12706" data-verso-hover="6">#eval</span></a></span> <span class="typed token" data-binding="" data-verso-hover="1661">34</span>
<span class="unknown token" data-binding=""></span></code><div class="information">
                    <pre>{ half := 0 }
</pre></div>
                  <div class="information">
                    <pre>{ half := 17 }
</pre></div>
                  <p>
                    Non-even numerals still use the <code class="hl lean inline" data-lean-context="examples"><a href="Terms/Literals/#OfNat___mk"><span class="const token" data-binding="const-OfNat" data-verso-hover="617">OfNat</span></a> <a href="Basic-Types/Natural-Numbers/#Nat___zero"><span class="const token" data-binding="const-Nat" data-verso-hover="22">Nat</span></a></code> instance:</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">5</code></span></span><a href="Interacting-with-Lean/#Lean___Parser___Command___eval"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-12898" data-verso-hover="6">#eval</span></a></span> <span class="typed token" data-binding="" data-verso-hover="7">5</span>
<span class="unknown token" data-binding=""></span></code><div class="information">
                    <pre>5
</pre></div>
                  </div>
                </details></section>
            <section>
              <h2 id="instance-attribute">
                11.2.5.Â The Instance Attribute<span class="permalink-widget inline"><a href="find/?domain=Verso.Genre.Manual.section&name=instance-attribute" title="Permalink">ðŸ”—</a></span></h2>
              <p>
                The <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="" data-verso-hover="1413">instance</span></code> attribute declares a name to be an instance, with the specified priority.
Like other attributes, <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="" data-verso-hover="1413">instance</span></code> can be applied globally, locally, or only when the current namespace is opened.
The <span class="hl lean keyword-of"><code class="hover-info"><code>Lean.Parser.Command.declaration : command</code></code><code class="kw">instance</code></span> declaration is a form of definition that automatically applies the <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="" data-verso-hover="1413">instance</span></code> attribute.</p>
              <div class="namedocs" id="attr-next-next-next-next-next-next">
                <span class="label">attribute</span><span class="title">The <code>instance</code> Attribute</span><div class="text">
                  <p>
                    Declares the definition to which it is applied to be an instance.
If no priority is provided, then the default priority <code>default</code> is used.</p>
                  <pre class="grammar hl lean" data-lean-context="--grammar" id="Lean___Parser___Attr___instance"><span class="nonterminal" data-kind="attr">attr</span> <span class="bnf">::=</span> ...
    <span class="bnf">|</span> <span class="from-nonterminal" data-kind="Lean.Parser.Attr.instance"><span class="keyword">instance</span> <span class="from-nonterminal" data-kind="null"><span class="nonterminal" data-kind="prio.pseudo">prio</span><span class="bnf">?</span></span></span></pre></div>
                </div>
              </section>
            </section>
          <img referrerpolicy="no-referrer-when-downgrade" src="https://static.scarf.sh/a.png?x-pxid=11415071-5949-444a-8c93-ef0905bcd026"><nav class="prev-next-buttons">
            <a class="local-button active" href="Type-Classes/Class-Declarations/#class" rel="prev" title="11.1. Class Declarations"><span class="arrow">â†</span><span class="where">11.1. Class Declarations</span></a><a class="local-button active" href="Type-Classes/Instance-Synthesis/#instance-synth" rel="next" title="11.3. Instance Synthesis"><span class="where">11.3. Instance Synthesis</span><span class="arrow">â†’</span></a></nav>
          </div>
        </main></div>
    </body>
  </html>

