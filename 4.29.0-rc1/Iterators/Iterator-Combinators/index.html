<!DOCTYPE html>
<html>
  <head>
    <script>
      (function(){
  const {protocol:proto, host:hostName, pathname:path, search:srch, hash:hsh} = window.location;
  if (!(path.endsWith("/") || path.endsWith(".html"))) {
    window.location.replace(`${proto}//${hostName}${path}/${srch}${hsh}`);
  }
})()</script>
    <base href="./../../"><meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
    <title>Iterator Combinators</title><link rel="stylesheet" href="book.css">
    <link rel="stylesheet" href="verso-vars.css">
    <script src="https://cdn.jsdelivr.net/npm/marked@11.1.1/marked.min.js" integrity="sha384-zbcZAIxlvJtNE3Dp5nxLXdXtXyxwOdnILY1TDPVmKFhl4r4nSUG1r8bcFXGVa4Te" crossorigin="anonymous"></script>
    <script src="-verso-search/elasticlunr.min.js"></script>
    <script src="-verso-search/fuzzysort.min.js"></script>
    <script src="-verso-search/searchIndex.js"></script>
    <script type="module" src="-verso-search/search-init.js"></script>
    <link rel="stylesheet" href="-verso-search/search-box.css">
    <link rel="stylesheet" href="-verso-search/search-highlight.css">
    <link rel="stylesheet" href="-verso-search/domain-display.css">
    <script src="-verso-data/popper.min.js"></script>
    <script src="-verso-data/katex/math.js"></script>
    <script src="-verso-data/tippy-bundle.umd.min.js"></script>
    <script src="-verso-data/katex/katex.js"></script>
    <link rel="stylesheet" href="-verso-data/tippy-border.css">
    <link rel="stylesheet" href="-verso-data/katex/katex.css">
    <style>
.field-category > :first-child {
}

.field-category > :not(:first-child) {
  margin-left: 1rem;
}
</style><style>
.error-example-container:not(:last-child) {
  border-bottom: 1px solid gray;
  padding-bottom: var(--verso--box-padding);
}
.error-example-tab-list [role="tab"] {
  position: relative;
  z-index: 1;
  background: white;
  border: 0;
  padding: 0.2em;
  cursor: pointer;
}
.error-example-tab-list [role="tab"]:not(:last-child) {
  margin-right: 1rem;
}
.error-example-tab-list [role="tab"][aria-selected="true"] {
  border-bottom: 1px solid gray;
}
/* this rule and the following ensure that all tabs are the same height */
.error-example-tab-view {
  display: flex;
}
.error-example-tabpanel {
  margin-right: -100%;
  width: 100%;
  display: block;
}
.error-example-tabpanel.error-example-tabpanel-hidden {
  visibility: hidden;
}
.error-example-tabpanel .hl.lean .token {
  /* unset transition to avoid lag when switching panels */
  transition: visibility 0s;
}
  </style><style>
a.elan-command {
  color: inherit;
  text-decoration: currentcolor underline dotted;
}
a.elan-command:hover {
  text-decoration: currentcolor underline solid;
}

</style><style>
div.TODO {
  border: 5px solid red;
  position: relative;
}
div.TODO::before {
  content: "TODO";
  position: absolute;
  top: 0;
  right: 0;
  color: red;
  font-size: large;
  font-weight: bold;
  transform: rotate(-90deg) translate(-2em);
}
</style><style>
    main .theIndex {
      padding-left: 0;
      font-family: var(--verso-text-font-family);
    }

    main .theIndex nav {
      position: sticky;
      top: var(--verso-header-height);
      background: white;
      font-family: var(--verso-structure-font-family);
    }

    main .theIndex [id] {
      /* This needs the combined height of the index header and the page header. We
         know the height of the page header, but the index header height varies, so
         we use the maximum height it gets which also works well for readers with
         wide screens */
      scroll-margin-top: calc(var(--verso-header-height) + 7.5rem);
    }

    @media screen and (max-width: 700px) {
      /* On mobile, the sticky index takes up half the screen. */
      main .theIndex nav {
        position: static;
      }

      main .theIndex [id] {
        /* On mobile, the index header is not sticky, so we just need to
        be below the page header. */
        scroll-margin-top: var(--verso-header-height);
      }
    }

    main .theIndex nav ol {
      padding: 0;
    }

    main .theIndex nav ol li {
      display: inline-block;
    }

    main .theIndex nav ol li a {
      /* Padding instead of margin to have a bigger click target */
      padding-left: 0.5rem;
      padding-right: 0.5rem;
    }
    /* Increase the size of the touch target on phones */
    @media screen and (max-width: 700px) {
      main .theIndex nav ol li a {
        padding-left: 0.75rem;
        padding-right: 0.75rem;
      }
    }

    main .theIndex nav ol li:first-child a {
      padding-left: 0;
    }

    main .theIndex nav ol li + li:before {
      content: "|";
    }

    main .theIndex h1,
    main .theIndex h2,
    main .theIndex h3,
    main .theIndex h4,
    main .theIndex h5,
    main .theIndex h6 {
      margin-top: 0;
    }

    main .theIndex ol {
      list-style-type: none;
    }

    main .theIndex .division > ol {
      padding-left: 0;
      display: flex;
      flex-direction: column;
      gap: .5rem;
      overflow-wrap: break-word;
    }

   main .theIndex .division > ol > li {
      margin-bottom: 0.5rem;
    }

    main .theIndex .division ol ol {
      padding-left: 1rem;
    }

    main .theIndex .division {
      break-inside: avoid;
      counter-reset: none;
      max-width: none;
      width: auto;
    }
    </style><style>
  .error-explanation-metadata {
    margin-bottom: 2rem; /* Double the paragraph margin */
  }

  .error-explanation-metadatum:not(:last-child):after {
    content: '|';
    margin: 0 10px;
  }
  .error-explanation-removed-warning {
    border: 1px solid var(--verso-warning-color);
    border-radius: 0.5rem;
    padding-left: var(--verso--box-padding);
    padding-right: var(--verso--box-padding);
  }
  </style><style>
.hl.lean.tactic-view {
  white-space: collapse;
}
.hl.lean.tactic-view .tactic-state {
  display: block;
  left: 0;
  padding: 0;
  border: none;
}
.hl.lean.tactic-view .tactic-state .goal {
  margin-top: 1em;
  margin-bottom: 1em;
  display: block;
}
.hl.lean.tactic-view .tactic-state .goal:first-child {
  margin-top: 0.25em;
}
.hl.lean.tactic-view .tactic-state .goal:last-child {
  margin-bottom: 0.25em;
}


</style><style>.listBullet li::marker { content: var(--bullet); font-size: 1.2em; }</style><style>
.namedocs {
  position: relative;
  border: solid 1px #98B2C0;
  border-radius: .5rem;
  padding-top: var(--verso--box-padding);
  margin-top: var(--verso--box-vertical-margin);
  margin-bottom: var(--verso--box-vertical-margin);
}

.namedocs .text {
  /* Causes margins on child elements to collapse inside the element, such
     that the margins don't extend into parent with the background color.
     The effect is that weird borders in the definition box don't happen anymore. */
  display: flow-root;
  /* Add a padding. this is the same as the margin applied to the first and last child.
     The effect is that the padding looks the same size on all sides. */
  padding: 0 var(--verso--box-padding);
  border-top: 1px solid #98B2C0;
}

.namedocs .text > pre {
  overflow-x: auto;
}

.namedocs .signature {
  font-family: var(--verso-code-font-family);
  margin-top: 0 !important;
  margin-left: var(--verso--box-padding) !important;
  margin-bottom: .75rem !important;
}

.namedocs .label {
  display: block;
  font-size: small;
  font-family: var(--verso-structure-font-family);
  position: absolute;
  top: -0.65rem;
  left: 1rem;
  background: #fff;
  padding: 0 .5rem .125rem;
  border: 1px solid #98B2C0;
  border-radius: 1rem;
  color: #555;
}

.namedocs h1 {
  font-size: inherit;
  font-weight: bold
  margin-top: 1rem;
  margin-bottom: 1rem;
}

.namedocs > .text .constructor {
  padding-top: 0;
  padding-right: 0;
  padding-bottom: 0;
  margin-top: 0.5rem;
  margin-bottom: 1.5rem;
}

.namedocs > .text .constructor::before {
  content: '| ';
  display: block;
  font-family: var(--verso-code-font-family);
  font-weight: bold;
  float: left;
  width: 0.5rem;
  white-space: pre;
}

.namedocs > .text .constructor .name-and-type {
  padding-left: 0.5rem;
  float: left;
  margin-top: 0;
  max-width: calc(100% - 1rem);
}
.namedocs > .text .constructor .docs {
  clear: both;
  padding-left: 1rem;
}

/* These margins work together with the padding on .text */
.namedocs .text > :first-child {
  margin-top: var(--verso--box-padding);
}
.namedocs .text > :last-child {
  margin-bottom: var(--verso--box-padding);
}

.namedocs .methods td, .namedocs .fields td {
  vertical-align: top;
}
.namedocs .inheritance {
  vertical-align: top;
  font-size: smaller;
  font-family: var(--verso-structure-font-family);
}
.namedocs .inheritance ol {
  display: inline-block;
  margin: 0;
  padding: 0;
}
.namedocs .inheritance ol li {
  list-style-type: none;
  display: inline-block;
}
.namedocs .inheritance ol li::after {
  content: " > "
}
.namedocs .inheritance ol li:last-child::after {
  content: "";
}

.namedocs .extends {
  display: inline;
  margin: 0;
  padding: 0;
}

.namedocs .extends li {
  list-style-type: none;
  display: inline-block;
}

.namedocs .extends li label {
  padding-right: 1rem;
}

.namedocs .subdocs .name-and-type {
  font-size: 1rem;
  margin-left: 0;
  margin-top: 0;
  margin-right: 0;
  margin-bottom: 0.5rem;
}

.namedocs .subdocs .docs {
  margin-left: 1.5rem;
  margin-top: 0;
  margin-right: 0;
  margin-bottom: 0.5rem;
}

.namedocs:has(input[data-parent-idx]) [data-inherited-from] {
  transition-property: opacity, display;
  transition-duration: 0.4s;
  transition-behavior: allow-discrete;
  @starting-style { opacity: 0 !important; }
}

#this-page-items .tactic-name { font-weight: bold; }
.namedocs:has(input[data-parent-idx="0"]) [data-inherited-from="0"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="0"]:checked) [data-inherited-from="0"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="0"]:checked):has(.inheritance[data-inherited-from="0"]:hover) [data-inherited-from]:not([data-inherited-from="0"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="1"]) [data-inherited-from="1"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="1"]:checked) [data-inherited-from="1"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="1"]:checked):has(.inheritance[data-inherited-from="1"]:hover) [data-inherited-from]:not([data-inherited-from="1"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="2"]) [data-inherited-from="2"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="2"]:checked) [data-inherited-from="2"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="2"]:checked):has(.inheritance[data-inherited-from="2"]:hover) [data-inherited-from]:not([data-inherited-from="2"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="3"]) [data-inherited-from="3"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="3"]:checked) [data-inherited-from="3"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="3"]:checked):has(.inheritance[data-inherited-from="3"]:hover) [data-inherited-from]:not([data-inherited-from="3"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="4"]) [data-inherited-from="4"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="4"]:checked) [data-inherited-from="4"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="4"]:checked):has(.inheritance[data-inherited-from="4"]:hover) [data-inherited-from]:not([data-inherited-from="4"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="5"]) [data-inherited-from="5"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="5"]:checked) [data-inherited-from="5"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="5"]:checked):has(.inheritance[data-inherited-from="5"]:hover) [data-inherited-from]:not([data-inherited-from="5"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="6"]) [data-inherited-from="6"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="6"]:checked) [data-inherited-from="6"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="6"]:checked):has(.inheritance[data-inherited-from="6"]:hover) [data-inherited-from]:not([data-inherited-from="6"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="7"]) [data-inherited-from="7"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="7"]:checked) [data-inherited-from="7"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="7"]:checked):has(.inheritance[data-inherited-from="7"]:hover) [data-inherited-from]:not([data-inherited-from="7"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="8"]) [data-inherited-from="8"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="8"]:checked) [data-inherited-from="8"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="8"]:checked):has(.inheritance[data-inherited-from="8"]:hover) [data-inherited-from]:not([data-inherited-from="8"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="9"]) [data-inherited-from="9"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="9"]:checked) [data-inherited-from="9"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="9"]:checked):has(.inheritance[data-inherited-from="9"]:hover) [data-inherited-from]:not([data-inherited-from="9"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="10"]) [data-inherited-from="10"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="10"]:checked) [data-inherited-from="10"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="10"]:checked):has(.inheritance[data-inherited-from="10"]:hover) [data-inherited-from]:not([data-inherited-from="10"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="11"]) [data-inherited-from="11"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="11"]:checked) [data-inherited-from="11"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="11"]:checked):has(.inheritance[data-inherited-from="11"]:hover) [data-inherited-from]:not([data-inherited-from="11"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="12"]) [data-inherited-from="12"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="12"]:checked) [data-inherited-from="12"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="12"]:checked):has(.inheritance[data-inherited-from="12"]:hover) [data-inherited-from]:not([data-inherited-from="12"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="13"]) [data-inherited-from="13"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="13"]:checked) [data-inherited-from="13"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="13"]:checked):has(.inheritance[data-inherited-from="13"]:hover) [data-inherited-from]:not([data-inherited-from="13"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="14"]) [data-inherited-from="14"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="14"]:checked) [data-inherited-from="14"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="14"]:checked):has(.inheritance[data-inherited-from="14"]:hover) [data-inherited-from]:not([data-inherited-from="14"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="15"]) [data-inherited-from="15"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="15"]:checked) [data-inherited-from="15"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="15"]:checked):has(.inheritance[data-inherited-from="15"]:hover) [data-inherited-from]:not([data-inherited-from="15"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="16"]) [data-inherited-from="16"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="16"]:checked) [data-inherited-from="16"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="16"]:checked):has(.inheritance[data-inherited-from="16"]:hover) [data-inherited-from]:not([data-inherited-from="16"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="17"]) [data-inherited-from="17"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="17"]:checked) [data-inherited-from="17"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="17"]:checked):has(.inheritance[data-inherited-from="17"]:hover) [data-inherited-from]:not([data-inherited-from="17"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="18"]) [data-inherited-from="18"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="18"]:checked) [data-inherited-from="18"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="18"]:checked):has(.inheritance[data-inherited-from="18"]:hover) [data-inherited-from]:not([data-inherited-from="18"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="19"]) [data-inherited-from="19"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="19"]:checked) [data-inherited-from="19"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="19"]:checked):has(.inheritance[data-inherited-from="19"]:hover) [data-inherited-from]:not([data-inherited-from="19"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="20"]) [data-inherited-from="20"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="20"]:checked) [data-inherited-from="20"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="20"]:checked):has(.inheritance[data-inherited-from="20"]:hover) [data-inherited-from]:not([data-inherited-from="20"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="21"]) [data-inherited-from="21"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="21"]:checked) [data-inherited-from="21"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="21"]:checked):has(.inheritance[data-inherited-from="21"]:hover) [data-inherited-from]:not([data-inherited-from="21"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="22"]) [data-inherited-from="22"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="22"]:checked) [data-inherited-from="22"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="22"]:checked):has(.inheritance[data-inherited-from="22"]:hover) [data-inherited-from]:not([data-inherited-from="22"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="23"]) [data-inherited-from="23"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="23"]:checked) [data-inherited-from="23"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="23"]:checked):has(.inheritance[data-inherited-from="23"]:hover) [data-inherited-from]:not([data-inherited-from="23"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="24"]) [data-inherited-from="24"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="24"]:checked) [data-inherited-from="24"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="24"]:checked):has(.inheritance[data-inherited-from="24"]:hover) [data-inherited-from]:not([data-inherited-from="24"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="25"]) [data-inherited-from="25"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="25"]:checked) [data-inherited-from="25"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="25"]:checked):has(.inheritance[data-inherited-from="25"]:hover) [data-inherited-from]:not([data-inherited-from="25"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="26"]) [data-inherited-from="26"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="26"]:checked) [data-inherited-from="26"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="26"]:checked):has(.inheritance[data-inherited-from="26"]:hover) [data-inherited-from]:not([data-inherited-from="26"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="27"]) [data-inherited-from="27"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="27"]:checked) [data-inherited-from="27"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="27"]:checked):has(.inheritance[data-inherited-from="27"]:hover) [data-inherited-from]:not([data-inherited-from="27"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="28"]) [data-inherited-from="28"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="28"]:checked) [data-inherited-from="28"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="28"]:checked):has(.inheritance[data-inherited-from="28"]:hover) [data-inherited-from]:not([data-inherited-from="28"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="29"]) [data-inherited-from="29"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="29"]:checked) [data-inherited-from="29"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="29"]:checked):has(.inheritance[data-inherited-from="29"]:hover) [data-inherited-from]:not([data-inherited-from="29"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="30"]) [data-inherited-from="30"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="30"]:checked) [data-inherited-from="30"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="30"]:checked):has(.inheritance[data-inherited-from="30"]:hover) [data-inherited-from]:not([data-inherited-from="30"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="31"]) [data-inherited-from="31"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="31"]:checked) [data-inherited-from="31"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="31"]:checked):has(.inheritance[data-inherited-from="31"]:hover) [data-inherited-from]:not([data-inherited-from="31"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="32"]) [data-inherited-from="32"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="32"]:checked) [data-inherited-from="32"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="32"]:checked):has(.inheritance[data-inherited-from="32"]:hover) [data-inherited-from]:not([data-inherited-from="32"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="33"]) [data-inherited-from="33"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="33"]:checked) [data-inherited-from="33"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="33"]:checked):has(.inheritance[data-inherited-from="33"]:hover) [data-inherited-from]:not([data-inherited-from="33"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="34"]) [data-inherited-from="34"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="34"]:checked) [data-inherited-from="34"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="34"]:checked):has(.inheritance[data-inherited-from="34"]:hover) [data-inherited-from]:not([data-inherited-from="34"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="35"]) [data-inherited-from="35"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="35"]:checked) [data-inherited-from="35"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="35"]:checked):has(.inheritance[data-inherited-from="35"]:hover) [data-inherited-from]:not([data-inherited-from="35"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="36"]) [data-inherited-from="36"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="36"]:checked) [data-inherited-from="36"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="36"]:checked):has(.inheritance[data-inherited-from="36"]:hover) [data-inherited-from]:not([data-inherited-from="36"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="37"]) [data-inherited-from="37"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="37"]:checked) [data-inherited-from="37"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="37"]:checked):has(.inheritance[data-inherited-from="37"]:hover) [data-inherited-from]:not([data-inherited-from="37"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="38"]) [data-inherited-from="38"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="38"]:checked) [data-inherited-from="38"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="38"]:checked):has(.inheritance[data-inherited-from="38"]:hover) [data-inherited-from]:not([data-inherited-from="38"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="39"]) [data-inherited-from="39"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="39"]:checked) [data-inherited-from="39"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="39"]:checked):has(.inheritance[data-inherited-from="39"]:hover) [data-inherited-from]:not([data-inherited-from="39"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="40"]) [data-inherited-from="40"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="40"]:checked) [data-inherited-from="40"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="40"]:checked):has(.inheritance[data-inherited-from="40"]:hover) [data-inherited-from]:not([data-inherited-from="40"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="41"]) [data-inherited-from="41"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="41"]:checked) [data-inherited-from="41"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="41"]:checked):has(.inheritance[data-inherited-from="41"]:hover) [data-inherited-from]:not([data-inherited-from="41"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="42"]) [data-inherited-from="42"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="42"]:checked) [data-inherited-from="42"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="42"]:checked):has(.inheritance[data-inherited-from="42"]:hover) [data-inherited-from]:not([data-inherited-from="42"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="43"]) [data-inherited-from="43"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="43"]:checked) [data-inherited-from="43"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="43"]:checked):has(.inheritance[data-inherited-from="43"]:hover) [data-inherited-from]:not([data-inherited-from="43"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="44"]) [data-inherited-from="44"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="44"]:checked) [data-inherited-from="44"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="44"]:checked):has(.inheritance[data-inherited-from="44"]:hover) [data-inherited-from]:not([data-inherited-from="44"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="45"]) [data-inherited-from="45"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="45"]:checked) [data-inherited-from="45"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="45"]:checked):has(.inheritance[data-inherited-from="45"]:hover) [data-inherited-from]:not([data-inherited-from="45"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="46"]) [data-inherited-from="46"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="46"]:checked) [data-inherited-from="46"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="46"]:checked):has(.inheritance[data-inherited-from="46"]:hover) [data-inherited-from]:not([data-inherited-from="46"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="47"]) [data-inherited-from="47"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="47"]:checked) [data-inherited-from="47"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="47"]:checked):has(.inheritance[data-inherited-from="47"]:hover) [data-inherited-from]:not([data-inherited-from="47"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="48"]) [data-inherited-from="48"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="48"]:checked) [data-inherited-from="48"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="48"]:checked):has(.inheritance[data-inherited-from="48"]:hover) [data-inherited-from]:not([data-inherited-from="48"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="49"]) [data-inherited-from="49"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="49"]:checked) [data-inherited-from="49"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="49"]:checked):has(.inheritance[data-inherited-from="49"]:hover) [data-inherited-from]:not([data-inherited-from="49"]) {
  opacity: 0.5;
}
</style><style>.keyword-of .kw {
  font-weight: 500;
}
.keyword-of .hover-info {
  display: none;
}
.keyword-of .kw:hover {
  background-color: #eee;
  border-radius: 2px;
}
</style><style>#toc .split-toc > ol .syntax .keyword { font-family: var(--verso-code-font-family); font-weight: 600; }</style><style>.example {
  border: 1px solid #98B2C0;
  border-radius: 0.5rem;
  margin-bottom: var(--verso--box-vertical-margin);
  margin-top: var(--verso--box-vertical-margin);
}
/* 1400 px is the cutoff for when the margin notes move out of the margin and into floated elements. */
@media screen and (700px < width <= 1400px) {
  .example {
    clear: both; /* Don't overlap margin notes with examples */
  }
}
.example .description::before {
  content: "Example: ";
}
.example .description {
  font-style: italic;
  font-family: var(--verso-structure-font-family);
  padding: var(--verso--box-padding);
}
.example[open] .description {
  margin-bottom: 0;
}
.example-content {
  padding: 0 var(--verso--box-padding) var(--verso--box-padding);
  position: relative;
}
.example-content > :first-child {
  margin-top: 0;
}
.example-content p:last-child {
  margin-bottom:0;
}
.example .hl.lean.block {
  overflow-x: auto;
}
.live-link {
  font-family: var(--verso-structure-font-family);
  position: absolute;
  bottom: 0px;
  right: 0px;
  padding: 0.5rem;
  border-top: 1px solid #98B2C0;
  border-left: 1px solid #98B2C0;
  border-top-left-radius: 0.5rem;
  display: none; /* default to not showing */
}
.live-link a {
  text-decoration: none;
  color: var(--lean-blue);
}
</style><style>
.toml {
  font-family: var(--verso-code-font-family);
}

pre.toml {
  margin: 0.5rem .75rem;
  padding: 0.1rem 0;
}

.toml .bool, .toml .table-header {
    font-weight: 600;
}

.toml .table-header .key {
    color: #3030c0;
}

.toml .bool {
    color: #107090;
}

.toml .string {
    color: #0a5020;
}

.toml a, .toml a:link {
    color: inherit;
    text-decoration: none;
    border-bottom: 1px dotted #a2a2a2;
}

.toml a:hover {
    border-bottom-style: solid;
}
</style><style>.grammar .keyword {
  font-weight: 500 !important;
}

.grammar {
  padding-top: 0.25rem;
  padding-bottom: 0.25rem;
}

.grammar .comment {
  font-style: italic;
  font-family: var(--verso-text-font-family);
  /* TODO add background and text colors to Verso theme, then compute a background here */
  background-color: #fafafa;
  border: 1px solid #f0f0f0;
}

.grammar .local-name {
  font-family: var(--verso-code-font-family);
  font-style: italic;
}

.grammar .nonterminal {
  font-style: italic;
}
.grammar .nonterminal > .hover-info, .grammar .from-nonterminal > .hover-info, .grammar .local-name > .hover-info {
  display: none;
}
.grammar .active {
  background-color: #eee;
  border-radius: 2px;
}
.grammar a {
  color: inherit;
  text-decoration: currentcolor underline dotted;
}
</style><style>
span.TODO {
  border: 3px solid red;
  display: inline;
  position: relative;
  float: right;
  clear: right;
  margin-top: 1rem;
  width: 15vw;
  margin-right: -17vw;
  color: red;
  font-size: large;
  font-weight: bold;
}
</style><style>
.marginalia .note {
  position: relative;
  padding: 0.5rem;
}

/* Wide viewport */
@media screen and (min-width: 1400px) {
  .marginalia .note {
    float: right;
    clear: right;
    margin-right: -16rem;
    width: 13rem;
    margin-top: 1rem;
  }
}

/* Very wide viewport */
@media screen and (min-width: 1600px) {
  .marginalia .note {
    margin-right: -19vw;
    width: 15vw;
  }
}

.marginalia:hover, .marginalia:hover .note, .marginalia:has(.note:hover) {
  background-color: var(--lean-accent-light-blue);
}

/* Medium viewport */
@media screen and (700px < width <= 1400px) {
  .marginalia .note {
    float: right;
    clear: right;
    width: 40%;
    margin: 1rem 0;
    margin-left: 10%;
  }
}

/* Narrow viewport (e.g. phone) */
@media screen and (width <= 700px) {
  .marginalia .note {
    float: left;
    clear: left;
    width: 90%;
    margin: 1rem 5%;
  }
}

body {
  counter-reset: margin-note-counter;
}
.marginalia .note {
  counter-increment: margin-note-counter;
}
.marginalia .note::before {
  content: counter(margin-note-counter) ".";
  position: absolute;
  vertical-align: baseline;
  font-size: 0.9em;
  font-weight: bold;
  left: -3rem;
  width: 3rem;
  text-align: right;
}
.marginalia::after {
  content: counter(margin-note-counter);
  vertical-align: super;
  font-size: 0.7em;
  font-weight: bold;
  margin-right: 0.5em;
}
</style><style>
.namedocs .title {
  font-family: var(--verso-structure-font-family);
  font-size: 1.1rem;
  margin-top: 0;
  margin-left: 1rem;
  margin-right: 1.5rem;
  margin-bottom: 0.75rem;
  display: inline-block;
}
</style><style>
.lake-opt a {
  color: inherit;
  text-decoration: currentcolor underline dotted;
}
.lake-opt a:hover {
  text-decoration: currentcolor underline solid;
}
</style><style>
.env-var a {
  color: inherit;
  text-decoration: currentcolor underline dotted;
}
.env-var a:hover {
  text-decoration: currentcolor underline solid;
}

</style><style>
.example-file {
  white-space: normal;
  font-family: var(--verso-structure-font-family);
  margin: 1rem;
  width: fit-content;
  border: 1px solid #ddd;
  padding: 0.5rem;

  /* These are necessary for the container to behave nicely on mobile */
  overflow-x: auto;
  max-width: 100%;
  box-sizing: border-box;
}
.example-file::before {
  counter-reset: linenumber;
}
.example-file > .line {
  display: block;
  white-space: pre;
  counter-increment: linenumber;
  font-family: var(--verso-code-font-family);
}
.example-file > .line::before {
  -webkit-user-select: none;
  display: inline-block;
  content: counter(linenumber);
  border-right: 1px solid #ddd;
  width: 2em;
  padding-right: 0.25em;
  margin-right: 0.25em;
  font-family: var(--verso-code-font-family);
  text-align: right;
}
.example-file > .line::after {
  -webkit-user-select: none;
  display: inline-block;
  content: "âŽ";
  opacity: 0;
}
.example-file > .line:hover::after {
  opacity: 1;
}
.example-file > .line:hover, .example-file > .line:hover::before {
  background-color: #eee;
}
.example-file > .empty {
  display: block;
  white-space: pre;
  font-family: var(--verso-code-font-family);
  font-style: italic;
}
.example-file > .empty::before {
  -webkit-user-select: none;
  display: inline-block;
  content: "";
  border-right: 1px solid #ddd;
  width: 2em;
  padding-right: 0.25em;
  margin-right: 0.25em;
  font-family: var(--verso-code-font-family);
  text-align: right;
}
</style><style>
a.lake-command {
  color: inherit;
  text-decoration: currentcolor underline dotted;
}
a.lake-command:hover {
  text-decoration: currentcolor underline solid;
}

</style><style>.namedocs .label a { color: inherit; }</style><style>
dl.toml-table-field-spec {
}
</style><style>
.toml-field a {
  color: inherit;
  text-decoration: currentcolor underline dotted;
}
.toml-field a:hover {
  text-decoration: currentcolor underline solid;
}
</style><style>.error-explanation-short-name { hyphenate-character: ''; }</style><style>.plain-keyword {
  font-weight: 500;
}
</style><style>
table.tabular {
  margin: auto;
  border-spacing: 1rem;
}
table.tabular.left-align {
  margin-right: auto;
  margin-left: 0;
}
table.tabular.center-align {
  margin: auto;
}
table.tabular.right-align {
  margin-left auto;
  margin-right: 0;
}
table.tabular td, table.tabular th {
  text-align: left;
  vertical-align: top;
}
table.tabular td > p:first-child, table.tabular th > p:first-child {
  margin-top: 0;
}
table.tabular td > p:last-child, table.tabular th > p:first-child {
  margin-bottom: 0;
}
</style><style>
.section-note .note {
  position: relative;
  padding: 0.5rem;
  border: 1px solid #98B2C0;
  border-radius: 0.5rem;
  margin-bottom: var(--verso--box-vertical-margin);
  padding: 0 var(--verso--box-padding) var(--verso--box-padding);
}

.section-note .note > h1 {
  font-size: 1.25rem;
  font-weight: bold;
  margin-top: 0;
  margin-bottom: 1rem;
}

.section-note .note > :first-child {
  margin-top: 0;
  padding-top: 0;
}

/* Wide viewport */
@media screen and (min-width: 1400px) {
  .section-note .note {
    float: right;
    clear: right;
    margin-right: -16rem;
    width: 13rem;
  }
}

/* Very wide viewport */
@media screen and (min-width: 1600px) {
  .section-note .note {
    margin-right: -19vw;
    width: 15vw;
  }
}

/* Medium viewport */
@media screen and (700px < width <= 1400px) {
  .section-note .note {
    float: right;
    clear: right;
    width: calc(50% - 2rem);
    min-width: 12rem;
    margin: 1rem 0;
    margin-left: 10%;
  }
}

/* Narrow viewport (e.g. phone) */
@media screen and (width <= 700px) {
  .section-note .note {
    float: left;
    clear: left;
    width: calc(100% - 2rem);
    margin: 1rem 0;
  }
}

</style><style>
.syntax-error {
  white-space: normal;
}
.syntax-error::before {
  counter-reset: linenumber;
}
.syntax-error > .line {
  display: block;
  white-space: pre;
  counter-increment: linenumber;
  font-family: var(--verso-code-font-family);
}
.syntax-error > .line::before {
  -webkit-user-select: none;
  display: inline-block;
  content: counter(linenumber);
  border-right: 1px solid #ddd;
  width: 2em;
  padding-right: 0.25em;
  margin-right: 0.25em;
  font-family: var(--verso-code-font-family);
  text-align: right;
}

:is(.syntax-error > .line):has(.parse-message)::before {
  color: red;
  font-weight: bold;
}

.syntax-error .parse-message > code.hover-info {
  display:none;
}

.syntax-error .parse-message {
  white-space: pre;
  text-decoration-skip-ink: none;
  color: red;
  font-weight: 600;
}
</style><style>
a.technical-term {
  color: inherit;
  text-decoration: currentcolor underline dotted;
}
a.technical-term:hover {
  text-decoration: currentcolor underline solid;
}
/* Highlight the clicked term */
.def-technical-term:target {
  background-color: var(--verso-selected-color);
  outline: auto;
}
</style><style>

.hl.lean {
  white-space: pre;
  font-weight: normal;
  font-style: normal;
  font-size: inherit;
}

.hl.lean .keyword {
  color: var(--verso-code-keyword-color,);
  font-weight: var(--verso-code-keyword-weight, bold);
  font-style: var(--verso-code-keyword-style, normal);
  font-family: var(--verso-code-keyword-font-family,);
}

.hl.lean .const {
  color: var(--verso-code-const-color,);
  font-weight: var(--verso-code-const-weight, normal);
  font-style: var(--verso-code-const-style, normal);
  font-family: var(--verso-code-const-font-family,);
}

.hl.lean .var {
  color: var(--verso-code-var-color,);
  font-weight: var(--verso-code-var-weight, normal);
  font-style: var(--verso-code-var-style, italic);
  font-family: var(--verso-code-var-font-family,);

  position: relative;
}

.hl.lean .literal, .hl.lean .unknown {
  color: var(--verso-code-color,);
  font-weight: normal;
  font-style: normal;
  font-family: var(--verso-code-font-family,);
}

.hover-container {
  width: 0;
  height: 0;
  position: relative;
  display: inline;
}

.hl.lean a {
  color: inherit;
  text-decoration: currentcolor underline dotted;
}

.hl.lean a:hover {
  text-decoration: currentcolor underline solid;
}

.hl.lean .hover-info {
  white-space: normal;
}

.hl.lean .token .hover-info {
  display: none;
  position: absolute;
  background-color: #e5e5e5;
  border: 1px solid black;
  padding: 0.5rem;
  z-index: 300;
}

.hl.lean .hover-info.messages {
  max-height: 10rem;
  overflow-y: auto;
  overflow-x: hidden;
  scrollbar-gutter: stable;
  padding: 0 0.5rem 0 0;
  display: block;
}

.hl.lean .hover-info code {
  white-space: pre-wrap;
  background: none;
  color: black;
}

.hl.lean .hover-info.messages > code {
  padding: 0.5rem;
  display: block;
  width: fit-content;
}

.hl.lean .hover-info.messages > code:only-child {
  margin: 0;
}

.hl.lean .hover-info.messages > code {
  margin: 0.1rem;
}

.hl.lean .hover-info.messages > code:not(:first-child) {
  margin-top: 0rem;
}

.hl.lean {
}

.hl.lean.block {
  display: block;
}

.hl.lean.inline {
  display: inline;
  white-space: pre-wrap;
}

.hl.lean * {
}

.hl.lean .token {
  transition: all 0.25s; /* Slight fade for highlights */
}

@media (hover: hover) {
  .hl.lean .token.binding-hl, .hl.lean .literal.string:hover, .hl.lean .token.typed:hover {
    background-color: #eee;
    border-radius: 2px;
    transition: none;
  }
}


.hl.lean .has-info .token:not(.tactic-state):not(.tactic-state *), .hl.lean .has-info .inter-text:not(.tactic-state):not(.tactic-state *) {
  text-decoration-style: wavy;
  text-decoration-line: underline;
  text-decoration-thickness: from-font;
  text-decoration-skip-ink: none;
}

.hl.lean .has-info .hover-info {
  display: none;
  position: absolute;
  transform: translate(0.25rem, 0.3rem);
  border: 1px solid black;
  padding: 0.5rem;
  z-index: 400;
  text-align: left;
}

.hl.lean .has-info.error :not(.tactic-state):not(.tactic-state *){
  text-decoration-color: red;
}

@media (hover: hover) {
  .hl.lean .has-info.error:hover {
    background-color: #ffb3b3;
  }
}

.hl.lean .hover-info.messages > code.error {
  background-color: #e5e5e5;
  border-left: 0.2rem solid #ffb3b3;
}

.tippy-box[data-theme~='error'] .hl.lean .hover-info.messages > code.error {
  background: none;
  border: none;
}

.error .verso-message, .error .verso-message .token, .error .verso-message label {
  color: var(--verso-error-color);
}

.error .verso-message .case-label:has(input[type="checkbox"])::before {
  background-color: var(--verso-error-color) !important;
}

.hl.lean .has-info.warning :not(.tactic-state):not(.tactic-state *) {
  text-decoration-color: var(--verso-warning-indicator-color);
}

@media (hover: hover) {
  .hl.lean .has-info.warning:hover {
    background-color:var(--verso-warning-color);
  }
}

.hl.lean .hover-info.messages > code.warning {
  background-color: var(--verso-warning-color);
}

.lean-output {
  border-left: 0.2em solid transparent;
  padding: 0 0 0 0.5em;
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
}

.lean-output.error {
  border-color: var(--verso-error-indicator-color);
}

.lean-output.information {
  border-color: var(--verso-info-indicator-color);
}

.lean-output.warning {
  border-color: var(--verso-warning-indicator-color);
}

.hl.lean .hover-info.messages > code.error {
  background-color: #e5e5e5;
  border-left: 0.2rem solid var(--verso-warning-color);
}

.tippy-box[data-theme~='warning'] .hl.lean .hover-info.messages > code.warning {
  background: none;
  border: none;
}


.hl.lean .has-info.information :not(.tactic-state):not(.tactic-state *) {
  text-decoration-color: var(--verso-info-indicator-color, blue);
}

@media (hover: hover) {
  .hl.lean .has-info.information:hover {
    background-color: #4777ff;
  }
}


.hl.lean .hover-info.messages > code.information {
  background-color: #e5e5e5;
  border-left: 0.2rem solid #4777ff;
}

.tippy-box[data-theme~='info'] .hl.lean .hover-info.messages > code.information {
  background: none;
  border: none;
}

.hl.lean div.docstring {
  font-family: var(--verso-text-font-family, sans-serif);
  white-space: normal;
  max-width: calc(min(40rem, 90vw));
  width: max-content;
}

.hl.lean div.docstring > :last-child {
  margin-bottom: 0;
}

.hl.lean div.docstring > :first-child {
  margin-top: 0;
}

.hl.lean .hover-info .sep {
  display: block;
  width: auto;
  margin-left: 1rem;
  margin-right: 1rem;
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
  padding: 0;
  height: 1px;
  border-top: 1px solid #ccc;
}

.hl.lean code {
  font-family: var(--verso-code-font-family);
}

.hl.lean .tactic-state {
  display: none;
  position: relative;
  width: fit-content;
  border: 1px solid #888888;
  border-radius: 0.1rem;
  padding: 0.5rem;
  font-family: sans-serif;
  background-color: #ffffff;
}

.hl.lean.popup .tactic-state {
  position: static;
  display: block;
  width: auto;
  border: none;
  padding: 0.5rem;
  font-family: sans-serif;
  background-color: #ffffff;
}


.hl.lean .tactic {
  position: relative;
  display: inline;
  vertical-align: top;
  /* Without these, mobile Safari will start making font sizes inconsistent when its text size adjustment feature is triggered.*/
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
}

.hl.lean .tactic:has(.tactic-toggle:checked) {
  display: inline-grid;
  grid-template-columns: 1fr;
}

.hl.lean .tactic-toggle:checked ~ .tactic-state {
  display: inline-block;
  vertical-align: top;
  grid-row: 2;
  justify-self: start;
}

.hl.lean .tactic > label {
  position: relative;
  grid-row: 1;
  display: inline;
}

@media (hover: hover) {
  .hl.lean .tactic:has(.tactic-toggle:not(:checked)) > label:hover {
    background-color: #eeeeee;
  }
}

.hl.lean .tactic-toggle {
  position: absolute;
  top: 0;
  left: 0;
  opacity: 0;
  height: 0;
  width: 0;
  z-index: -10;
}

.hl.lean .tactic > label::after {
  content: "";
  border: 1px solid #bbbbbb;
  /* These need to be em, not rem, to scale with the font */
  border-radius: 1em;
  height: 0.25em;
  vertical-align: middle;
  width: 0.6em;
  margin-left: 0.1em;
  margin-right: 0.1em;
  display: inline-block;
  transition: all 0.5s;
}

/*
@media (hover: hover) {
  .hl.lean .tactic > label:hover::after {
    border: 1px solid #aaaaaa;
    background-color: #aaaaaa;
    transition: all 0.5s;
  }
}
*/

.hl.lean .tactic > label:has(+ .tactic-toggle:checked)::after {
  border: 1px solid #999999;
  background-color: #999999;
  transition: all 0.5s;
}

.hl.lean .tactic-state .goal + .goal {
  margin-top: 1.5em;
}

/*
Some CSS frameworks customize details/summary in ways not compatible with Verso's output.
*/

.hl.lean details {
  display: block !important;
  margin: 0;
}

.hl.lean details summary {
  display: list-item !important;
  margin: 0;
}

.hl.lean details summary:focus {
  outline: none;
  outline-offset: none;
  color: inherit;
}

.hl.lean ul > li {
  margin-bottom: 0;
}

.hl.lean details summary::marker {
  display: inline !important;
}

.hl.lean details > summary:first-of-type {
  list-style-type: disclosure-closed;
  list-style-position: inside;
}

.hl.lean details[open] > summary:first-of-type {
  list-style-type: disclosure-open;
}

.hl.lean details summary::before, .hl.lean details summary::after {
  content: "" !important;
  background: none;
  display: none;
}

.hl.lean .tactic-state summary {
  /* These need to be em, not rem, to scale with the font */
  margin-left: -0.5em;
}

.hl.lean .tactic-state details {
  /* These need to be em, not rem, to scale with the font */
  padding-left: 0.5em;
}

.hl.lean .case-label {
  display: block;
  position: relative;
}

.hl.lean .case-label input[type="checkbox"] {
  position: absolute;
  top: 0;
  left: 0;
  opacity: 0;
  height: 0;
  width: 0;
  z-index: -10;
}

.hl.lean .case-label:has(input[type="checkbox"])::before {
  display: inline-block;
  background-color: black;
  content: ' ';
  transition: ease 0.2s;
  margin-right: 0.7em;
  clip-path: polygon(100% 0, 0 0, 50% 100%);
  width: 0.6em;
  height: 0.6em;
  vertical-align: middle;
}

.hl.lean .case-label:has(input[type="checkbox"]:not(:checked))::before {
  transform: rotate(-90deg);
}

.hl.lean .case-label:has(input[type="checkbox"]) {

}

.hl.lean .case-label:has(input[type="checkbox"]:checked) {

}


.hl.lean .labeled-case > :not(:first-child) {
  max-height: 0px;
  display: block;
  overflow: hidden;
  transition: max-height 0.1s ease-in;
  /* These need to be em, not rem, to scale with the font */
  margin-left: 0.5em;
  margin-top: 0.1em;
}

.hl.lean .labeled-case:has(.case-label input[type="checkbox"]:checked) > :not(:first-child) {
  max-height: 100%;
}


.hl.lean .goal-name::before {
  font-style: normal;
  content: "case ";
}

.hl.lean .goal-name {
  font-style: italic;
  font-family: var(--verso-code-font-family);
  color: inherit;
}

.hl.lean .hypotheses {
  display: table;
}

.hl.lean .hypothesis {
  display: table-row;
}

.hl.lean .hypothesis > * {
  display: table-cell;
}


.hl.lean .hypotheses .colon {
  text-align: center;
  /* This needs to be em, not rem, to scale with the font */
  min-width: 1em;
}

.hl.lean .hypotheses .name {
  text-align: right;
}

.hl.lean .hypotheses .name,
.hl.lean .hypotheses .type,
.hl.lean .conclusion .type {
  font-family: var(--verso-code-font-family);
}

.tippy-box {
  /* Without these, mobile Safari will start making font sizes inconsistent when its text size adjustment feature is triggered.*/
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;

}

.tippy-box[data-theme~='lean'] {
  background-color: #e5e5e5;
  color: black;
  border: 1px solid black;
}
.tippy-box[data-theme~='lean'][data-placement^='top'] > .tippy-arrow::before {
  border-top-color: #e5e5e5;
}
.tippy-box[data-theme~='lean'][data-placement^='bottom'] > .tippy-arrow::before {
  border-bottom-color: #e5e5e5;
}
.tippy-box[data-theme~='lean'][data-placement^='left'] > .tippy-arrow::before {
  border-left-color: #e5e5e5;
}
.tippy-box[data-theme~='lean'][data-placement^='right'] > .tippy-arrow::before {
  border-right-color: #e5e5e5;
}

.tippy-box[data-theme~='message'][data-placement^='top'] > .tippy-arrow::before {
  border-top-color: #e5e5e5;
  border-width: 11px 11px 0;
}
.tippy-box[data-theme~='message'][data-placement^='top'] > .tippy-arrow::after {
  bottom: -11px;
  border-width: 11px 11px 0;
}
.tippy-box[data-theme~='message'][data-placement^='bottom'] > .tippy-arrow::before {
  border-width: 0 11px 11px;
}
.tippy-box[data-theme~='message'][data-placement^='bottom'] > .tippy-arrow::after {
  top: -11px;
  border-width: 0 11px 11px;
}
.tippy-box[data-theme~='message'][data-placement^='left'] > .tippy-arrow::before {
  border-left-color: #e5e5e5;
  border-width: 11px 0 11px 11px;
}
.tippy-box[data-theme~='message'][data-placement^='left'] > .tippy-arrow::after {
  right: -11px;
  border-width: 11px 0 11px 11px;
}

.tippy-box[data-theme~='message'][data-placement^='right'] > .tippy-arrow::before {
  border-right-color: #e5e5e5;
  border-width: 11px 11px 11px 0;
}
.tippy-box[data-theme~='message'][data-placement^='right'] > .tippy-arrow::after {
  left: -11px;
  border-width: 11px 11px 11px 0;
}



.tippy-box[data-theme~='warning'] {
  background-color: #e5e5e5;
  color: black;
  border: 3px solid var(--verso-warning-color);
}

.tippy-box[data-theme~='error'] {
  background-color: #e5e5e5;
  color: black;
  border: 3px solid #f7a7af;
}

.tippy-box[data-theme~='info'] {
  background-color: #e5e5e5;
  color: black;
  border: 3px solid #99b3c2;
}

.tippy-box[data-theme~='tactic'] {
  background-color: white;
  color: black;
  border: 1px solid black;
}
.tippy-box[data-theme~='tactic'][data-placement^='top'] > .tippy-arrow::before {
  border-top-color: white;
}
.tippy-box[data-theme~='tactic'][data-placement^='bottom'] > .tippy-arrow::before {
  border-bottom-color: white;
}
.tippy-box[data-theme~='tactic'][data-placement^='left'] > .tippy-arrow::before {
  border-left-color: white;
}
.tippy-box[data-theme~='tactic'][data-placement^='right'] > .tippy-arrow::before {
  border-right-color: white;
}

.extra-doc-links {
  list-style-type: none;
  margin-left: 0;
  padding: 0;
}

.extra-doc-links > li {
  display: inline-block;
}

.extra-doc-links > li:not(:last-child)::after {
  content: '|';
  display: inline-block;
  margin: 0 0.25em;
}

.verso-message .trace {
  display: block;
}

.verso-message .trace > summary::marker {
  color: var(--verso-text-color);
}

.verso-message .trace-children {
  margin: 0;
  padding: 0;
}

.verso-message .trace-children > li {
  list-style-type: none;
  margin-left: 1.5em;
}

.verso-message .trace-children > li:not(:has(.trace)) {
  margin-left: 0;
}

.verso-message .trace-class {
  color: color-mix(in srgb, currentColor 70%, transparent);
  font-weight: bold;
  margin: 0;
  padding: 0;
}

.verso-message .text {
  white-space: pre-wrap;
}

</style><style>
.c .type { font-weight: 600; }
.c .kw { font-weight: 600; }
.c .comment { font-style: italic; }
</style><script>
      
window.onload = () => {

    // Don't show hovers inside of closed tactic states
    function blockedByTactic(elem) {
      let parent = elem.parentNode;
      while (parent && "classList" in parent) {
        if (parent.classList.contains("tactic")) {
          const toggle = parent.querySelector("input.tactic-toggle");
          if (toggle) {
            return !toggle.checked;
          }
        }
        parent = parent.parentNode;
      }
      return false;
    }

    function blockedByTippy(elem) {
      // Don't show a new hover until the old ones are all closed.
      // Scoped to the nearest "top-level block" to avoid being O(n) in the size of the document.
      var block = elem;
      const topLevel = new Set(["section", "body", "html", "nav", "header"]);
      while (block.parentNode && !topLevel.has(block.parentNode.nodeName.toLowerCase())) {
        block = block.parentNode;
      }
      for (const child of block.querySelectorAll(".token, .has-info")) {
        if (child._tippy && child._tippy.state.isVisible) { return true };
      }
      return false;
    }

    for (const c of document.querySelectorAll(".hl.lean .token")) {
        if (c.dataset.binding != "") {
            c.addEventListener("mouseover", (event) => {
                if (blockedByTactic(c)) {return;}
                const context = c.closest(".hl.lean").dataset.leanContext;
                for (const example of document.querySelectorAll(".hl.lean")) {
                    if (example.dataset.leanContext == context) {
                        for (const tok of example.querySelectorAll(".token")) {
                            if (c.dataset.binding == tok.dataset.binding) {
                                tok.classList.add("binding-hl");
                            }
                        }
                    }
                }
            });
        }
        c.addEventListener("mouseout", (event) => {
            for (const tok of document.querySelectorAll(".hl.lean .token")) {
                tok.classList.remove("binding-hl");
            }
        });
    }
    /* Render docstrings */
    if ('undefined' !== typeof marked) {
        for (const d of document.querySelectorAll("code.docstring, pre.docstring")) {
            const str = d.innerText;
            const html = marked.parse(str);
            const rendered = document.createElement("div");
            rendered.classList.add("docstring");
            rendered.innerHTML = html;
            d.parentNode.replaceChild(rendered, d);
        }
    }
    // Add hovers
    let docsJson = "-verso-docs.json";
    fetch(docsJson).then((resp) => resp.json()).then((versoDocData) => {

      function hideParentTooltips(element) {
        let parent = element.parentElement;
        while (parent) {
          const tippyInstance = parent._tippy;
          if (tippyInstance) {
            tippyInstance.hide();
          }
          parent = parent.parentElement;
        }
      }



      const defaultTippyProps = {
        /* DEBUG -- remove the space: * /
        onHide(any) { return false; },
        trigger: "click",
        // */
        /* theme: "lean", */
        maxWidth: "none",
        appendTo: () => document.body,
        interactive: true,
        delay: [100, null],
        /* ignoreAttributes: true, */
        followCursor: 'initial',
        onShow(inst) {
          if (inst.reference.className == 'tactic') {

            const toggle = inst.reference.querySelector("input.tactic-toggle");
            if (toggle && toggle.checked) {
              return false;
            }
            hideParentTooltips(inst.reference);
            //if (blockedByTippy(inst.reference)) { return false; }

          } else if (inst.reference.querySelector(".hover-info") || "versoHover" in inst.reference.dataset) {
            if (blockedByTactic(inst.reference)) { return false };
            if (blockedByTippy(inst.reference)) { return false; }
          } else { // Nothing to show here!
            return false;
          }
        },
        content (tgt) {
          const content = document.createElement("span");
          if (tgt.className == 'tactic') {
            const state = tgt.querySelector(".tactic-state").cloneNode(true);
            state.style.display = "block";
            content.appendChild(state);
            content.style.display = "block";
            content.className = "hl lean popup";
          } else {
            content.className = "hl lean";
            content.style.display = "block";
            content.style.maxHeight = "300px";
            content.style.overflowY = "auto";
            content.style.overflowX = "hidden";
            const hoverId = tgt.dataset.versoHover;
            const hoverInfo = tgt.querySelector(".hover-info");
            if (hoverId) { // Docstrings from the table
              // TODO stop doing an implicit conversion from string to number here
              let data = versoDocData[hoverId];
              if (data) {
                const info = document.createElement("span");
                info.className = "hover-info";
                info.style.display = "block";
                info.innerHTML = data;
                content.appendChild(info);
                /* Render docstrings - TODO server-side */
                if ('undefined' !== typeof marked) {
                    for (const d of content.querySelectorAll("code.docstring, pre.docstring")) {
                        const str = d.innerText;
                        const html = marked.parse(str);
                        const rendered = document.createElement("div");
                        rendered.classList.add("docstring");
                        rendered.innerHTML = html;
                        d.parentNode.replaceChild(rendered, d);
                    }
                }
              } else {
                content.innerHTML = "Failed to load doc ID: " + hoverId;
              }
            } else if (hoverInfo) { // The inline info, still used for compiler messages
              content.appendChild(hoverInfo.cloneNode(true));
            }
            const extraLinks = tgt.parentElement.dataset['versoLinks'];
            if (extraLinks) {
              try {
                const extras = JSON.parse(extraLinks);
                const links = document.createElement('ul');
                links.className = 'extra-doc-links';
                extras.forEach((l) => {
                  const li = document.createElement('li');
                  li.innerHTML = "<a href=\"" + l['href'] + "\" title=\"" + l.long + "\">" + l.short + "</a>";
                  links.appendChild(li);
                });
                content.appendChild(links);
              } catch (error) {
                console.error(error);
              }
            }
          }
          return content;
        }
      };


      document.querySelectorAll('.hl.lean .const.token, .hl.lean .keyword.token, .hl.lean .literal.token, .hl.lean .option.token, .hl.lean .var.token, .hl.lean .typed.token, .hl.lean .level-var, .hl.lean .level-const, .hl.lean .level-op, .hl.lean .sort').forEach(element => {
        element.setAttribute('data-tippy-theme', 'lean');
      });
      document.querySelectorAll('.hl.lean .has-info.warning').forEach(element => {
        element.setAttribute('data-tippy-theme', 'warning message');
      });
      document.querySelectorAll('.hl.lean .has-info.information').forEach(element => {
        element.setAttribute('data-tippy-theme', 'info message');
      });
      document.querySelectorAll('.hl.lean .has-info.error').forEach(element => {
        element.setAttribute('data-tippy-theme', 'error message');
      });
      document.querySelectorAll('.hl.lean .tactic').forEach(element => {
        element.setAttribute('data-tippy-theme', 'tactic');
      });
      let insts = tippy('.hl.lean .const.token, .hl.lean .keyword.token, .hl.lean .literal.token, .hl.lean .option.token, .hl.lean .var.token, .hl.lean .typed.token, .hl.lean .has-info, .hl.lean .tactic, .hl.lean .level-var, .hl.lean .level-const, .hl.lean .level-op, .hl.lean .sort', defaultTippyProps);
  });
}
</script>
    <script>
      function openDetailsForHashTarget() {
  // Get the current hash from the URL
  const hash = window.location.hash;

  // Exit early if no hash is present
  if (!hash) return;

  // Remove the # to get the actual ID
  const targetId = hash.substring(1);

  // Find the target element
  const targetElement = document.getElementById(targetId);

  // Exit if target element doesn't exist
  if (!targetElement) return;

  // Find the closest details element that contains the target
  const detailsElement = targetElement.closest('details');

  // If the target is inside a details element, open it
  if (detailsElement) {
    detailsElement.open = true;
  }
}

function liveLinkUrlOfCodez(codez) {
  if (window.metadata !== undefined && window.metadata.stable) {
    return "https://live.lean-lang.org/#project=mathlib-stable&codez=" + codez;
  }
  if (window.metadata !== undefined && window.metadata.latest) {
    return "https://live.lean-lang.org/#codez=" + codez;
  }
  return undefined;
}

function maybeShowLiveLinks() {
  if (liveLinkUrlOfCodez('') !== undefined) {
    const style = document.createElement('style');
    style.textContent = `.live-link { display: initial !important; }`;
    document.head.appendChild(style);
  }
}

function openLiveLink(codez) {
  const url = liveLinkUrlOfCodez(codez);
  if (url !== undefined) {
    window.open(url, '_blank')
  }
  else {
    // This case shouldn't be possible, because maybeShowLiveLinks returns undefined,
    // then maybeShowLiveLinks wouldn't have ever shown the links in the first place.
    // Just in case, throw up a dialog.
    alert("Don't know which version of live to use. Please report this at https://github.com/leanprover/reference-manual/issues");
  }
}

function pageInit() {
  openDetailsForHashTarget();
  maybeShowLiveLinks();
}

// Run the function when the page loads
document.addEventListener('DOMContentLoaded', pageInit);

// Also run when the hash changes (for single-page applications)
window.addEventListener('hashchange', pageInit);

// Run immediately in case the script loads after DOMContentLoaded
if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', pageInit);
} else {
  pageInit();
}
</script>
    <script>
      
window.addEventListener("load", () => {
  const innerProps = {
    onShow(inst) { console.log(inst); },
    onHide(inst) { console.log(inst); },
    content(tgt) {
      const content = document.createElement("span");
      const state = tgt.querySelector(".hover-info").cloneNode(true);
      state.style.display = "block";
      content.appendChild(state);
      /* Render docstrings - TODO server-side */
      if ('undefined' !== typeof marked) {
          for (const d of content.querySelectorAll("code.docstring, pre.docstring")) {
              const str = d.innerText;
              const html = marked.parse(str);
              const rendered = document.createElement("div");
              rendered.classList.add("docstring");
              rendered.innerHTML = html;
              d.parentNode.replaceChild(rendered, d);
          }
      }
      content.style.display = "block";
      content.className = "hl lean popup";
      return content;
    }
  };
  const outerProps = {
    allowHtml: true,
    theme: "lean",
    placement: 'bottom-start',
    maxWidth: "none",
    delay: 100,
    moveTransition: 'transform 0.2s ease-out',
    onTrigger(inst, event) {
      const ref = event.currentTarget;
      const block = ref.closest('.hl.lean');
      block.querySelectorAll('.active').forEach((i) => i.classList.remove('active'));
      ref.classList.add("active");
    },
    onUntrigger(inst, event) {
      const ref = event.currentTarget;
      const block = ref.closest('.hl.lean');
      block.querySelectorAll('.active').forEach((i) => i.classList.remove('active'));
    }
  };
  tippy.createSingleton(tippy('pre.grammar.hl.lean .nonterminal.documented, pre.grammar.hl.lean .from-nonterminal.documented, pre.grammar.hl.lean .local-name.documented', innerProps), outerProps);
});
</script>
    <script>
      
window.addEventListener('DOMContentLoaded', () => {
  const tabLists = document.querySelectorAll('.error-example-tab-list')
  tabLists.forEach(tabList => {
    const tabs = tabList.querySelectorAll(':scope > [role="tab"]')

    const setActiveTab = (e) => {
      for (const tab of tabs) {
        const controllee = document.getElementById(tab.getAttribute('aria-controls'))
        if (tab === e.target) {
          tab.setAttribute('aria-selected', true)
          controllee.classList.remove('error-example-tabpanel-hidden')
        } else {
          tab.setAttribute('aria-selected', false)
          controllee.classList.add('error-example-tabpanel-hidden')
        }
      }
    }

    tabs.forEach(tab => {
      tab.addEventListener('click', setActiveTab)
    })

    let focusedIdx = 0
    tabList.addEventListener('keydown', e => {
      if (e.key === 'ArrowRight' || e.key === 'ArrowLeft') {
        tabs[focusedIdx].setAttribute('tabindex', -1)
        focusedIdx =
          e.key === 'ArrowRight'
          ? (focusedIdx + 1) % tabs.length
          : (focusedIdx - 1 + tabs.length) % tabs.length
        tabs[focusedIdx].setAttribute('tabindex', 0)
        tabs[focusedIdx].focus()
      }
    })
  })
})
  </script>
    <script>
      
window.addEventListener("load", () => {
  tippy('.keyword-of.hl.lean', {
    allowHtml: true,
    /* DEBUG -- remove the space: * /
    onHide(any) { return false; },
    trigger: "click",
    // */
    maxWidth: "none",

    theme: "lean",
    placement: 'bottom-start',
    content (tgt) {
      const content = document.createElement("span");
      const state = tgt.querySelector(".hover-info").cloneNode(true);
      state.style.display = "block";
      content.appendChild(state);
      /* Render docstrings - TODO server-side */
      if ('undefined' !== typeof marked) {
          for (const d of content.querySelectorAll("code.docstring, pre.docstring")) {
              const str = d.innerText;
              const html = marked.parse(str);
              const rendered = document.createElement("div");
              rendered.classList.add("docstring");
              rendered.innerHTML = html;
              d.parentNode.replaceChild(rendered, d);
          }
      }
      content.style.display = "block";
      content.className = "hl lean popup";
      return content;
    }
  });
});
</script>
    <script defer="defer" data-domain="lean-lang.org" src="https://plausible.io/js/script.outbound-links.js"></script>
    <script src="static/metadata.js"></script>
    <script src="static/print.js"></script>
    <link rel="stylesheet" href="static/colors.css">
    <link rel="stylesheet" href="static/theme.css">
    <link rel="stylesheet" href="static/print.css">
    <link rel="stylesheet" href="static/fonts/source-serif/source-serif-text.css">
    <link rel="stylesheet" href="static/fonts/source-code-pro/source-code-pro.css">
    <link rel="stylesheet" href="static/fonts/source-sans/source-sans-3.css">
    <link rel="stylesheet" href="static/fonts/noto-sans-mono/noto-sans-mono.css">
    <script src="-verso-search/search-highlight.js" defer="defer"></script>
    </head>
  <body>
    <header>
      <div class="header-logo-wrapper">
        <a href="" id="logo"><img src="static/lean_logo.svg"></a></div>
      <div class="header-title-wrapper">
        <a href="" class="header-title"><h1>
            The Lean Language Reference</h1>
          </a></div>
      </header>
    <label for="toggle-toc" id="toggle-toc-click"><span class="line line1"></span><span class="line line2"></span><span class="line line3"></span></label><div class="with-toc">
      <div class="toc-backdrop" onclick="document.getElementById('toggle-toc-click')?.click()"></div>
      <nav id="toc">
        <input type="checkbox" id="toggle-toc"><div class="first">
          <a href="" class="toc-title"><h1>
              The Lean Language Reference</h1>
            </a><div class="split-tocs">
            <div class="split-toc book">
              <div class="title">
                <label for="--verso-manual-toc-----bookRoot" class="toggle-split-toc"><input type="checkbox" class="toggle-split-toc" id="--verso-manual-toc-----bookRoot"></label><span class="">Table of Contents</span></div>
              <table><tr class="numbered"><td class="num">1.</td><td><a href="Introduction/#introduction">Introduction</a></td></tr><tr class="numbered"><td class="num">2.</td><td><a href="Elaboration-and-Compilation/#The-Lean-Language-Reference--Elaboration-and-Compilation">Elaboration and Compilation</a></td></tr><tr class="numbered"><td class="num">3.</td><td><a href="Interacting-with-Lean/#interaction">Interacting with Lean</a></td></tr><tr class="numbered"><td class="num">4.</td><td><a href="The-Type-System/#type-system">The Type System</a></td></tr><tr class="numbered"><td class="num">5.</td><td><a href="Source-Files-and-Modules/#files">Source Files and Modules</a></td></tr><tr class="numbered"><td class="num">6.</td><td><a href="Namespaces-and-Sections/#namespaces-sections">Namespaces and Sections</a></td></tr><tr class="numbered"><td class="num">7.</td><td><a href="Definitions/#definitions">Definitions</a></td></tr><tr class="numbered"><td class="num">8.</td><td><a href="Axioms/#axioms">Axioms</a></td></tr><tr class="numbered"><td class="num">9.</td><td><a href="Attributes/#attributes">Attributes</a></td></tr><tr class="numbered"><td class="num">10.</td><td><a href="Type-Classes/#type-classes">Type Classes</a></td></tr><tr class="numbered"><td class="num">11.</td><td><a href="Coercions/#coercions">Coercions</a></td></tr><tr class="numbered"><td class="num">12.</td><td><a href="Run-Time-Code/#runtime">Run-Time Code</a></td></tr><tr class="numbered"><td class="num">13.</td><td><a href="Terms/#terms">Terms</a></td></tr><tr class="numbered"><td class="num">14.</td><td><a href="Tactic-Proofs/#tactics">Tactic Proofs</a></td></tr><tr class="numbered"><td class="num">15.</td><td><a href="The-Simplifier/#the-simplifier">The Simplifier</a></td></tr><tr class="numbered"><td class="num">16.</td><td><a href="The--grind--tactic/#grind-tactic">The <code>grind</code> tactic</a></td></tr><tr class="numbered"><td class="num">17.</td><td><a href="The--mvcgen--tactic/#mvcgen-tactic">The <code>mvcgen</code> tactic</a></td></tr><tr class="numbered"><td class="num">18.</td><td><a href="Functors___-Monads-and--do--Notation/#monads-and-do">Functors, Monads and <code>do</code>-Notation</a></td></tr><tr class="numbered"><td class="num">19.</td><td><a href="Basic-Propositions/#basic-props">Basic Propositions</a></td></tr><tr class="numbered"><td class="num">20.</td><td><a href="Basic-Types/#basic-types">Basic Types</a></td></tr><tr class="numbered"><td class="num">21.</td><td><a href="IO/#io">IO</a></td></tr><tr class="current numbered"><td class="num">22.</td><td><a href="Iterators/#iterators">Iterators</a></td></tr><tr class="numbered"><td class="num">23.</td><td><a href="Notations-and-Macros/#language-extension">Notations and Macros</a></td></tr><tr class="numbered"><td class="num">24.</td><td><a href="Build-Tools-and-Distribution/#build-tools-and-distribution">Build Tools and Distribution</a></td></tr><tr class="unnumbered"><td class="num"><td><a href="ValidatingProofs/#validating-proofs">Validating a Lean Proof</a></td></tr><tr class="unnumbered"><td class="num"><td><a href="Error-Explanations/#The-Lean-Language-Reference--Error-Explanations">Error Explanations</a></td></tr><tr class="unnumbered"><td class="num"><td><a href="releases/#release-notes">Release Notes</a></td></tr><tr class="unnumbered"><td class="num"><td><a href="platforms/#platforms">Supported Platforms</a></td></tr><tr class="unnumbered"><td class="num"><td><a href="the-index/#The-Lean-Language-Reference--Index">Index</a></td></tr></table></div>
            <div class="split-toc">
              <div class="title">
                <label for="--verso-manual-toc-iterators" class="toggle-split-toc"><input type="checkbox" class="toggle-split-toc" id="--verso-manual-toc-iterators" checked="checked"></label><span class="number">22.</span>Â <span class=""><a href="Iterators/#iterators">Iterators</a></span></div>
              <table><tr class="numbered"><td class="num">22.1.</td><td><a href="Iterators/Run-Time-Considerations/#The-Lean-Language-Reference--Iterators--Run-Time-Considerations">Run-Time Considerations</a></td></tr><tr class="numbered"><td class="num">22.2.</td><td><a href="Iterators/Iterator-Definitions/#The-Lean-Language-Reference--Iterators--Iterator-Definitions">Iterator Definitions</a></td></tr><tr class="numbered"><td class="num">22.3.</td><td><a href="Iterators/Consuming-Iterators/#The-Lean-Language-Reference--Iterators--Consuming-Iterators">Consuming Iterators</a></td></tr><tr class="current numbered"><td class="num">22.4.</td><td><a href="Iterators/Iterator-Combinators/#The-Lean-Language-Reference--Iterators--Iterator-Combinators">Iterator Combinators</a></td></tr><tr class="numbered"><td class="num">22.5.</td><td><a href="Iterators/Reasoning-About-Iterators/#The-Lean-Language-Reference--Iterators--Reasoning-About-Iterators">Reasoning About Iterators</a></td></tr></table></div>
            <div class="split-toc">
              <div class="title">
                <label for="--verso-manual-toc-The-Lean-Language-Reference--Iterators--Iterator-Combinators" class="toggle-split-toc"><input type="checkbox" class="toggle-split-toc" id="--verso-manual-toc-The-Lean-Language-Reference--Iterators--Iterator-Combinators" checked="checked"></label><span class="number">22.4.</span>Â <span class="current"><a href="Iterators/Iterator-Combinators/#The-Lean-Language-Reference--Iterators--Iterator-Combinators">Iterator Combinators</a></span></div>
              <ol>
                <li>
                  <span class="header head-1"><span class="level-num">1.</span> <a href="Iterators/Iterator-Combinators/#The-Lean-Language-Reference--Iterators--Iterator-Combinators--Pure-Combinators">Pure Combinators</a></span></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___IterM___mk-next"><code>mk</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___Iter___toIterM"><code>toIterM</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___Iter___take"><code>Std.Iter.take</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___Iter___takeWhile"><code>Std.Iter.takeWhile</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___Iter___toTake"><code>Std.Iter.toTake</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___Iter___drop"><code>Std.Iter.drop</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___Iter___dropWhile"><code>Std.Iter.dropWhile</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___Iter___stepSize"><code>Std.Iter.stepSize</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___Iter___map"><code>Std.Iter.map</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___Iter___mapM"><code>Std.Iter.mapM</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___Iter___mapWithPostcondition"><code>Std.Iter.mapWithPostcondition</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___Iter___uLift"><code>Std.Iter.uLift</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___Iter___flatMap"><code>Std.Iter.flatMap</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___Iter___flatMapM"><code>Std.Iter.flatMapM</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___Iter___flatMapAfter"><code>Std.Iter.flatMapAfter</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___Iter___flatMapAfterM"><code>Std.Iter.flatMapAfterM</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___Iter___filter"><code>Std.Iter.filter</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___Iter___filterM"><code>Std.Iter.filterM</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___Iter___filterWithPostcondition"><code>Std.Iter.filterWithPostcondition</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___Iter___filterMap"><code>Std.Iter.filterMap</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___Iter___filterMapM"><code>Std.Iter.filterMapM</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___Iter___filterMapWithPostcondition"><code>Std.Iter.filterMapWithPostcondition</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___Iter___zip"><code>Std.Iter.zip</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___Iter___attachWith"><code>Std.Iter.attachWith</code></a></li>
                <li>
                  <span class="header head-1"><span class="level-num">2.</span> <a href="Iterators/Iterator-Combinators/#The-Lean-Language-Reference--Iterators--Iterator-Combinators--Monadic-Combinators">Monadic Combinators</a></span></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___IterM___toIter"><code>toIter</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___IterM___take"><code>Std.IterM.take</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___IterM___takeWhile"><code>Std.IterM.takeWhile</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___IterM___takeWhileM"><code>takeWhileM</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___IterM___takeWhileWithPostcondition"><code>takeWhileWithPostcondition</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___IterM___toTake"><code>Std.IterM.toTake</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___IterM___drop"><code>Std.IterM.drop</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___IterM___dropWhile"><code>Std.IterM.dropWhile</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___IterM___dropWhileM"><code>dropWhileM</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___IterM___dropWhileWithPostcondition"><code>dropWhileWithPostcondition</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___IterM___stepSize"><code>Std.IterM.stepSize</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___IterM___map"><code>Std.IterM.map</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___IterM___mapM"><code>Std.IterM.mapM</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___IterM___mapWithPostcondition"><code>Std.IterM.mapWithPostcondition</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___IterM___uLift"><code>Std.IterM.uLift</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___IterM___flatMap"><code>Std.IterM.flatMap</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___IterM___flatMapM"><code>Std.IterM.flatMapM</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___IterM___flatMapAfter"><code>Std.IterM.flatMapAfter</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___IterM___flatMapAfterM"><code>Std.IterM.flatMapAfterM</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___IterM___filter"><code>Std.IterM.filter</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___IterM___filterM"><code>Std.IterM.filterM</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___IterM___filterWithPostcondition"><code>Std.IterM.filterWithPostcondition</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___IterM___filterMap"><code>Std.IterM.filterMap</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___IterM___filterMapM"><code>Std.IterM.filterMapM</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___IterM___filterMapWithPostcondition"><code>Std.IterM.filterMapWithPostcondition</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___IterM___zip"><code>Std.IterM.zip</code></a></li>
                <li>
                  <a href="Iterators/Iterator-Combinators/#Std___IterM___attachWith"><code>Std.IterM.attachWith</code></a></li>
                </ol>
              </div>
            </div>
          </div>
        <div class="last">
          <ul id="meta-links">
            <li>
              <a href="https://github.com/leanprover/reference-manual">Source Code</a></li>
            <li>
              <a href="https://github.com/leanprover/reference-manual/issues">Report Issues</a></li>
            </ul>
          </div>
        </nav>
      <main><div class="content-wrapper">
          <nav class="prev-next-buttons">
            <a class="local-button active" href="Iterators/Consuming-Iterators/#The-Lean-Language-Reference--Iterators--Consuming-Iterators" rel="prev" title="22.3. Consuming Iterators"><span class="arrow">â†</span><span class="where">22.3. Consuming Iterators</span></a><a class="local-button active" href="Iterators/Reasoning-About-Iterators/#The-Lean-Language-Reference--Iterators--Reasoning-About-Iterators" rel="next" title="22.5. Reasoning About Iterators"><span class="where">22.5. Reasoning About Iterators</span><span class="arrow">â†’</span></a></nav>
          <section>
            <h1>
              22.4.Â Iterator Combinators<span class="permalink-widget inline"><a href="find/?domain=Verso.Genre.Manual.section&amp;name=The-Lean-Language-Reference--Iterators--Iterator-Combinators" title="Permalink">ðŸ”—</a></span></h1>
            <p>
              The documentation for iterator combinators often includes <span id="--tech-term-marble-diagrams" class="def-technical-term"><em>marble diagrams</em></span> that show the relationship between the elements returned by the underlying iterators and the elements returned by the combinator's iterator.
Marble diagrams provide examples, not full specifications.
These diagrams consist of a number of rows.
Each row shows an example of an iterator's output, where <code>-</code> indicates a <code class="hl lean inline" data-lean-context="examples"><a href="Iterators/Iterator-Definitions/#Std___PlausibleIterStep___skip" title="Documentation for Std.PlausibleIterStep.skip"><span class="const token" data-binding="const-Std.PlausibleIterStep.skip" data-verso-hover="6796">skip</span></a></code>, a term indicates a value returned with <code class="hl lean inline" data-lean-context="examples"><a href="Iterators/Iterator-Definitions/#Std___PlausibleIterStep___yield" title="Documentation for Std.PlausibleIterStep.yield"><span class="const token" data-binding="const-Std.PlausibleIterStep.yield" data-verso-hover="6795">yield</span></a></code>, and <code>âŠ¥</code> indicates the end of iteration.
Spaces indicate that iteration did not occur.
Unbound identifiers in the marble diagram stand for arbitrary values of the iterator's element type.</p>
            <p>
              Vertical alignment in the marble diagram indicates a causal relationship: when two elements are aligned, it means that consuming the iterator in the lower row results in the upper rows being consumed.
In particular, consuming up to the <code class="math inline">n</code>th column of the lower iterator results in the consumption of the first <code class="math inline">n</code> columns from the upper iterator.</p>
            <div class="paragraph">
              <p>
                A marble diagram for an identity iterator combinator that returns each element from the underlying iterator looks like this:</p>
              <pre>it    ---a-----b---c----dâŠ¥
it.id ---a-----b---c----dâŠ¥
</pre></div>
            <div class="paragraph">
              <p>
                A marble diagram for an iterator combinator that duplicates each element of the underlying iterator looks like this:</p>
              <pre>it           ---a  ---b  ---c  ---dâŠ¥
it.double    ---a-a---b-b---c-c---d-dâŠ¥
</pre></div>
            <div class="paragraph">
              <p>
                The marble diagram for <code class="hl lean inline" data-lean-context="examples"><a href="Iterators/Iterator-Combinators/#Std___Iter___filter" title="Documentation for Std.Iter.filter"><span class="const token" data-binding="const-Std.Iter.filter" data-verso-hover="6763">Iter.filter</span></a></code> shows how some elements of the underlying iterator do not occur in the filtered iterator, but also that stepping the filtered iterator results in a <code class="hl lean inline" data-lean-context="examples"><a href="Iterators/Iterator-Definitions/#Std___PlausibleIterStep___skip" title="Documentation for Std.PlausibleIterStep.skip"><span class="const token" data-binding="const-Std.PlausibleIterStep.skip" data-verso-hover="6796">skip</span></a></code> when the underlying iterator returns a value that doesn't satisfy the predicate:</p>
              <pre>it            ---a--b--c--d-e--âŠ¥
it.filter     ---a-----c-------âŠ¥
</pre><p>
                The diagram requires an explanatory note:</p>
              <blockquote><p>
                  (given that <code>f a = f c = true</code> and <code>f b = f d = d e = false</code>)</p>
                </blockquote></div>
            <div class="paragraph">
              <p>
                The diagram for <code class="hl lean inline" data-lean-context="examples"><a href="Iterators/Iterator-Combinators/#Std___Iter___zip" title="Documentation for Std.Iter.zip"><span class="const token" data-binding="const-Std.Iter.zip" data-verso-hover="6755">Iter.zip</span></a></code> shows how consuming the combined iterator consumes the underlying iterators:</p>
              <pre>left               --a        ---b        --c
right                 --x         --y        --âŠ¥
left.zip right     -----(a, x)------(b, y)-----âŠ¥
</pre><p>
                The zipped iterator emits <code class="hl lean inline" data-lean-context="examples"><a href="Iterators/Iterator-Definitions/#Std___PlausibleIterStep___skip" title="Documentation for Std.PlausibleIterStep.skip"><span class="const token" data-binding="const-Std.PlausibleIterStep.skip" data-verso-hover="6796">skip</span></a></code>s so long as <code>left</code> does.
When <code>left</code> emits <code>a</code>, the zipped iterator emits one more <code class="hl lean inline" data-lean-context="examples"><a href="Iterators/Iterator-Definitions/#Std___PlausibleIterStep___skip" title="Documentation for Std.PlausibleIterStep.skip"><span class="const token" data-binding="const-Std.PlausibleIterStep.skip" data-verso-hover="6796">skip</span></a></code>.
After this, the zipped iterator switches to consuming <code>right</code>, and it emits <code class="hl lean inline" data-lean-context="examples"><a href="Iterators/Iterator-Definitions/#Std___PlausibleIterStep___skip" title="Documentation for Std.PlausibleIterStep.skip"><span class="const token" data-binding="const-Std.PlausibleIterStep.skip" data-verso-hover="6796">skip</span></a></code>s so long as <code>right</code> does.
When <code>right</code> emits <code>x</code>, the zipped iterator emits the pair <code>(a, x)</code>.
This interleaving of <code>left</code> and <code>right</code> continues until one of them stops, at which point the zipped iterator stops.
Blank spaces in the upper rows of the marble diagram indicate that the iterator is not being consumed at that step.</p>
              </div>
            <section>
              <h2 id="The-Lean-Language-Reference--Iterators--Iterator-Combinators--Pure-Combinators">
                22.4.1.Â Pure Combinators<span class="permalink-widget inline"><a href="find/?domain=Verso.Genre.Manual.section&amp;name=The-Lean-Language-Reference--Iterators--Iterator-Combinators--Pure-Combinators" title="Permalink">ðŸ”—</a></span></h2>
              <div class="namedocs" id="Std___IterM___mk-next">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.IterM.mk" title="Permalink">ðŸ”—</a></span><span class="label">constructor of Std.IterM</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.IterM.mk.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.19556" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.19558" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.19559" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.19560" data-verso-hover="48">internalState</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19556" data-verso-hover="4902">Î±</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19558" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19559" data-verso-hover="4902">Î²</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.IterM.mk.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.19556" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.19558" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.19559" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.19560" data-verso-hover="48">internalState</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19556" data-verso-hover="4902">Î±</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19558" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19559" data-verso-hover="4902">Î²</span></div></pre><div class="text">
                  <p>
                    Wraps the state of an iterator into an <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a></code> object.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___Iter___toIterM">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.Iter.toIterM" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.Iter.toIterM.{w}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.19578" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19579" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.19582" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19579" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19579" data-verso-hover="4902">Î²</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.Iter.toIterM.{w}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.19578" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19579" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.19582" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19579" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19579" data-verso-hover="4902">Î²</span></div></pre><div class="text">
                  <p>
                    Converts a pure iterator (<code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19566" data-verso-hover="4902">Î²</span></code>) into a monadic iterator (<code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19566" data-verso-hover="4902">Î²</span></code>) in the
identity monad <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a></code>.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___Iter___take">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.Iter.take" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.Iter.take.{w}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.19663" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19664" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19663" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19664" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.19670" data-verso-hover="9">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat"><span class="const token" data-binding="const-Nat" data-verso-hover="17">Nat</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.19673" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19664" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19664" data-verso-hover="4902">Î²</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.Iter.take.{w}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.19663" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19664" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19663" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19664" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.19670" data-verso-hover="9">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat"><span class="const token" data-binding="const-Nat" data-verso-hover="17">Nat</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.19673" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19664" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19664" data-verso-hover="4902">Î²</span></div></pre><div class="text">
                  <p>
                    Given an iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19592" data-verso-hover="6784">it</span></code> and a natural number <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19591" data-verso-hover="9">n</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19592" data-verso-hover="6784">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___Iter___take" title="Documentation for Std.Iter.take"><span class="const token" data-binding="const-Std.Iter.take" data-verso-hover="6995">take</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19591" data-verso-hover="9">n</span></code> is an iterator that outputs
up to the first <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19591" data-verso-hover="9">n</span></code> of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19592" data-verso-hover="6784">it</span></code>'s values in order and then terminates.</p>
                  <p>
                    <strong>Marble diagram:</strong></p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19613" data-verso-hover="6784">it</span><span class="inter-text">          ---a----b---c--d-e--âŠ¥
</span><span class="unknown token" data-binding="">it.take</span><span class="inter-text"> </span><span class="unknown token" data-binding="">3</span><span class="inter-text">   ---a----b---câŠ¥

</span><span class="unknown token" data-binding="">it</span><span class="inter-text">          ---a--âŠ¥
</span><span class="unknown token" data-binding="">it.take</span><span class="inter-text"> </span><span class="unknown token" data-binding="">3</span><span class="inter-text">   ---a--âŠ¥</span></code><p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19636" data-verso-hover="6784">it</span></code> is productive</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19636" data-verso-hover="6784">it</span></code> is productive</p>
                      </li>
                    </ul>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    This combinator incurs an additional O(1) cost with each output of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19662" data-verso-hover="6784">it</span></code>.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___Iter___takeWhile">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.Iter.takeWhile" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.Iter.takeWhile.{w}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.19811" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19812" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.19814" data-verso-hover="6967">P</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19812" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Basic-Types/Booleans/#Bool___false" title="Documentation for Bool"><span class="const token" data-binding="const-Bool" data-verso-hover="199">Bool</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.19817" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19812" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19812" data-verso-hover="4902">Î²</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.Iter.takeWhile.{w}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.19811" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19812" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.19814" data-verso-hover="6967">P</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19812" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Basic-Types/Booleans/#Bool___false" title="Documentation for Bool"><span class="const token" data-binding="const-Bool" data-verso-hover="199">Bool</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.19817" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19812" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19812" data-verso-hover="4902">Î²</span></div></pre><div class="text">
                  <p>
                    Given an iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19680" data-verso-hover="6784">it</span></code> and a predicate <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19679" data-verso-hover="6967">P</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19680" data-verso-hover="6784">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___Iter___takeWhile" title="Documentation for Std.Iter.takeWhile"><span class="const token" data-binding="const-Std.Iter.takeWhile" data-verso-hover="6996">takeWhile</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19679" data-verso-hover="6967">P</span></code> is an iterator that outputs
the values emitted by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19680" data-verso-hover="6784">it</span></code> until one of those values is rejected by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19679" data-verso-hover="6967">P</span></code>.
If some emitted value is rejected by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19679" data-verso-hover="6967">P</span></code>, the value is dropped and the iterator terminates.</p>
                  <p>
                    <strong>Marble diagram:</strong></p>
                  <p>
                    Assuming that the predicate <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19700" data-verso-hover="6967">P</span></code> accepts <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">a</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">b</span></code> but rejects <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">c</span></code>:</p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19733" data-verso-hover="6784">it</span><span class="inter-text">               ---a----b---c--d-e--âŠ¥
</span><span class="unknown token" data-binding="">it.takeWhile</span><span class="inter-text"> </span><span class="unknown token" data-binding="">P</span><span class="inter-text">   ---a----b---âŠ¥

</span><span class="unknown token" data-binding="">it</span><span class="inter-text">               ---a----âŠ¥
</span><span class="unknown token" data-binding="">it.takeWhile</span><span class="inter-text"> </span><span class="unknown token" data-binding="">P</span><span class="inter-text">   ---a----âŠ¥</span></code><p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19754" data-verso-hover="6784">it</span></code> is finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19754" data-verso-hover="6784">it</span></code> is productive</p>
                      </li>
                    </ul>
                  <p>
                    Depending on <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19773" data-verso-hover="6967">P</span></code>, it is possible that <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19774" data-verso-hover="6784">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___Iter___takeWhile" title="Documentation for Std.Iter.takeWhile"><span class="const token" data-binding="const-Std.Iter.takeWhile" data-verso-hover="6996">takeWhile</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19773" data-verso-hover="6967">P</span></code> is finite (or productive) although <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19774" data-verso-hover="6784">it</span></code> is not.
In this case, the <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> (or <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code>) instance needs to be proved manually.</p>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    This combinator calls <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19808" data-verso-hover="6967">P</span></code> on each output of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19809" data-verso-hover="6784">it</span></code> until the predicate evaluates to false. Then
it terminates.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___Iter___toTake">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.Iter.toTake" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.Iter.toTake.{w}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.19923" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19924" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19923" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19924" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19923" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.19938" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19924" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19924" data-verso-hover="4902">Î²</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.Iter.toTake.{w}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.19923" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19924" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19923" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19924" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19923" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.19938" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19924" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19924" data-verso-hover="4902">Î²</span></div></pre><div class="text">
                  <p>
                    This combinator is only useful for advanced use cases.</p>
                  <p>
                    Given a finite iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19830" data-verso-hover="6784">it</span></code>, returns an iterator that behaves exactly like <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19830" data-verso-hover="6784">it</span></code> but is of the same
type as <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19830" data-verso-hover="6784">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___Iter___take" title="Documentation for Std.Iter.take"><span class="const token" data-binding="const-Std.Iter.take" data-verso-hover="6995">take</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19854" data-verso-hover="9">n</span></code>.</p>
                  <p>
                    <strong>Marble diagram:</strong></p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19873" data-verso-hover="6784">it</span><span class="inter-text">          ---a----b---c--d-e--âŠ¥
</span><span class="unknown token" data-binding="">it.toTake</span><span class="inter-text">   ---a----b---c--d-e--âŠ¥</span></code><p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: always</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: always</p>
                      </li>
                    </ul>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    This combinator incurs an additional O(1) cost with each output of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19922" data-verso-hover="6784">it</span></code>.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___Iter___drop">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.Iter.drop" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.Iter.drop.{w}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.20006" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20007" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.20008" data-verso-hover="9">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat"><span class="const token" data-binding="const-Nat" data-verso-hover="17">Nat</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.20011" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20007" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20007" data-verso-hover="4902">Î²</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.Iter.drop.{w}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.20006" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20007" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.20008" data-verso-hover="9">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat"><span class="const token" data-binding="const-Nat" data-verso-hover="17">Nat</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.20011" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20007" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20007" data-verso-hover="4902">Î²</span></div></pre><div class="text">
                  <p>
                    Given an iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19945" data-verso-hover="6784">it</span></code> and a natural number <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19944" data-verso-hover="9">n</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19945" data-verso-hover="6784">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___Iter___drop" title="Documentation for Std.Iter.drop"><span class="const token" data-binding="const-Std.Iter.drop" data-verso-hover="6997">drop</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.19944" data-verso-hover="9">n</span></code> is an iterator that forwards all of
<code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19945" data-verso-hover="6784">it</span></code>'s output values except for the first <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19944" data-verso-hover="9">n</span></code>.</p>
                  <p>
                    <strong>Marble diagram:</strong></p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19960" data-verso-hover="6784">it</span><span class="inter-text">          ---a----b---c--d-e--âŠ¥
</span><span class="unknown token" data-binding="">it.drop</span><span class="inter-text"> </span><span class="unknown token" data-binding="">3</span><span class="inter-text">   ---------------d-e--âŠ¥

</span><span class="unknown token" data-binding="">it</span><span class="inter-text">          ---a--âŠ¥
</span><span class="unknown token" data-binding="">it.drop</span><span class="inter-text"> </span><span class="unknown token" data-binding="">3</span><span class="inter-text">   ------âŠ¥</span></code><p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19981" data-verso-hover="6784">it</span></code> is finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.19981" data-verso-hover="6784">it</span></code> is productive</p>
                      </li>
                    </ul>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    Currently, this combinator incurs an additional O(1) cost with each output of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20005" data-verso-hover="6784">it</span></code>, even when the iterator
does not drop any elements anymore.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___Iter___dropWhile">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.Iter.dropWhile" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.Iter.dropWhile.{w}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.20153" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20154" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.20156" data-verso-hover="6967">P</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20154" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Basic-Types/Booleans/#Bool___false" title="Documentation for Bool"><span class="const token" data-binding="const-Bool" data-verso-hover="199">Bool</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.20159" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20154" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20154" data-verso-hover="4902">Î²</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.Iter.dropWhile.{w}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.20153" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20154" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.20156" data-verso-hover="6967">P</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20154" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Basic-Types/Booleans/#Bool___false" title="Documentation for Bool"><span class="const token" data-binding="const-Bool" data-verso-hover="199">Bool</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.20159" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20154" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20154" data-verso-hover="4902">Î²</span></div></pre><div class="text">
                  <p>
                    Given an iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20018" data-verso-hover="6784">it</span></code> and a predicate <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20017" data-verso-hover="6967">P</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20018" data-verso-hover="6784">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___Iter___dropWhile" title="Documentation for Std.Iter.dropWhile"><span class="const token" data-binding="const-Std.Iter.dropWhile" data-verso-hover="6998">dropWhile</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20017" data-verso-hover="6967">P</span></code> is an iterator that
emits the values emitted by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20018" data-verso-hover="6784">it</span></code> starting from the first value that is rejected by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20017" data-verso-hover="6967">P</span></code>.
The elements before are dropped.</p>
                  <p>
                    In situations where <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20033" data-verso-hover="6967">P</span></code> is monadic, use <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">dropWhileM</span></code> instead.</p>
                  <p>
                    <strong>Marble diagram:</strong></p>
                  <p>
                    Assuming that the predicate <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20051" data-verso-hover="6967">P</span></code> accepts <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">a</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">b</span></code> but rejects <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">c</span></code>:</p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20084" data-verso-hover="6784">it</span><span class="inter-text">               ---a----b---c--d-e--âŠ¥
</span><span class="unknown token" data-binding="">it.dropWhile</span><span class="inter-text"> </span><span class="unknown token" data-binding="">P</span><span class="inter-text">   ------------c--d-e--âŠ¥

</span><span class="unknown token" data-binding="">it</span><span class="inter-text">               ---a----âŠ¥
</span><span class="unknown token" data-binding="">it.dropWhile</span><span class="inter-text"> </span><span class="unknown token" data-binding="">P</span><span class="inter-text">   --------âŠ¥</span></code><p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20105" data-verso-hover="6784">it</span></code> is finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20105" data-verso-hover="6784">it</span></code> is finite</p>
                      </li>
                    </ul>
                  <p>
                    Depending on <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20124" data-verso-hover="6967">P</span></code>, it is possible that <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20125" data-verso-hover="6784">it</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">dropWhileM</span><span class="inter-text"> </span><span class="unknown token" data-binding="">P</span></code> is productive although
<code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20125" data-verso-hover="6784">it</span></code> is not. In this case, the <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance needs to be proved manually.</p>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    This combinator calls <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20150" data-verso-hover="6967">P</span></code> on each output of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20151" data-verso-hover="6784">it</span></code> until the predicate evaluates to false. After
that, the combinator incurs an additional O(1) cost for each value emitted by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20151" data-verso-hover="6784">it</span></code>.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___Iter___stepSize">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.Iter.stepSize" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.Iter.stepSize.{u_1}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.20356" data-verso-hover="46">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20357" data-verso-hover="46">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type u_1</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20356" data-verso-hover="46">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20357" data-verso-hover="46">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___IteratorAccess___mk" title="Documentation for Std.IteratorAccess"><span class="const token" data-binding="const-Std.IteratorAccess" data-verso-hover="6920">IteratorAccess</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20356" data-verso-hover="46">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.20371" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20357" data-verso-hover="46">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.20372" data-verso-hover="9">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat"><span class="const token" data-binding="const-Nat" data-verso-hover="17">Nat</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20357" data-verso-hover="46">Î²</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.Iter.stepSize.{u_1}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.20356" data-verso-hover="46">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20357" data-verso-hover="46">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type u_1</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20356" data-verso-hover="46">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20357" data-verso-hover="46">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___IteratorAccess___mk" title="Documentation for Std.IteratorAccess"><span class="const token" data-binding="const-Std.IteratorAccess" data-verso-hover="6920">IteratorAccess</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20356" data-verso-hover="46">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.20371" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20357" data-verso-hover="46">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.20372" data-verso-hover="9">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat"><span class="const token" data-binding="const-Nat" data-verso-hover="17">Nat</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20357" data-verso-hover="46">Î²</span></div></pre><div class="text">
                  <p>
                    Produces an iterator that emits one value of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20167" data-verso-hover="6784">it</span></code>, then drops <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20168" data-verso-hover="9">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">-</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="9">1</span></code> elements, then emits another
value, and so on. In other words, it emits every <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20168" data-verso-hover="9">n</span></code>-th value of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20167" data-verso-hover="6784">it</span></code>, starting with the first one.</p>
                  <p>
                    If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20229" data-verso-hover="9">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="9">0</span></code>, the iterator behaves like for <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20229" data-verso-hover="9">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="9">1</span></code>: It emits all values of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20228" data-verso-hover="6784">it</span></code>.</p>
                  <p>
                    <strong>Marble diagram:</strong></p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20284" data-verso-hover="6784">it</span><span class="inter-text">               ---1----2----3---4----5
</span><span class="unknown token" data-binding="">it.stepSize</span><span class="inter-text"> </span><span class="unknown token" data-binding="">2</span><span class="inter-text">    ---1---------3--------5</span></code><p>
                    <strong>Availability:</strong></p>
                  <p>
                    This operation is currently only available for iterators implementing <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___IteratorAccess___mk" title="Documentation for Std.IteratorAccess"><span class="const token" data-binding="const-Std.IteratorAccess" data-verso-hover="6920">IteratorAccess</span></a></code>,
such as <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">PRange.iter</span></code> range iterators.</p>
                  <p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if the base iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20338" data-verso-hover="6784">it</span></code> is finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: always</p>
                      </li>
                    </ul>
                  </div>
                </div>
              <div class="namedocs" id="Std___Iter___map">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.Iter.map" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.Iter.map.{w}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.20533" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20534" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20535" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20533" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20534" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.20542" data-verso-hover="3485">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20534" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20535" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.20545" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20534" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20535" data-verso-hover="4902">Î³</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.Iter.map.{w}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.20533" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20534" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20535" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20533" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20534" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.20542" data-verso-hover="3485">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20534" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20535" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.20545" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20534" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20535" data-verso-hover="4902">Î³</span></div></pre><div class="text">
                  <p>
                    If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20381" data-verso-hover="6784">it</span></code> is an iterator, then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20381" data-verso-hover="6784">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___Iter___map" title="Documentation for Std.Iter.map"><span class="const token" data-binding="const-Std.Iter.map" data-verso-hover="6761">map</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20380" data-verso-hover="3485">f</span></code> is another iterator that applies a
function <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20380" data-verso-hover="3485">f</span></code> to all values emitted by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20381" data-verso-hover="6784">it</span></code> and emits the result.</p>
                  <p>
                    In situations where <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20403" data-verso-hover="3485">f</span></code> is monadic, use <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">mapM</span></code> instead.</p>
                  <p>
                    <strong>Marble diagram:</strong></p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20426" data-verso-hover="6784">it</span><span class="inter-text">         ---a --b --c --d -e ----âŠ¥
</span><span class="unknown token" data-binding="">it.map</span><span class="inter-text">     ---a'--b'--c'--d'-e'----âŠ¥</span></code><p>
                    (given that <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20444" data-verso-hover="3485">f</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20455" data-verso-hover="326">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20464" data-verso-hover="1223">a'</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20444" data-verso-hover="3485">f</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20476" data-verso-hover="326">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20487" data-verso-hover="1223">b'</span></code> etc.)</p>
                  <p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20503" data-verso-hover="6784">it</span></code> is finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20503" data-verso-hover="6784">it</span></code> is productive</p>
                      </li>
                    </ul>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    For each value emitted by the base iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20531" data-verso-hover="6784">it</span></code>, this combinator calls <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20530" data-verso-hover="3485">f</span></code>.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___Iter___mapM">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.Iter.mapM" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.Iter.mapM.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.21993" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21994" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21995" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21993" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21994" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.22002" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22002" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-MonadAttach" data-verso-hover="6999">MonadAttach</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22002" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.22006" data-verso-hover="3490">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21994" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22002" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21995" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.22009" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21994" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22002" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21995" data-verso-hover="4902">Î³</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.Iter.mapM.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.21993" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21994" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21995" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21993" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21994" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.22002" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22002" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-MonadAttach" data-verso-hover="6999">MonadAttach</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22002" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.22006" data-verso-hover="3490">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21994" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22002" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21995" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.22009" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21994" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22002" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21995" data-verso-hover="4902">Î³</span></div></pre><div class="text">
                  <p>
                    If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20557" data-verso-hover="6784">it</span></code> is an iterator, then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20557" data-verso-hover="6784">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___Iter___mapM" title="Documentation for Std.Iter.mapM"><span class="const token" data-binding="const-Std.Iter.mapM" data-verso-hover="7000">mapM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20556" data-verso-hover="3490">f</span></code> is another iterator that applies a monadic
function <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20556" data-verso-hover="3490">f</span></code> to all values emitted by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20557" data-verso-hover="6784">it</span></code> and emits the result.</p>
                  <p>
                    The base iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20593" data-verso-hover="6784">it</span></code> being monadic in <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20589" data-verso-hover="5094">m</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20592" data-verso-hover="3490">f</span></code> can return values in any monad <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20621" data-verso-hover="72">n</span></code> for which a
<code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLiftT___mk" title="Documentation for MonadLiftT"><span class="const token" data-binding="const-MonadLiftT" data-verso-hover="83">MonadLiftT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20589" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20621" data-verso-hover="6768">n</span></code> instance is available.</p>
                  <p>
                    If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20639" data-verso-hover="3490">f</span></code> is pure, then the simpler variant <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20640" data-verso-hover="6784">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___Iter___map" title="Documentation for Std.Iter.map"><span class="const token" data-binding="const-Std.Iter.map" data-verso-hover="6761">map</span></a></code> can be used instead.</p>
                  <p>
                    <strong>Marble diagram (without monadic effects):</strong></p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20676" data-verso-hover="6784">it</span><span class="inter-text">          ---a --b --c --d -e ----âŠ¥
</span><span class="unknown token" data-binding="">it.mapM</span><span class="inter-text">     ---a'--b'--c'--d'-e'----âŠ¥</span></code><p>
                    (given that <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20697" data-verso-hover="3490">f</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20752" data-verso-hover="326">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/#Pure___mk" title="Documentation for Pure.pure"><span class="const token" data-binding="const-Pure.pure" data-verso-hover="999">pure</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20810" data-verso-hover="1223">a'</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.20697" data-verso-hover="3490">f</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20890" data-verso-hover="326">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/#Pure___mk" title="Documentation for Pure.pure"><span class="const token" data-binding="const-Pure.pure" data-verso-hover="999">pure</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20974" data-verso-hover="1223">b'</span></code> etc.)</p>
                  <p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.21066" data-verso-hover="6784">it</span></code> is finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.21066" data-verso-hover="6784">it</span></code> is productive</p>
                      </li>
                    </ul>
                  <p>
                    For certain mapping functions <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.21090" data-verso-hover="3490">f</span></code>, the resulting iterator will be finite (or productive) even though
no <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> (or <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code>) instance is provided. For example, if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.21090" data-verso-hover="3490">f</span></code> is an <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT" title="Documentation for ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="3474">ExceptT</span></a></code> monad and
will always fail, then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">it.mapM</span></code> will be finite even if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.21091" data-verso-hover="6784">it</span></code> isn't. In such cases, the termination
proof needs to be done manually.</p>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    For each value emitted by the base iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.21991" data-verso-hover="6784">it</span></code>, this combinator calls <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.21990" data-verso-hover="3490">f</span></code>.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___Iter___mapWithPostcondition">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.Iter.mapWithPostcondition" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.Iter.mapWithPostcondition.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.23225" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23226" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23227" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23225" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23226" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.23234" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23234" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.23239" data-verso-hover="7001">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23226" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23234" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23227" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.23242" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23226" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23234" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23227" data-verso-hover="4902">Î³</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.Iter.mapWithPostcondition.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.23225" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23226" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23227" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23225" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23226" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.23234" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23234" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.23239" data-verso-hover="7001">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23226" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23234" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23227" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.23242" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23226" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23234" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23227" data-verso-hover="4902">Î³</span></div></pre><div class="text">
                  <p>
                    <em>Note: This is a very general combinator that requires an advanced understanding of monads,
dependent types and termination proofs. The variants <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">map</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">mapM</span></code> are easier to use and
sufficient for most use cases.</em></p>
                  <p>
                    If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.22047" data-verso-hover="6784">it</span></code> is an iterator, then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.22047" data-verso-hover="6784">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___Iter___mapWithPostcondition" title="Documentation for Std.Iter.mapWithPostcondition"><span class="const token" data-binding="const-Std.Iter.mapWithPostcondition" data-verso-hover="7003">mapWithPostcondition</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22046" data-verso-hover="7001">f</span></code> is another iterator that applies a monadic
function <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.22046" data-verso-hover="7001">f</span></code> to all values emitted by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.22047" data-verso-hover="6784">it</span></code> and emits the result.</p>
                  <p>
                    <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.22081" data-verso-hover="7001">f</span></code> is expected to return <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22093" data-verso-hover="3839">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">_</span></code>, where <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.22093" data-verso-hover="3839">n</span></code> is an arbitrary monad.
The <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a></code> transformer allows the caller to intrinsically prove properties about
<code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.22081" data-verso-hover="7001">f</span></code>'s return value in the monad <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.22093" data-verso-hover="3839">n</span></code>, enabling termination proofs depending on the specific behavior
of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.22081" data-verso-hover="7001">f</span></code>.</p>
                  <p>
                    <strong>Marble diagram (without monadic effects):</strong></p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.22121" data-verso-hover="6784">it</span><span class="inter-text">                          ---a --b --c --d -e ----âŠ¥
</span><span class="unknown token" data-binding="">it.mapWithPostcondition</span><span class="inter-text">     ---a'--b'--c'--d'-e'----âŠ¥</span></code><p>
                    (given that <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.22141" data-verso-hover="7001">f</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22203" data-verso-hover="326">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/#Pure___mk" title="Documentation for Pure.pure"><span class="const token" data-binding="const-Pure.pure" data-verso-hover="999">pure</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22268" data-verso-hover="1223">a'</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.22141" data-verso-hover="7001">f</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22355" data-verso-hover="326">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/#Pure___mk" title="Documentation for Pure.pure"><span class="const token" data-binding="const-Pure.pure" data-verso-hover="999">pure</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22446" data-verso-hover="1223">b'</span></code> etc.)</p>
                  <p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.22543" data-verso-hover="6784">it</span></code> is finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.22543" data-verso-hover="6784">it</span></code> is productive</p>
                      </li>
                    </ul>
                  <p>
                    For certain mapping functions <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.22566" data-verso-hover="7001">f</span></code>, the resulting iterator will be finite (or productive) even though
no <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> (or <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code>) instance is provided. For example, if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.22566" data-verso-hover="7001">f</span></code> is an <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT" title="Documentation for ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="3474">ExceptT</span></a></code> monad and
will always fail, then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">it.mapWithPostcondition</span></code> will be finite even if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.22567" data-verso-hover="6784">it</span></code> isn't.</p>
                  <p>
                    In such situations, the missing instances can be proved manually if the postcondition bundled in
the <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23200" data-verso-hover="3839">n</span></code> monad is strong enough. In the given example, a suitable postcondition might
be <code class="hl lean inline" data-lean-context="docstring-examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-0">fun</span><span class="inter-text"> </span><span class="unknown token" data-binding="">_</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><a href="Basic-Propositions/Truth/#False" title="Documentation for False"><span class="const token" data-binding="const-False" data-verso-hover="11">False</span></a></code>.</p>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    For each value emitted by the base iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23223" data-verso-hover="6784">it</span></code>, this combinator calls <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23222" data-verso-hover="7001">f</span></code>.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___Iter___uLift">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.Iter.uLift" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.Iter.uLift.{v,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">u}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.23305" data-verso-hover="58">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23306" data-verso-hover="58">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type u</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.23309" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23306" data-verso-hover="58">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="The-Type-System/Universes/#ULift___up" title="Documentation for ULift"><span class="const token" data-binding="const-ULift" data-verso-hover="401">ULift</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23306" data-verso-hover="58">Î²</span><span class="unknown token" data-binding="">)</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.Iter.uLift.{v,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">u}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.23305" data-verso-hover="58">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23306" data-verso-hover="58">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type u</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.23309" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23306" data-verso-hover="58">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="The-Type-System/Universes/#ULift___up" title="Documentation for ULift"><span class="const token" data-binding="const-ULift" data-verso-hover="401">ULift</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23306" data-verso-hover="58">Î²</span><span class="unknown token" data-binding="">)</span></div></pre><div class="text">
                  <p>
                    Transforms an iterator with values in <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23248" data-verso-hover="58">Î²</span></code> into one with values in <code class="hl lean inline" data-lean-context="docstring-examples"><a href="The-Type-System/Universes/#ULift___up" title="Documentation for ULift"><span class="const token" data-binding="const-ULift" data-verso-hover="401">ULift</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23248" data-verso-hover="58">Î²</span></code>.</p>
                  <p>
                    Most other combinators like <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">map</span></code> cannot switch between universe levels. This combinators
makes it possible to transition to a higher universe.</p>
                  <p>
                    <strong>Marble diagram:</strong></p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23269" data-verso-hover="6784">it</span><span class="inter-text">            ---a    ----b    ---c    --d    ---âŠ¥
</span><span class="unknown token" data-binding="">it.uLift</span><span class="inter-text"> </span><span class="unknown token" data-binding="">n</span><span class="inter-text">    ---.up a----.up b---.up c--.up d---âŠ¥</span></code><p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code>: only if the original iterator is finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code>: only if the original iterator is productive</p>
                      </li>
                    </ul>
                  </div>
                </div>
              <div class="namedocs" id="Std___Iter___flatMap">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.Iter.flatMap" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.Iter.flatMap.{w}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.23461" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23462" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23463" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23464" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23461" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23462" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23463" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23464" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.23478" data-verso-hover="7004">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23462" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23464" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.23481" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23462" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23464" data-verso-hover="4902">Î³</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.Iter.flatMap.{w}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.23461" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23462" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23463" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23464" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23461" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23462" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23463" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23464" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.23478" data-verso-hover="7004">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23462" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23464" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.23481" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23462" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23464" data-verso-hover="4902">Î³</span></div></pre><div class="text">
                  <p>
                    Let <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23320" data-verso-hover="6784">it</span></code> be an iterator and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23319" data-verso-hover="7004">f</span></code> a function mapping <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23320" data-verso-hover="6784">it</span></code>'s outputs to iterators.
Then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23320" data-verso-hover="6784">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___Iter___flatMap" title="Documentation for Std.Iter.flatMap"><span class="const token" data-binding="const-Std.Iter.flatMap" data-verso-hover="7005">flatMap</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23319" data-verso-hover="7004">f</span></code> is an iterator that goes over <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23320" data-verso-hover="6784">it</span></code> and for each output, it applies <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23319" data-verso-hover="7004">f</span></code> and
iterates over the resulting iterator. <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23320" data-verso-hover="6784">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___Iter___flatMap" title="Documentation for Std.Iter.flatMap"><span class="const token" data-binding="const-Std.Iter.flatMap" data-verso-hover="7005">flatMap</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23319" data-verso-hover="7004">f</span></code> emits all values obtained from the inner
iterators -- first, all of the first inner iterator, then all of the second one, and so on.</p>
                  <p>
                    <strong>Marble diagram:</strong></p>
                  <pre>it                 ---a      --b      c    --d -âŠ¥
f a                    a1-a2âŠ¥
f b                             b1-b2âŠ¥
f c                                    c1-c2âŠ¥
f d                                           âŠ¥
it.flatMap         ----a1-a2----b1-b2--c1-c2----âŠ¥
</pre><p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23394" data-verso-hover="6784">it</span></code> and the inner iterators are finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23394" data-verso-hover="6784">it</span></code> is finite and the inner iterators are productive</p>
                      </li>
                    </ul>
                  <p>
                    For certain functions <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23417" data-verso-hover="7004">f</span></code>, the resulting iterator will be finite (or productive) even though
no <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> (or <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code>) instance is provided out of the box. For example, if the outer
iterator is productive and the inner
iterators are productive <em>and provably never empty</em>, then the resulting iterator is also productive.</p>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    This combinator incurs an additional O(1) cost with each output of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23451" data-verso-hover="6784">it</span></code> or an internal iterator.</p>
                  <p>
                    For each value emitted by the outer iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23459" data-verso-hover="6784">it</span></code>, this combinator calls <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23458" data-verso-hover="7004">f</span></code>.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___Iter___flatMapM">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.Iter.flatMapM" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.Iter.flatMapM.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.23686" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23687" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23688" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23689" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.23691" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23691" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-MonadAttach" data-verso-hover="6999">MonadAttach</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23691" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23686" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23687" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23688" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23691" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23689" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.23707" data-verso-hover="7006">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23687" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23691" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23691" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23689" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.23710" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23687" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23691" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23689" data-verso-hover="4902">Î³</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.Iter.flatMapM.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.23686" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23687" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23688" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23689" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.23691" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23691" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-MonadAttach" data-verso-hover="6999">MonadAttach</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23691" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23686" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23687" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23688" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23691" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23689" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.23707" data-verso-hover="7006">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23687" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23691" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23691" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23689" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.23710" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23687" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23691" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23689" data-verso-hover="4902">Î³</span></div></pre><div class="text">
                  <p>
                    Let <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23495" data-verso-hover="6784">it</span></code> be an iterator and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23494" data-verso-hover="7006">f</span></code> a monadic function mapping <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23495" data-verso-hover="6784">it</span></code>'s outputs to iterators.
Then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23495" data-verso-hover="6784">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___Iter___flatMapM" title="Documentation for Std.Iter.flatMapM"><span class="const token" data-binding="const-Std.Iter.flatMapM" data-verso-hover="7007">flatMapM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23494" data-verso-hover="7006">f</span></code> is an iterator that goes over <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23495" data-verso-hover="6784">it</span></code> and for each output, it applies <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23494" data-verso-hover="7006">f</span></code> and
iterates over the resulting iterator. <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23495" data-verso-hover="6784">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___Iter___flatMapM" title="Documentation for Std.Iter.flatMapM"><span class="const token" data-binding="const-Std.Iter.flatMapM" data-verso-hover="7007">flatMapM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23494" data-verso-hover="7006">f</span></code> emits all values obtained from the inner
iterators -- first, all of the first inner iterator, then all of the second one, and so on.</p>
                  <p>
                    <strong>Marble diagram (without monadic effects):</strong></p>
                  <pre>it                 ---a      --b      c    --d -âŠ¥
f a                    a1-a2âŠ¥
f b                             b1-b2âŠ¥
f c                                    c1-c2âŠ¥
f d                                           âŠ¥
it.flatMapM        ----a1-a2----b1-b2--c1-c2----âŠ¥
</pre><p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23607" data-verso-hover="6784">it</span></code> and the inner iterators are finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23607" data-verso-hover="6784">it</span></code> is finite and the inner iterators are productive</p>
                      </li>
                    </ul>
                  <p>
                    For certain functions <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23633" data-verso-hover="7006">f</span></code>, the resulting iterator will be finite (or productive) even though
no <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> (or <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code>) instance is provided out of the box. For example, if the outer
iterator is productive and the inner
iterators are productive <em>and provably never empty</em>, then the resulting iterator is also productive.</p>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    This combinator incurs an additional O(1) cost with each output of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23673" data-verso-hover="6784">it</span></code> or an internal iterator.</p>
                  <p>
                    For each value emitted by the outer iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23684" data-verso-hover="6784">it</span></code>, this combinator calls <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23683" data-verso-hover="7006">f</span></code>.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___Iter___flatMapAfter">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.Iter.flatMapAfter" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.Iter.flatMapAfter.{w}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.23944" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23945" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23946" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23947" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23944" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23945" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23946" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23947" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.23961" data-verso-hover="7004">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23945" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23947" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.23964" data-verso-hover="6784">itâ‚</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23945" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.23967" data-verso-hover="7008">itâ‚‚</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option"><span class="const token" data-binding="const-Option" data-verso-hover="47">Option</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23947" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23947" data-verso-hover="4902">Î³</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.Iter.flatMapAfter.{w}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.23944" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23945" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23946" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23947" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23944" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23945" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23946" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23947" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.23961" data-verso-hover="7004">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23945" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23947" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.23964" data-verso-hover="6784">itâ‚</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23945" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.23967" data-verso-hover="7008">itâ‚‚</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option"><span class="const token" data-binding="const-Option" data-verso-hover="47">Option</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23947" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23947" data-verso-hover="4902">Î³</span></div></pre><div class="text">
                  <p>
                    Let <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23722" data-verso-hover="6784">itâ‚</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23723" data-verso-hover="7008">itâ‚‚</span></code> be iterators and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23721" data-verso-hover="7004">f</span></code> a function mapping <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23722" data-verso-hover="6784">itâ‚</span></code>'s outputs to iterators
of the same type as <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23723" data-verso-hover="7008">itâ‚‚</span></code>. Then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23722" data-verso-hover="6784">itâ‚</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___Iter___flatMapAfter" title="Documentation for Std.Iter.flatMapAfter"><span class="const token" data-binding="const-Std.Iter.flatMapAfter" data-verso-hover="7009">flatMapAfter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23721" data-verso-hover="7004">f</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23723" data-verso-hover="7008">itâ‚‚</span></code> first goes over <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23723" data-verso-hover="7008">itâ‚‚</span></code> and then over
<code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23722" data-verso-hover="6784">itâ‚</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___Iter___flatMap" title="Documentation for Std.Iter.flatMap"><span class="const token" data-binding="const-Std.Iter.flatMap" data-verso-hover="7005">flatMap</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23721" data-verso-hover="7004">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">itâ‚‚</span></code>, emitting all their values.</p>
                  <p>
                    The main purpose of this combinator is to represent the intermediate state of a <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">flatMap</span></code> iterator
that is currently iterating over one of the inner iterators.</p>
                  <p>
                    <strong>Marble diagram:</strong></p>
                  <pre>itâ‚                            --b      c    --d -âŠ¥
itâ‚‚                      a1-a2âŠ¥
f b                               b1-b2âŠ¥
f c                                      c1-c2âŠ¥
f d                                             âŠ¥
it.flatMapAfter  f itâ‚‚   a1-a2----b1-b2--c1-c2----âŠ¥
</pre><p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23872" data-verso-hover="6784">itâ‚</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23873" data-verso-hover="7008">itâ‚‚</span></code> and the inner iterators are finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23872" data-verso-hover="6784">itâ‚</span></code> is finite and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23873" data-verso-hover="7008">itâ‚‚</span></code> and the inner iterators are productive</p>
                      </li>
                    </ul>
                  <p>
                    For certain functions <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23896" data-verso-hover="7004">f</span></code>, the resulting iterator will be finite (or productive) even though
no <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> (or <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code>) instance is provided out of the box. For example, if the outer
iterator is productive and the inner
iterators are productive <em>and provably never empty</em>, then the resulting iterator is also productive.</p>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    This combinator incurs an additional O(1) cost with each output of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23932" data-verso-hover="6784">itâ‚</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23933" data-verso-hover="7008">itâ‚‚</span></code> or an internal
iterator.</p>
                  <p>
                    For each value emitted by the outer iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23941" data-verso-hover="6784">itâ‚</span></code>, this combinator calls <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23940" data-verso-hover="7004">f</span></code>.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___Iter___flatMapAfterM">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.Iter.flatMapAfterM" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.Iter.flatMapAfterM.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.24891" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24892" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24893" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24894" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.24896" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24896" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-MonadAttach" data-verso-hover="6999">MonadAttach</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24896" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24891" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24892" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24893" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24896" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24894" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.24912" data-verso-hover="7006">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24892" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24896" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24896" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24894" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.24915" data-verso-hover="6784">itâ‚</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24892" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.24919" data-verso-hover="7010">itâ‚‚</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option"><span class="const token" data-binding="const-Option" data-verso-hover="47">Option</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24896" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24894" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24896" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24894" data-verso-hover="4902">Î³</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.Iter.flatMapAfterM.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.24891" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24892" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24893" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24894" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.24896" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24896" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-MonadAttach" data-verso-hover="6999">MonadAttach</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24896" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24891" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24892" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24893" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24896" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24894" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.24912" data-verso-hover="7006">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24892" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24896" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24896" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24894" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.24915" data-verso-hover="6784">itâ‚</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24892" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.24919" data-verso-hover="7010">itâ‚‚</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option"><span class="const token" data-binding="const-Option" data-verso-hover="47">Option</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24896" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24894" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24896" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24894" data-verso-hover="4902">Î³</span></div></pre><div class="text">
                  <p>
                    Let <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23981" data-verso-hover="6784">itâ‚</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23982" data-verso-hover="7010">itâ‚‚</span></code> be iterators and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23980" data-verso-hover="7006">f</span></code> a monadic function mapping <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23981" data-verso-hover="6784">itâ‚</span></code>'s outputs to iterators
of the same type as <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23982" data-verso-hover="7010">itâ‚‚</span></code>. Then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23981" data-verso-hover="6784">itâ‚</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___Iter___flatMapAfterM" title="Documentation for Std.Iter.flatMapAfterM"><span class="const token" data-binding="const-Std.Iter.flatMapAfterM" data-verso-hover="7011">flatMapAfterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23980" data-verso-hover="7006">f</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.23982" data-verso-hover="7010">itâ‚‚</span></code> first goes over <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.23982" data-verso-hover="7010">itâ‚‚</span></code> and then over
<code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">itâ‚.flatMap</span><span class="inter-text"> </span><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">itâ‚‚</span></code>, emitting all their values.</p>
                  <p>
                    The main purpose of this combinator is to represent the intermediate state of a <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">flatMap</span></code> iterator
that is currently iterating over one of the inner iterators.</p>
                  <p>
                    <strong>Marble diagram (without monadic effects):</strong></p>
                  <pre>itâ‚                            --b      c    --d -âŠ¥
itâ‚‚                      a1-a2âŠ¥
f b                               b1-b2âŠ¥
f c                                      c1-c2âŠ¥
f d                                             âŠ¥
it.flatMapAfterM f itâ‚‚   a1-a2----b1-b2--c1-c2----âŠ¥
</pre><p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.24807" data-verso-hover="6784">itâ‚</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.24808" data-verso-hover="7010">itâ‚‚</span></code> and the inner iterators are finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.24807" data-verso-hover="6784">itâ‚</span></code> is finite and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.24808" data-verso-hover="7010">itâ‚‚</span></code> and the inner iterators are productive</p>
                      </li>
                    </ul>
                  <p>
                    For certain functions <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.24834" data-verso-hover="7006">f</span></code>, the resulting iterator will be finite (or productive) even though
no <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> (or <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code>) instance is provided out of the box. For example, if the outer
iterator is productive and the inner
iterators are productive <em>and provably never empty</em>, then the resulting iterator is also productive.</p>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    This combinator incurs an additional O(1) cost with each output of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.24876" data-verso-hover="6784">itâ‚</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.24877" data-verso-hover="7010">itâ‚‚</span></code> or an internal
iterator.</p>
                  <p>
                    For each value emitted by the outer iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.24888" data-verso-hover="6784">itâ‚</span></code>, this combinator calls <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.24887" data-verso-hover="7006">f</span></code>.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___Iter___filter">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.Iter.filter" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.Iter.filter.{w}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.25040" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25041" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25040" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25041" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.25048" data-verso-hover="6967">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25041" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Basic-Types/Booleans/#Bool___false" title="Documentation for Bool"><span class="const token" data-binding="const-Bool" data-verso-hover="199">Bool</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.25051" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25041" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25041" data-verso-hover="4902">Î²</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.Iter.filter.{w}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.25040" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25041" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25040" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25041" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.25048" data-verso-hover="6967">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25041" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Basic-Types/Booleans/#Bool___false" title="Documentation for Bool"><span class="const token" data-binding="const-Bool" data-verso-hover="199">Bool</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.25051" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25041" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25041" data-verso-hover="4902">Î²</span></div></pre><div class="text">
                  <p>
                    If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.24928" data-verso-hover="6784">it</span></code> is an iterator, then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.24928" data-verso-hover="6784">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___Iter___filter" title="Documentation for Std.Iter.filter"><span class="const token" data-binding="const-Std.Iter.filter" data-verso-hover="6763">filter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24927" data-verso-hover="6967">f</span></code> is another iterator that applies a
predicate <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.24927" data-verso-hover="6967">f</span></code> to all values emitted by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.24928" data-verso-hover="6784">it</span></code> and emits them only if they are accepted by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.24927" data-verso-hover="6967">f</span></code>.</p>
                  <p>
                    In situations where <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.24948" data-verso-hover="6967">f</span></code> is monadic, use <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">filterM</span></code> instead.</p>
                  <p>
                    <strong>Marble diagram (without monadic effects):</strong></p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.24969" data-verso-hover="6784">it</span><span class="inter-text">            ---a--b--c--d-e--âŠ¥
</span><span class="unknown token" data-binding="">it.filter</span><span class="inter-text">     ---a-----c-------âŠ¥</span></code><p>
                    (given that <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">c</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">true</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">d</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">d</span><span class="inter-text"> </span><span class="unknown token" data-binding="">e</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">false</span></code>)</p>
                  <p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.24997" data-verso-hover="6784">it</span></code> is finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.24997" data-verso-hover="6784">it</span></code> is finite`</p>
                      </li>
                    </ul>
                  <p>
                    For certain mapping functions <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.25017" data-verso-hover="6967">f</span></code>, the resulting iterator will be productive even though
no <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance is provided. For example, if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.25017" data-verso-hover="6967">f</span></code> always returns <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Propositions/Truth/#True___intro" title="Documentation for True"><span class="const token" data-binding="const-True" data-verso-hover="405">True</span></a></code>, the resulting
iterator will be productive as long as <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.25018" data-verso-hover="6784">it</span></code> is. In such situations, the missing instance needs to
be proved manually.</p>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    For each value emitted by the base iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.25038" data-verso-hover="6784">it</span></code>, this combinator calls <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.25037" data-verso-hover="6967">f</span></code> and matches on the
returned value.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___Iter___filterM">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.Iter.filterM" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.Iter.filterM.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.25816" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25817" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25816" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25817" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.25824" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25824" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-MonadAttach" data-verso-hover="6999">MonadAttach</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25824" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.25828" data-verso-hover="6972">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25817" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25824" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="The-Type-System/Universes/#ULift___up" title="Documentation for ULift"><span class="const token" data-binding="const-ULift" data-verso-hover="401">ULift</span></a><span class="inter-text"> </span><a href="Basic-Types/Booleans/#Bool___false" title="Documentation for Bool"><span class="const token" data-binding="const-Bool" data-verso-hover="199">Bool</span></a><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.25831" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25817" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25824" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25817" data-verso-hover="4902">Î²</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.Iter.filterM.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.25816" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25817" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25816" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25817" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.25824" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25824" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-MonadAttach" data-verso-hover="6999">MonadAttach</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25824" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.25828" data-verso-hover="6972">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25817" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25824" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="The-Type-System/Universes/#ULift___up" title="Documentation for ULift"><span class="const token" data-binding="const-ULift" data-verso-hover="401">ULift</span></a><span class="inter-text"> </span><a href="Basic-Types/Booleans/#Bool___false" title="Documentation for Bool"><span class="const token" data-binding="const-Bool" data-verso-hover="199">Bool</span></a><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.25831" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25817" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25824" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25817" data-verso-hover="4902">Î²</span></div></pre><div class="text">
                  <p>
                    If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.25062" data-verso-hover="6784">it</span></code> is an iterator, then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.25062" data-verso-hover="6784">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___Iter___filterM" title="Documentation for Std.Iter.filterM"><span class="const token" data-binding="const-Std.Iter.filterM" data-verso-hover="7012">filterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25061" data-verso-hover="6972">f</span></code> is another iterator that applies a monadic
predicate <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.25061" data-verso-hover="6972">f</span></code> to all values emitted by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.25062" data-verso-hover="6784">it</span></code> and emits them only if they are accepted by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.25061" data-verso-hover="6972">f</span></code>.</p>
                  <p>
                    If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.25095" data-verso-hover="6972">f</span></code> is pure, then the simpler variant <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.25096" data-verso-hover="6784">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___Iter___filter" title="Documentation for Std.Iter.filter"><span class="const token" data-binding="const-Std.Iter.filter" data-verso-hover="6763">filter</span></a></code> can be used instead.</p>
                  <p>
                    <strong>Marble diagram (without monadic effects):</strong></p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.25128" data-verso-hover="6784">it</span><span class="inter-text">             ---a--b--c--d-e--âŠ¥
</span><span class="unknown token" data-binding="">it.filterM</span><span class="inter-text">     ---a-----c-------âŠ¥</span></code><p>
                    (given that <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">c</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">pure</span><span class="inter-text"> </span><span class="unknown token" data-binding="">true</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">d</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">d</span><span class="inter-text"> </span><span class="unknown token" data-binding="">e</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">pure</span><span class="inter-text"> </span><span class="unknown token" data-binding="">false</span></code>)</p>
                  <p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.25165" data-verso-hover="6784">it</span></code> is finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.25165" data-verso-hover="6784">it</span></code> is finite`</p>
                      </li>
                    </ul>
                  <p>
                    For certain mapping functions <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.25188" data-verso-hover="6972">f</span></code>, the resulting iterator will be finite (or productive) even though
no <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> (or <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code>) instance is provided. For example, if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.25188" data-verso-hover="6972">f</span></code> is an <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT" title="Documentation for ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="3474">ExceptT</span></a></code> monad and
will always fail, then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">it.filterWithPostcondition</span></code> will be finite -- and productive -- even if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.25189" data-verso-hover="6784">it</span></code>
isn't. In such cases, the termination proof needs to be done manually.</p>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    For each value emitted by the base iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.25814" data-verso-hover="6784">it</span></code>, this combinator calls <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.25813" data-verso-hover="6972">f</span></code>.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___Iter___filterWithPostcondition">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.Iter.filterWithPostcondition" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.Iter.filterWithPostcondition.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.26645" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.26646" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.26645" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.26646" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.26653" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.26653" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.26658" data-verso-hover="7013">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.26646" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.26653" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="The-Type-System/Universes/#ULift___up" title="Documentation for ULift"><span class="const token" data-binding="const-ULift" data-verso-hover="401">ULift</span></a><span class="inter-text"> </span><a href="Basic-Types/Booleans/#Bool___false" title="Documentation for Bool"><span class="const token" data-binding="const-Bool" data-verso-hover="199">Bool</span></a><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.26661" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.26646" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.26653" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.26646" data-verso-hover="4902">Î²</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.Iter.filterWithPostcondition.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.26645" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.26646" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.26645" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.26646" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.26653" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.26653" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.26658" data-verso-hover="7013">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.26646" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.26653" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="The-Type-System/Universes/#ULift___up" title="Documentation for ULift"><span class="const token" data-binding="const-ULift" data-verso-hover="401">ULift</span></a><span class="inter-text"> </span><a href="Basic-Types/Booleans/#Bool___false" title="Documentation for Bool"><span class="const token" data-binding="const-Bool" data-verso-hover="199">Bool</span></a><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.26661" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.26646" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.26653" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.26646" data-verso-hover="4902">Î²</span></div></pre><div class="text">
                  <p>
                    <em>Note: This is a very general combinator that requires an advanced understanding of monads,
dependent types and termination proofs. The variants <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">filter</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">filterM</span></code> are easier to use and
sufficient for most use cases.</em></p>
                  <p>
                    If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.25867" data-verso-hover="6784">it</span></code> is an iterator, then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.25867" data-verso-hover="6784">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___Iter___filterWithPostcondition" title="Documentation for Std.Iter.filterWithPostcondition"><span class="const token" data-binding="const-Std.Iter.filterWithPostcondition" data-verso-hover="7014">filterWithPostcondition</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25866" data-verso-hover="7013">f</span></code> is another iterator that applies a monadic
predicate <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.25866" data-verso-hover="7013">f</span></code> to all values emitted by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.25867" data-verso-hover="6784">it</span></code> and emits them only if they are accepted by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.25866" data-verso-hover="7013">f</span></code>.</p>
                  <p>
                    <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.25899" data-verso-hover="7013">f</span></code> is expected to return <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.25912" data-verso-hover="3839">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="The-Type-System/Universes/#ULift___up" title="Documentation for ULift"><span class="const token" data-binding="const-ULift" data-verso-hover="401">ULift</span></a><span class="inter-text"> </span><a href="Basic-Types/Booleans/#Bool___false" title="Documentation for Bool"><span class="const token" data-binding="const-Bool" data-verso-hover="199">Bool</span></a><span class="unknown token" data-binding="">)</span></code>, where <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.25912" data-verso-hover="3839">n</span></code> is an arbitrary monad.
The <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a></code> transformer allows the caller to intrinsically prove properties about
<code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.25899" data-verso-hover="7013">f</span></code>'s return value in the monad <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.25912" data-verso-hover="3839">n</span></code>, enabling termination proofs depending on the specific behavior
of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.25899" data-verso-hover="7013">f</span></code>.</p>
                  <p>
                    <strong>Marble diagram (without monadic effects):</strong></p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.25939" data-verso-hover="6784">it</span><span class="inter-text">                             ---a--b--c--d-e--âŠ¥
</span><span class="unknown token" data-binding="">it.filterWithPostcondition</span><span class="inter-text">     ---a-----c-------âŠ¥</span></code><p>
                    (given that <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">c</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">pure</span><span class="inter-text"> </span><span class="unknown token" data-binding="">true</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">d</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">d</span><span class="inter-text"> </span><span class="unknown token" data-binding="">e</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">pure</span><span class="inter-text"> </span><span class="unknown token" data-binding="">false</span></code>)</p>
                  <p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.25973" data-verso-hover="6784">it</span></code> is finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.25973" data-verso-hover="6784">it</span></code> is finite`</p>
                      </li>
                    </ul>
                  <p>
                    For certain mapping functions <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.25995" data-verso-hover="7013">f</span></code>, the resulting iterator will be finite (or productive) even though
no <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> (or <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code>) instance is provided. For example, if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.25995" data-verso-hover="7013">f</span></code> is an <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT" title="Documentation for ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="3474">ExceptT</span></a></code> monad and
will always fail, then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">it.filterWithPostcondition</span></code> will be finite -- and productive -- even if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.25996" data-verso-hover="6784">it</span></code>
isn't.</p>
                  <p>
                    In such situations, the missing instances can be proved manually if the postcondition bundled in
the <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.26622" data-verso-hover="3839">n</span></code> monad is strong enough. In the given example, a suitable postcondition might
be <code class="hl lean inline" data-lean-context="docstring-examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-0">fun</span><span class="inter-text"> </span><span class="unknown token" data-binding="">_</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><a href="Basic-Propositions/Truth/#False" title="Documentation for False"><span class="const token" data-binding="const-False" data-verso-hover="11">False</span></a></code>.</p>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    For each value emitted by the base iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.26643" data-verso-hover="6784">it</span></code>, this combinator calls <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.26642" data-verso-hover="7013">f</span></code>.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___Iter___filterMap">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.Iter.filterMap" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.Iter.filterMap.{w}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.27010" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.27011" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.27012" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.27010" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.27011" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.27019" data-verso-hover="2492">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.27011" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option"><span class="const token" data-binding="const-Option" data-verso-hover="47">Option</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.27012" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.27022" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.27011" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.27012" data-verso-hover="4902">Î³</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.Iter.filterMap.{w}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.27010" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.27011" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.27012" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.27010" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.27011" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.27019" data-verso-hover="2492">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.27011" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option"><span class="const token" data-binding="const-Option" data-verso-hover="47">Option</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.27012" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.27022" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.27011" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.27012" data-verso-hover="4902">Î³</span></div></pre><div class="text">
                  <p>
                    If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.26671" data-verso-hover="6784">it</span></code> is an iterator, then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.26671" data-verso-hover="6784">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___Iter___filterMap" title="Documentation for Std.Iter.filterMap"><span class="const token" data-binding="const-Std.Iter.filterMap" data-verso-hover="7015">filterMap</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.26670" data-verso-hover="2492">f</span></code> is another iterator that applies a function <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.26670" data-verso-hover="2492">f</span></code> to all
values emitted by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.26671" data-verso-hover="6784">it</span></code>. <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.26670" data-verso-hover="2492">f</span></code> is expected to return an <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option"><span class="const token" data-binding="const-Option" data-verso-hover="47">Option</span></a></code>. If it returns <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option.none"><span class="const token" data-binding="const-Option.none" data-verso-hover="50">none</span></a></code>, then nothing is
emitted; if it returns <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option.some"><span class="const token" data-binding="const-Option.some" data-verso-hover="49">some</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.26699" data-verso-hover="72">x</span></code>, then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.26699" data-verso-hover="72">x</span></code> is emitted.</p>
                  <p>
                    In situations where <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.26724" data-verso-hover="2492">f</span></code> is monadic, use <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">filterMapM</span></code> instead.</p>
                  <p>
                    <strong>Marble diagram:</strong></p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.26747" data-verso-hover="6784">it</span><span class="inter-text">               ---a --b--c --d-e--âŠ¥
</span><span class="unknown token" data-binding="">it.filterMap</span><span class="inter-text">     ---a'-----c'-------âŠ¥</span></code><p>
                    (given that <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.26765" data-verso-hover="2492">f</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.26802" data-verso-hover="326">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option.some"><span class="const token" data-binding="const-Option.some" data-verso-hover="49">some</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.26839" data-verso-hover="1223">a'</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.26765" data-verso-hover="2492">f</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.26879" data-verso-hover="326">c</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.26918" data-verso-hover="7016">c'</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">d</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">d</span><span class="inter-text"> </span><span class="unknown token" data-binding="">e</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">none</span></code>)</p>
                  <p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.26962" data-verso-hover="6784">it</span></code> is finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.26962" data-verso-hover="6784">it</span></code> is finite`</p>
                      </li>
                    </ul>
                  <p>
                    For certain mapping functions <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.26983" data-verso-hover="2492">f</span></code>, the resulting iterator will be productive even though
no <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance is provided. For example, if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.26983" data-verso-hover="2492">f</span></code> never returns <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option.none"><span class="const token" data-binding="const-Option.none" data-verso-hover="50">none</span></a></code>, then
this combinator will preserve productiveness. In such situations, the missing instance needs to
be proved manually.</p>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    For each value emitted by the base iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.27007" data-verso-hover="6784">it</span></code>, this combinator calls <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.27006" data-verso-hover="2492">f</span></code> and matches on the
returned <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option"><span class="const token" data-binding="const-Option" data-verso-hover="47">Option</span></a></code> value.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___Iter___filterMapM">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.Iter.filterMapM" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.Iter.filterMapM.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.28288" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.28289" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.28290" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.28288" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.28289" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.28297" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.28297" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-MonadAttach" data-verso-hover="6999">MonadAttach</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.28297" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.28301" data-verso-hover="6977">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.28289" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.28297" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option"><span class="const token" data-binding="const-Option" data-verso-hover="47">Option</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.28290" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.28304" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.28289" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.28297" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.28290" data-verso-hover="4902">Î³</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.Iter.filterMapM.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.28288" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.28289" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.28290" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.28288" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.28289" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.28297" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.28297" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-MonadAttach" data-verso-hover="6999">MonadAttach</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.28297" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.28301" data-verso-hover="6977">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.28289" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.28297" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option"><span class="const token" data-binding="const-Option" data-verso-hover="47">Option</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.28290" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.28304" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.28289" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.28297" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.28290" data-verso-hover="4902">Î³</span></div></pre><div class="text">
                  <p>
                    If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.27034" data-verso-hover="6784">it</span></code> is an iterator, then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.27034" data-verso-hover="6784">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___Iter___filterMapM" title="Documentation for Std.Iter.filterMapM"><span class="const token" data-binding="const-Std.Iter.filterMapM" data-verso-hover="7017">filterMapM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.27033" data-verso-hover="6977">f</span></code> is another iterator that applies a monadic
function <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.27033" data-verso-hover="6977">f</span></code> to all values emitted by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.27034" data-verso-hover="6784">it</span></code>. <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.27033" data-verso-hover="6977">f</span></code> is expected to return an <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option"><span class="const token" data-binding="const-Option" data-verso-hover="47">Option</span></a></code> inside the monad.
If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.27033" data-verso-hover="6977">f</span></code> returns <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option.none"><span class="const token" data-binding="const-Option.none" data-verso-hover="50">none</span></a></code>, then nothing is emitted; if it returns <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option.some"><span class="const token" data-binding="const-Option.some" data-verso-hover="49">some</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.27073" data-verso-hover="72">x</span></code>, then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.27073" data-verso-hover="72">x</span></code> is emitted.</p>
                  <p>
                    If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.27110" data-verso-hover="6977">f</span></code> is pure, then the simpler variant <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.27111" data-verso-hover="6784">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___Iter___filterMap" title="Documentation for Std.Iter.filterMap"><span class="const token" data-binding="const-Std.Iter.filterMap" data-verso-hover="7015">filterMap</span></a></code> can be used instead.</p>
                  <p>
                    <strong>Marble diagram (without monadic effects):</strong></p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.27147" data-verso-hover="6784">it</span><span class="inter-text">                ---a --b--c --d-e--âŠ¥
</span><span class="unknown token" data-binding="">it.filterMapM</span><span class="inter-text">     ---a'-----c'-------âŠ¥</span></code><p>
                    (given that <code>f a = pure (some a)'</code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.27168" data-verso-hover="6977">f</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.27226" data-verso-hover="326">c</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/#Pure___mk" title="Documentation for Pure.pure"><span class="const token" data-binding="const-Pure.pure" data-verso-hover="999">pure</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option.some"><span class="const token" data-binding="const-Option.some" data-verso-hover="49">some</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.27289" data-verso-hover="1223">c'</span><span class="unknown token" data-binding="">)</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">d</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">d</span><span class="inter-text"> </span><span class="unknown token" data-binding="">e</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">pure</span><span class="inter-text"> </span><span class="unknown token" data-binding="">none</span></code>)</p>
                  <p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.27358" data-verso-hover="6784">it</span></code> is finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.27358" data-verso-hover="6784">it</span></code> is finite`</p>
                      </li>
                    </ul>
                  <p>
                    For certain mapping functions <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.27382" data-verso-hover="6977">f</span></code>, the resulting iterator will be finite (or productive) even though
no <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> (or <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code>) instance is provided. For example, if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.27382" data-verso-hover="6977">f</span></code> never returns <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option.none"><span class="const token" data-binding="const-Option.none" data-verso-hover="50">none</span></a></code>, then
this combinator will preserve productiveness. If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.27382" data-verso-hover="6977">f</span></code> is an <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT" title="Documentation for ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="3474">ExceptT</span></a></code> monad and will always fail,
then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">it.filterMapM</span></code> will be finite even if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.27383" data-verso-hover="6784">it</span></code> isn't. In such cases, the termination proof needs
to be done manually.</p>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    For each value emitted by the base iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.28285" data-verso-hover="6784">it</span></code>, this combinator calls <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.28284" data-verso-hover="6977">f</span></code> and matches on the
returned <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option"><span class="const token" data-binding="const-Option" data-verso-hover="47">Option</span></a></code> value.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___Iter___filterMapWithPostcondition">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.Iter.filterMapWithPostcondition" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.Iter.filterMapWithPostcondition.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.29654" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.29655" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.29656" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.29654" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.29655" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.29663" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.29663" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.29668" data-verso-hover="7018">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.29655" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.29663" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option"><span class="const token" data-binding="const-Option" data-verso-hover="47">Option</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.29656" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.29671" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.29655" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.29663" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.29656" data-verso-hover="4902">Î³</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.Iter.filterMapWithPostcondition.{w,</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.29654" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.29655" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.29656" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.29654" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.29655" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.29663" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.29663" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.29668" data-verso-hover="7018">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.29655" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.29663" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option"><span class="const token" data-binding="const-Option" data-verso-hover="47">Option</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.29656" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.29671" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.29655" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.29663" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.29656" data-verso-hover="4902">Î³</span></div></pre><div class="text">
                  <p>
                    <em>Note: This is a very general combinator that requires an advanced understanding of monads,
dependent types and termination proofs. The variants <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">filterMap</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">filterMapM</span></code> are easier to use
and sufficient for most use cases.</em></p>
                  <p>
                    If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.28342" data-verso-hover="6784">it</span></code> is an iterator, then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.28342" data-verso-hover="6784">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___Iter___filterMapWithPostcondition" title="Documentation for Std.Iter.filterMapWithPostcondition"><span class="const token" data-binding="const-Std.Iter.filterMapWithPostcondition" data-verso-hover="7019">filterMapWithPostcondition</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.28341" data-verso-hover="7018">f</span></code> is another iterator that applies a monadic
function <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.28341" data-verso-hover="7018">f</span></code> to all values emitted by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.28342" data-verso-hover="6784">it</span></code>. <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.28341" data-verso-hover="7018">f</span></code> is expected to return an <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option"><span class="const token" data-binding="const-Option" data-verso-hover="47">Option</span></a></code> inside the monad.
If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.28341" data-verso-hover="7018">f</span></code> returns <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option.none"><span class="const token" data-binding="const-Option.none" data-verso-hover="50">none</span></a></code>, then nothing is emitted; if it returns <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option.some"><span class="const token" data-binding="const-Option.some" data-verso-hover="49">some</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.28381" data-verso-hover="72">x</span></code>, then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.28381" data-verso-hover="72">x</span></code> is emitted.</p>
                  <p>
                    <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.28418" data-verso-hover="7018">f</span></code> is expected to return <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.28431" data-verso-hover="3839">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option"><span class="const token" data-binding="const-Option" data-verso-hover="47">Option</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">_</span><span class="unknown token" data-binding="">)</span></code>, where <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.28431" data-verso-hover="3839">n</span></code> is an arbitrary monad.
The <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a></code> transformer allows the caller to intrinsically prove properties about
<code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.28418" data-verso-hover="7018">f</span></code>'s return value in the monad <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.28431" data-verso-hover="3839">n</span></code>, enabling termination proofs depending on the specific behavior
of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.28418" data-verso-hover="7018">f</span></code>.</p>
                  <p>
                    <strong>Marble diagram (without monadic effects):</strong></p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.28460" data-verso-hover="6784">it</span><span class="inter-text">                                ---a --b--c --d-e--âŠ¥
</span><span class="unknown token" data-binding="">it.filterMapWithPostcondition</span><span class="inter-text">     ---a'-----c'-------âŠ¥</span></code><p>
                    (given that <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.28480" data-verso-hover="7018">f</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.28545" data-verso-hover="326">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/#Pure___mk" title="Documentation for Pure.pure"><span class="const token" data-binding="const-Pure.pure" data-verso-hover="999">pure</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option.some"><span class="const token" data-binding="const-Option.some" data-verso-hover="49">some</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.28615" data-verso-hover="1223">a'</span><span class="unknown token" data-binding="">)</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.28480" data-verso-hover="7018">f</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.28708" data-verso-hover="326">c</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/#Pure___mk" title="Documentation for Pure.pure"><span class="const token" data-binding="const-Pure.pure" data-verso-hover="999">pure</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option.some"><span class="const token" data-binding="const-Option.some" data-verso-hover="49">some</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.28807" data-verso-hover="1223">c'</span><span class="unknown token" data-binding="">)</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">d</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">d</span><span class="inter-text"> </span><span class="unknown token" data-binding="">e</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">pure</span><span class="inter-text"> </span><span class="unknown token" data-binding="">none</span></code>)</p>
                  <p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.28910" data-verso-hover="6784">it</span></code> is finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.28910" data-verso-hover="6784">it</span></code> is finite</p>
                      </li>
                    </ul>
                  <p>
                    For certain mapping functions <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.28933" data-verso-hover="7018">f</span></code>, the resulting iterator will be finite (or productive) even though
no <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> (or <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code>) instance is provided. For example, if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.28933" data-verso-hover="7018">f</span></code> never returns <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option.none"><span class="const token" data-binding="const-Option.none" data-verso-hover="50">none</span></a></code>, then
this combinator will preserve productiveness. If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.28933" data-verso-hover="7018">f</span></code> is an <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT" title="Documentation for ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="3474">ExceptT</span></a></code> monad and will always fail,
then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">it.filterMapWithPostcondition</span></code> will be finite even if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.28934" data-verso-hover="6784">it</span></code> isn't. In the first case, consider
using the <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">map</span></code>/<code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">mapM</span></code>/<code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">mapWithPostcondition</span></code> combinators instead, which provide more instances out of
the box.</p>
                  <p>
                    In such situations, the missing instances can be proved manually if the postcondition bundled in
the <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.29596" data-verso-hover="3839">n</span></code> monad is strong enough. If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.29585" data-verso-hover="7018">f</span></code> always returns <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option.some"><span class="const token" data-binding="const-Option.some" data-verso-hover="49">some</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">_</span></code>, a suitable
postcondition is <code class="hl lean inline" data-lean-context="docstring-examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-0">fun</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.29625" data-verso-hover="2921">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="unknown token" data-binding="">x.isSome</span></code>; if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.29585" data-verso-hover="7018">f</span></code> always fails, a suitable postcondition might be
<code class="hl lean inline" data-lean-context="docstring-examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-0">fun</span><span class="inter-text"> </span><span class="unknown token" data-binding="">_</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><a href="Basic-Propositions/Truth/#False" title="Documentation for False"><span class="const token" data-binding="const-False" data-verso-hover="11">False</span></a></code>.</p>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    For each value emitted by the base iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.29651" data-verso-hover="6784">it</span></code>, this combinator calls <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.29650" data-verso-hover="7018">f</span></code> and matches on the
returned <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option"><span class="const token" data-binding="const-Option" data-verso-hover="47">Option</span></a></code> value.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___Iter___zip">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.Iter.zip" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.Iter.zip.{w}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.30707" data-verso-hover="4902">Î±â‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30708" data-verso-hover="4902">Î²â‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30709" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30710" data-verso-hover="4902">Î²â‚‚</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30707" data-verso-hover="4902">Î±â‚</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30708" data-verso-hover="4902">Î²â‚</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30709" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30710" data-verso-hover="4902">Î²â‚‚</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.30723" data-verso-hover="7020">left</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30708" data-verso-hover="4902">Î²â‚</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.30726" data-verso-hover="7021">right</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30710" data-verso-hover="4902">Î²â‚‚</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><a href="Basic-Types/Tuples/#Prod___mk" title="Documentation for Prod"><span class="const token" data-binding="const-Prod" data-verso-hover="330">(</span></a><span class="var token" data-binding="var-_uniq.30708" data-verso-hover="4902">Î²â‚</span><span class="inter-text"> </span><a href="Basic-Types/Tuples/#Prod___mk" title="Documentation for Prod"><span class="const token" data-binding="const-Prod" data-verso-hover="330">Ã—</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30710" data-verso-hover="4902">Î²â‚‚</span><a href="Basic-Types/Tuples/#Prod___mk" title="Documentation for Prod"><span class="const token" data-binding="const-Prod" data-verso-hover="330">)</span></a></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.Iter.zip.{w}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.30707" data-verso-hover="4902">Î±â‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30708" data-verso-hover="4902">Î²â‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30709" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30710" data-verso-hover="4902">Î²â‚‚</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30707" data-verso-hover="4902">Î±â‚</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30708" data-verso-hover="4902">Î²â‚</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30709" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30710" data-verso-hover="4902">Î²â‚‚</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.30723" data-verso-hover="7020">left</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30708" data-verso-hover="4902">Î²â‚</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.30726" data-verso-hover="7021">right</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30710" data-verso-hover="4902">Î²â‚‚</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><a href="Basic-Types/Tuples/#Prod___mk" title="Documentation for Prod"><span class="const token" data-binding="const-Prod" data-verso-hover="330">(</span></a><span class="var token" data-binding="var-_uniq.30708" data-verso-hover="4902">Î²â‚</span><span class="inter-text"> </span><a href="Basic-Types/Tuples/#Prod___mk" title="Documentation for Prod"><span class="const token" data-binding="const-Prod" data-verso-hover="330">Ã—</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30710" data-verso-hover="4902">Î²â‚‚</span><a href="Basic-Types/Tuples/#Prod___mk" title="Documentation for Prod"><span class="const token" data-binding="const-Prod" data-verso-hover="330">)</span></a></div></pre><div class="text">
                  <p>
                    Given two iterators <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.29682" data-verso-hover="7020">left</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.29683" data-verso-hover="7021">right</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.29682" data-verso-hover="7020">left</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___Iter___zip" title="Documentation for Std.Iter.zip"><span class="const token" data-binding="const-Std.Iter.zip" data-verso-hover="6755">zip</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.29683" data-verso-hover="7021">right</span></code> is an iterator that yields pairs of
outputs of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.29682" data-verso-hover="7020">left</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.29683" data-verso-hover="7021">right</span></code>. When one of them terminates,
the <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">zip</span></code> iterator will also terminate.</p>
                  <p>
                    <strong>Marble diagram:</strong></p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.29726" data-verso-hover="7020">left</span><span class="inter-text">               --a        ---b        --c
</span><span class="unknown token" data-binding="">right</span><span class="inter-text">                 --x         --y        --âŠ¥
</span><span class="unknown token" data-binding="">left.zip</span><span class="inter-text"> </span><span class="unknown token" data-binding="">right</span><span class="inter-text">     -----(a, x)------(b, y)-----âŠ¥</span></code><p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if either <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.29755" data-verso-hover="7020">left</span></code> or <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.29756" data-verso-hover="7021">right</span></code> is finite and the other is productive</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.29755" data-verso-hover="7020">left</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.29756" data-verso-hover="7021">right</span></code> are productive</p>
                      </li>
                    </ul>
                  <p>
                    There are situations where <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.29779" data-verso-hover="7020">left</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___Iter___zip" title="Documentation for Std.Iter.zip"><span class="const token" data-binding="const-Std.Iter.zip" data-verso-hover="6755">zip</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.29780" data-verso-hover="7021">right</span></code> is finite (or productive) but none of the instances
above applies. For example, if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.29779" data-verso-hover="7020">left</span></code> immediately terminates but <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.29780" data-verso-hover="7021">right</span></code> always skips, then
<code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.29779" data-verso-hover="7020">left</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___Iter___zip" title="Documentation for Std.Iter.zip"><span class="const token" data-binding="const-Std.Iter.zip" data-verso-hover="6755">zip</span></a><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">right</span></code> is finite even though no <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> (or even <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code>) instance is available.
Such instances need to be proved manually.</p>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    This combinator incurs an additional O(1) cost with each step taken by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.30697" data-verso-hover="7020">left</span></code> or <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.30698" data-verso-hover="7021">right</span></code>.</p>
                  <p>
                    Right now, the compiler does not unbox the internal state, leading to worse performance than
theoretically possible.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___Iter___attachWith">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.Iter.attachWith" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.Iter.attachWith.{w}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.30772" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30773" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30772" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30773" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.30781" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30773" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.30783" data-verso-hover="7022">P</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30773" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-14430969920833713138" data-verso-hover="26">Prop</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.30792" data-verso-hover="7023">h</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="unknown token" data-binding="">âˆ€</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.30785" data-verso-hover="326">out</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30773" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">),</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30781" data-verso-hover="6784">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Reasoning-About-Iterators/#Std___Iter___IsPlausibleIndirectOutput___direct" title="Documentation for Std.Iter.IsPlausibleIndirectOutput"><span class="const token" data-binding="const-Std.Iter.IsPlausibleIndirectOutput" data-verso-hover="7024">IsPlausibleIndirectOutput</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30785" data-verso-hover="326">out</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30783" data-verso-hover="7022">P</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30785" data-verso-hover="326">out</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><a href="Basic-Types/Subtypes/#Subtype___mk" title="Documentation for Subtype"><span class="const token" data-binding="const-Subtype" data-verso-hover="631">{</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30795" data-verso-hover="326">out</span><span class="inter-text"> </span><a href="Basic-Types/Subtypes/#Subtype___mk" title="Documentation for Subtype"><span class="const token" data-binding="const-Subtype" data-verso-hover="631">//</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30783" data-verso-hover="7022">P</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30795" data-verso-hover="326">out</span><span class="inter-text"> </span><a href="Basic-Types/Subtypes/#Subtype___mk" title="Documentation for Subtype"><span class="const token" data-binding="const-Subtype" data-verso-hover="631">}</span></a></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.Iter.attachWith.{w}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.30772" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30773" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30772" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30773" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.30781" data-verso-hover="6784">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30773" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.30783" data-verso-hover="7022">P</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30773" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-14430969920833713138" data-verso-hover="26">Prop</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.30792" data-verso-hover="7023">h</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">âˆ€</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.30785" data-verso-hover="326">out</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30773" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">),</span><span class="inter-text">
      </span><span class="var token" data-binding="var-_uniq.30781" data-verso-hover="6784">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Reasoning-About-Iterators/#Std___Iter___IsPlausibleIndirectOutput___direct" title="Documentation for Std.Iter.IsPlausibleIndirectOutput"><span class="const token" data-binding="const-Std.Iter.IsPlausibleIndirectOutput" data-verso-hover="7024">IsPlausibleIndirectOutput</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30785" data-verso-hover="326">out</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text">
        </span><span class="var token" data-binding="var-_uniq.30783" data-verso-hover="7022">P</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30785" data-verso-hover="326">out</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><a href="Basic-Types/Subtypes/#Subtype___mk" title="Documentation for Subtype"><span class="const token" data-binding="const-Subtype" data-verso-hover="631">{</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30795" data-verso-hover="326">out</span><span class="inter-text"> </span><a href="Basic-Types/Subtypes/#Subtype___mk" title="Documentation for Subtype"><span class="const token" data-binding="const-Subtype" data-verso-hover="631">//</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30783" data-verso-hover="7022">P</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30795" data-verso-hover="326">out</span><span class="inter-text"> </span><a href="Basic-Types/Subtypes/#Subtype___mk" title="Documentation for Subtype"><span class="const token" data-binding="const-Subtype" data-verso-hover="631">}</span></a></div></pre><div class="text">
                  <p>
                    â€œAttachesâ€ individual proofs to an iterator of values that satisfy a predicate <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.30734" data-verso-hover="7022">P</span></code>, returning an
iterator with values in the corresponding subtype <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">{</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30741" data-verso-hover="326">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">//</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30734" data-verso-hover="7022">P</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30741" data-verso-hover="326">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">}</span></code>.</p>
                  <p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if the base iterator is finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if the base iterator is productive</p>
                      </li>
                    </ul>
                  </div>
                </div>
              </section>
            <section>
              <h2 id="The-Lean-Language-Reference--Iterators--Iterator-Combinators--Monadic-Combinators">
                22.4.2.Â Monadic Combinators<span class="permalink-widget inline"><a href="find/?domain=Verso.Genre.Manual.section&amp;name=The-Lean-Language-Reference--Iterators--Iterator-Combinators--Monadic-Combinators" title="Permalink">ðŸ”—</a></span></h2>
              <div class="namedocs" id="Std___IterM___toIter">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.IterM.toIter" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.IterM.toIter.{w}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.30811" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30812" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.30817" data-verso-hover="7025">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30812" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30812" data-verso-hover="4902">Î²</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.IterM.toIter.{w}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.30811" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30812" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.30817" data-verso-hover="7025">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30812" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30812" data-verso-hover="4902">Î²</span></div></pre><div class="text">
                  <p>
                    Converts a monadic iterator (<code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30799" data-verso-hover="4902">Î²</span></code>) over <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id" title="Documentation for Id"><span class="const token" data-binding="const-Id" data-verso-hover="3494">Id</span></a></code> into a pure iterator (<code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iter___mk" title="Documentation for Std.Iter"><span class="const token" data-binding="const-Std.Iter" data-verso-hover="4731">Iter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30799" data-verso-hover="4902">Î²</span></code>).</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___IterM___take">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.IterM.take" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.IterM.take.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.30907" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.30909" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.30910" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30907" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30909" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30910" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.30915" data-verso-hover="9">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat"><span class="const token" data-binding="const-Nat" data-verso-hover="17">Nat</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.30919" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30909" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30910" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30909" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30910" data-verso-hover="4902">Î²</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.IterM.take.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.30907" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.30909" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.30910" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30907" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30909" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30910" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.30915" data-verso-hover="9">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat"><span class="const token" data-binding="const-Nat" data-verso-hover="17">Nat</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.30919" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30909" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30910" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30909" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30910" data-verso-hover="4902">Î²</span></div></pre><div class="text">
                  <p>
                    Given an iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.30826" data-verso-hover="6786">it</span></code> and a natural number <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.30825" data-verso-hover="9">n</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.30826" data-verso-hover="6786">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___take" title="Documentation for Std.IterM.take"><span class="const token" data-binding="const-Std.IterM.take" data-verso-hover="7026">take</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30825" data-verso-hover="9">n</span></code> is an iterator that outputs
up to the first <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.30825" data-verso-hover="9">n</span></code> of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.30826" data-verso-hover="6786">it</span></code>'s values in order and then terminates.</p>
                  <p>
                    <strong>Marble diagram:</strong></p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.30853" data-verso-hover="6786">it</span><span class="inter-text">          ---a----b---c--d-e--âŠ¥
</span><span class="unknown token" data-binding="">it.take</span><span class="inter-text"> </span><span class="unknown token" data-binding="">3</span><span class="inter-text">   ---a----b---câŠ¥

</span><span class="unknown token" data-binding="">it</span><span class="inter-text">          ---a--âŠ¥
</span><span class="unknown token" data-binding="">it.take</span><span class="inter-text"> </span><span class="unknown token" data-binding="">3</span><span class="inter-text">   ---a--âŠ¥</span></code><p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.30878" data-verso-hover="6786">it</span></code> is productive</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.30878" data-verso-hover="6786">it</span></code> is productive</p>
                      </li>
                    </ul>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    This combinator incurs an additional O(1) cost with each output of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.30906" data-verso-hover="6786">it</span></code>.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___IterM___takeWhile">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.IterM.takeWhile" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.IterM.takeWhile.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.31106" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.31108" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.31109" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31108" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.31112" data-verso-hover="6967">P</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31109" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Basic-Types/Booleans/#Bool___false" title="Documentation for Bool"><span class="const token" data-binding="const-Bool" data-verso-hover="199">Bool</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.31116" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31108" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31109" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31108" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31109" data-verso-hover="4902">Î²</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.IterM.takeWhile.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.31106" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.31108" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.31109" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31108" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.31112" data-verso-hover="6967">P</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31109" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Basic-Types/Booleans/#Bool___false" title="Documentation for Bool"><span class="const token" data-binding="const-Bool" data-verso-hover="199">Bool</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.31116" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31108" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31109" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31108" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31109" data-verso-hover="4902">Î²</span></div></pre><div class="text">
                  <p>
                    Given an iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.30929" data-verso-hover="6786">it</span></code> and a predicate <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.30928" data-verso-hover="6967">P</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.30929" data-verso-hover="6786">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___takeWhile" title="Documentation for Std.IterM.takeWhile"><span class="const token" data-binding="const-Std.IterM.takeWhile" data-verso-hover="7027">takeWhile</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.30928" data-verso-hover="6967">P</span></code> is an iterator that outputs
the values emitted by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.30929" data-verso-hover="6786">it</span></code> until one of those values is rejected by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.30928" data-verso-hover="6967">P</span></code>.
If some emitted value is rejected by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.30928" data-verso-hover="6967">P</span></code>, the value is dropped and the iterator terminates.</p>
                  <p>
                    In situations where <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.30954" data-verso-hover="6967">P</span></code> is monadic, use <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">takeWhileM</span></code> instead.</p>
                  <p>
                    <strong>Marble diagram (ignoring monadic effects):</strong></p>
                  <p>
                    Assuming that the predicate <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.30976" data-verso-hover="6967">P</span></code> accepts <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">a</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">b</span></code> but rejects <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">c</span></code>:</p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31011" data-verso-hover="6786">it</span><span class="inter-text">               ---a----b---c--d-e--âŠ¥
</span><span class="unknown token" data-binding="">it.takeWhile</span><span class="inter-text"> </span><span class="unknown token" data-binding="">P</span><span class="inter-text">   ---a----b---âŠ¥

</span><span class="unknown token" data-binding="">it</span><span class="inter-text">               ---a----âŠ¥
</span><span class="unknown token" data-binding="">it.takeWhile</span><span class="inter-text"> </span><span class="unknown token" data-binding="">P</span><span class="inter-text">   ---a----âŠ¥</span></code><p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31036" data-verso-hover="6786">it</span></code> is finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31036" data-verso-hover="6786">it</span></code> is productive</p>
                      </li>
                    </ul>
                  <p>
                    Depending on <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31057" data-verso-hover="6967">P</span></code>, it is possible that <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31058" data-verso-hover="6786">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___takeWhile" title="Documentation for Std.IterM.takeWhile"><span class="const token" data-binding="const-Std.IterM.takeWhile" data-verso-hover="7027">takeWhile</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31057" data-verso-hover="6967">P</span></code> is finite (or productive) although <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31058" data-verso-hover="6786">it</span></code> is not.
In this case, the <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> (or <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code>) instance needs to be proved manually.</p>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    This combinator calls <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31103" data-verso-hover="6967">P</span></code> on each output of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31104" data-verso-hover="6786">it</span></code> until the predicate evaluates to false. Then
it terminates.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___IterM___takeWhileM">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.IterM.takeWhileM" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.IterM.takeWhileM.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.31319" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.31321" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.31322" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31321" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-MonadAttach" data-verso-hover="6999">MonadAttach</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31321" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.31326" data-verso-hover="6972">P</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31322" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31321" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="The-Type-System/Universes/#ULift___up" title="Documentation for ULift"><span class="const token" data-binding="const-ULift" data-verso-hover="401">ULift</span></a><span class="inter-text"> </span><a href="Basic-Types/Booleans/#Bool___false" title="Documentation for Bool"><span class="const token" data-binding="const-Bool" data-verso-hover="199">Bool</span></a><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.31330" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31321" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31322" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31321" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31322" data-verso-hover="4902">Î²</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.IterM.takeWhileM.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.31319" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.31321" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.31322" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31321" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-MonadAttach" data-verso-hover="6999">MonadAttach</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31321" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.31326" data-verso-hover="6972">P</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31322" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31321" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="The-Type-System/Universes/#ULift___up" title="Documentation for ULift"><span class="const token" data-binding="const-ULift" data-verso-hover="401">ULift</span></a><span class="inter-text"> </span><a href="Basic-Types/Booleans/#Bool___false" title="Documentation for Bool"><span class="const token" data-binding="const-Bool" data-verso-hover="199">Bool</span></a><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.31330" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31321" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31322" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31321" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31322" data-verso-hover="4902">Î²</span></div></pre><div class="text">
                  <p>
                    Given an iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31127" data-verso-hover="6786">it</span></code> and a monadic predicate <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31126" data-verso-hover="6972">P</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31127" data-verso-hover="6786">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___takeWhileM" title="Documentation for Std.IterM.takeWhileM"><span class="const token" data-binding="const-Std.IterM.takeWhileM" data-verso-hover="7028">takeWhileM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31126" data-verso-hover="6972">P</span></code> is an iterator that outputs
the values emitted by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31127" data-verso-hover="6786">it</span></code> until one of those values is rejected by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31126" data-verso-hover="6972">P</span></code>.
If some emitted value is rejected by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31126" data-verso-hover="6972">P</span></code>, the value is dropped and the iterator terminates.</p>
                  <p>
                    If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31156" data-verso-hover="6972">P</span></code> is pure, then the simpler variant <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">takeWhile</span></code> can be used instead.</p>
                  <p>
                    <strong>Marble diagram (ignoring monadic effects):</strong></p>
                  <p>
                    Assuming that the predicate <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31180" data-verso-hover="6972">P</span></code> accepts <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">a</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">b</span></code> but rejects <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">c</span></code>:</p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31216" data-verso-hover="6786">it</span><span class="inter-text">                ---a----b---c--d-e--âŠ¥
</span><span class="unknown token" data-binding="">it.takeWhileM</span><span class="inter-text"> </span><span class="unknown token" data-binding="">P</span><span class="inter-text">   ---a----b---âŠ¥

</span><span class="unknown token" data-binding="">it</span><span class="inter-text">                ---a----âŠ¥
</span><span class="unknown token" data-binding="">it.takeWhileM</span><span class="inter-text"> </span><span class="unknown token" data-binding="">P</span><span class="inter-text">   ---a----âŠ¥</span></code><p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31243" data-verso-hover="6786">it</span></code> is finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31243" data-verso-hover="6786">it</span></code> is productive</p>
                      </li>
                    </ul>
                  <p>
                    Depending on <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31265" data-verso-hover="6972">P</span></code>, it is possible that <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31266" data-verso-hover="6786">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___takeWhileM" title="Documentation for Std.IterM.takeWhileM"><span class="const token" data-binding="const-Std.IterM.takeWhileM" data-verso-hover="7028">takeWhileM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31265" data-verso-hover="6972">P</span></code> is finite (or productive) although <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31266" data-verso-hover="6786">it</span></code> is not.
In this case, the <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> (or <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code>) instance needs to be proved manually.</p>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    This combinator calls <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31316" data-verso-hover="6972">P</span></code> on each output of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31317" data-verso-hover="6786">it</span></code> until the predicate evaluates to false. Then
it terminates.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___IterM___takeWhileWithPostcondition">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.IterM.takeWhileWithPostcondition" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.IterM.takeWhileWithPostcondition.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.31534" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.31536" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.31537" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.31541" data-verso-hover="7013">P</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31537" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31536" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="The-Type-System/Universes/#ULift___up" title="Documentation for ULift"><span class="const token" data-binding="const-ULift" data-verso-hover="401">ULift</span></a><span class="inter-text"> </span><a href="Basic-Types/Booleans/#Bool___false" title="Documentation for Bool"><span class="const token" data-binding="const-Bool" data-verso-hover="199">Bool</span></a><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.31545" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31536" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31537" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31536" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31537" data-verso-hover="4902">Î²</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.IterM.takeWhileWithPostcondition.{w,</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.31534" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.31536" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.31537" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.31541" data-verso-hover="7013">P</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31537" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31536" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="The-Type-System/Universes/#ULift___up" title="Documentation for ULift"><span class="const token" data-binding="const-ULift" data-verso-hover="401">ULift</span></a><span class="inter-text"> </span><a href="Basic-Types/Booleans/#Bool___false" title="Documentation for Bool"><span class="const token" data-binding="const-Bool" data-verso-hover="199">Bool</span></a><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.31545" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31536" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31537" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31536" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31537" data-verso-hover="4902">Î²</span></div></pre><div class="text">
                  <p>
                    <em>Note: This is a very general combinator that requires an advanced understanding of monads,
dependent types and termination proofs. The variants <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">takeWhile</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">takeWhileM</span></code> are easier to use
and sufficient for most use cases.</em></p>
                  <p>
                    Given an iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31362" data-verso-hover="6786">it</span></code> and a monadic predicate <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31361" data-verso-hover="7013">P</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31362" data-verso-hover="6786">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___takeWhileWithPostcondition" title="Documentation for Std.IterM.takeWhileWithPostcondition"><span class="const token" data-binding="const-Std.IterM.takeWhileWithPostcondition" data-verso-hover="7029">takeWhileWithPostcondition</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31361" data-verso-hover="7013">P</span></code> is an iterator
that emits the values emitted by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31362" data-verso-hover="6786">it</span></code> until one of those values is rejected by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31361" data-verso-hover="7013">P</span></code>.
If some emitted value is rejected by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31361" data-verso-hover="7013">P</span></code>, the value is dropped and the iterator terminates.</p>
                  <p>
                    <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31386" data-verso-hover="7013">P</span></code> is expected to return <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31384" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="The-Type-System/Universes/#ULift___up" title="Documentation for ULift"><span class="const token" data-binding="const-ULift" data-verso-hover="401">ULift</span></a><span class="inter-text"> </span><a href="Basic-Types/Booleans/#Bool___false" title="Documentation for Bool"><span class="const token" data-binding="const-Bool" data-verso-hover="199">Bool</span></a><span class="unknown token" data-binding="">)</span></code>. The <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a></code> transformer allows
the caller to intrinsically prove properties about <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31386" data-verso-hover="7013">P</span></code>'s return value in the monad <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31384" data-verso-hover="5094">m</span></code>, enabling
termination proofs depending on the specific behavior of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31386" data-verso-hover="7013">P</span></code>.</p>
                  <p>
                    <strong>Marble diagram (ignoring monadic effects):</strong></p>
                  <p>
                    Assuming that the predicate <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31410" data-verso-hover="7013">P</span></code> accepts <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">a</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">b</span></code> but rejects <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">c</span></code>:</p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31444" data-verso-hover="6786">it</span><span class="inter-text">                                ---a----b---c--d-e--âŠ¥
</span><span class="unknown token" data-binding="">it.takeWhileWithPostcondition</span><span class="inter-text"> </span><span class="unknown token" data-binding="">P</span><span class="inter-text">   ---a----b---âŠ¥

</span><span class="unknown token" data-binding="">it</span><span class="inter-text">                                ---a----âŠ¥
</span><span class="unknown token" data-binding="">it.takeWhileWithPostcondition</span><span class="inter-text"> </span><span class="unknown token" data-binding="">P</span><span class="inter-text">   ---a----âŠ¥</span></code><p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31467" data-verso-hover="6786">it</span></code> is finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31467" data-verso-hover="6786">it</span></code> is productive</p>
                      </li>
                    </ul>
                  <p>
                    Depending on <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31487" data-verso-hover="7013">P</span></code>, it is possible that <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31488" data-verso-hover="6786">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___takeWhileWithPostcondition" title="Documentation for Std.IterM.takeWhileWithPostcondition"><span class="const token" data-binding="const-Std.IterM.takeWhileWithPostcondition" data-verso-hover="7029">takeWhileWithPostcondition</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31487" data-verso-hover="7013">P</span></code> is finite (or productive)
although <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31488" data-verso-hover="6786">it</span></code> is not. In this case, the <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> (or <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code>) instance needs to be proved
manually.</p>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    This combinator calls <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31531" data-verso-hover="7013">P</span></code> on each output of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31532" data-verso-hover="6786">it</span></code> until the predicate evaluates to false. Then
it terminates.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___IterM___toTake">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.IterM.toTake" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.IterM.toTake.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.31671" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.31673" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.31674" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31671" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31673" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31674" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31671" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31673" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.31687" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31673" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31674" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31673" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31674" data-verso-hover="4902">Î²</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.IterM.toTake.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.31671" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.31673" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.31674" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31671" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31673" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31674" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31671" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31673" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.31687" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31673" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31674" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31673" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31674" data-verso-hover="4902">Î²</span></div></pre><div class="text">
                  <p>
                    This combinator is only useful for advanced use cases.</p>
                  <p>
                    Given a finite iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31561" data-verso-hover="6786">it</span></code>, returns an iterator that behaves exactly like <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31561" data-verso-hover="6786">it</span></code> but is of the same
type as <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31561" data-verso-hover="6786">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___take" title="Documentation for Std.IterM.take"><span class="const token" data-binding="const-Std.IterM.take" data-verso-hover="7026">take</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31592" data-verso-hover="9">n</span></code>.</p>
                  <p>
                    <strong>Marble diagram:</strong></p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31617" data-verso-hover="6786">it</span><span class="inter-text">          ---a----b---c--d-e--âŠ¥
</span><span class="unknown token" data-binding="">it.toTake</span><span class="inter-text">   ---a----b---c--d-e--âŠ¥</span></code><p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: always</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: always</p>
                      </li>
                    </ul>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    This combinator incurs an additional O(1) cost with each output of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31670" data-verso-hover="6786">it</span></code>.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___IterM___drop">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.IterM.drop" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.IterM.drop.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.31767" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.31769" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.31770" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.31771" data-verso-hover="9">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat"><span class="const token" data-binding="const-Nat" data-verso-hover="17">Nat</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.31775" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31769" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31770" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31769" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31770" data-verso-hover="4902">Î²</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.IterM.drop.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.31767" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.31769" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.31770" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.31771" data-verso-hover="9">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat"><span class="const token" data-binding="const-Nat" data-verso-hover="17">Nat</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.31775" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31769" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31770" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31769" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31770" data-verso-hover="4902">Î²</span></div></pre><div class="text">
                  <p>
                    Given an iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31696" data-verso-hover="6786">it</span></code> and a natural number <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31695" data-verso-hover="9">n</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31696" data-verso-hover="6786">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___drop" title="Documentation for Std.IterM.drop"><span class="const token" data-binding="const-Std.IterM.drop" data-verso-hover="7030">drop</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31695" data-verso-hover="9">n</span></code> is an iterator that forwards all of
<code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31696" data-verso-hover="6786">it</span></code>'s output values except for the first <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31695" data-verso-hover="9">n</span></code>.</p>
                  <p>
                    <strong>Marble diagram:</strong></p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31717" data-verso-hover="6786">it</span><span class="inter-text">          ---a----b---c--d-e--âŠ¥
</span><span class="unknown token" data-binding="">it.drop</span><span class="inter-text"> </span><span class="unknown token" data-binding="">3</span><span class="inter-text">   ---------------d-e--âŠ¥

</span><span class="unknown token" data-binding="">it</span><span class="inter-text">          ---a--âŠ¥
</span><span class="unknown token" data-binding="">it.drop</span><span class="inter-text"> </span><span class="unknown token" data-binding="">3</span><span class="inter-text">   ------âŠ¥</span></code><p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31740" data-verso-hover="6786">it</span></code> is finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31740" data-verso-hover="6786">it</span></code> is productive</p>
                      </li>
                    </ul>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    Currently, this combinator incurs an additional O(1) cost with each output of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31766" data-verso-hover="6786">it</span></code>, even when the iterator
does not drop any elements anymore.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___IterM___dropWhile">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.IterM.dropWhile" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.IterM.dropWhile.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.31921" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.31923" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.31924" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31923" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.31927" data-verso-hover="6967">P</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31924" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Basic-Types/Booleans/#Bool___false" title="Documentation for Bool"><span class="const token" data-binding="const-Bool" data-verso-hover="199">Bool</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.31931" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31923" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31924" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31923" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31924" data-verso-hover="4902">Î²</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.IterM.dropWhile.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.31921" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.31923" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.31924" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31923" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.31927" data-verso-hover="6967">P</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31924" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Basic-Types/Booleans/#Bool___false" title="Documentation for Bool"><span class="const token" data-binding="const-Bool" data-verso-hover="199">Bool</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.31931" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31923" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31924" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31923" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31924" data-verso-hover="4902">Î²</span></div></pre><div class="text">
                  <p>
                    Given an iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31785" data-verso-hover="6786">it</span></code> and a predicate <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31784" data-verso-hover="6967">P</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31785" data-verso-hover="6786">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___dropWhile" title="Documentation for Std.IterM.dropWhile"><span class="const token" data-binding="const-Std.IterM.dropWhile" data-verso-hover="7031">dropWhile</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31784" data-verso-hover="6967">P</span></code> is an iterator that
emits the values emitted by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31785" data-verso-hover="6786">it</span></code> starting from the first value that is rejected by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31784" data-verso-hover="6967">P</span></code>.
The elements before are dropped.</p>
                  <p>
                    In situations where <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31809" data-verso-hover="6967">P</span></code> is monadic, use <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">dropWhileM</span></code> instead.</p>
                  <p>
                    <strong>Marble diagram (ignoring monadic effects):</strong></p>
                  <p>
                    Assuming that the predicate <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31831" data-verso-hover="6967">P</span></code> accepts <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">a</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">b</span></code> but rejects <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">c</span></code>:</p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31866" data-verso-hover="6786">it</span><span class="inter-text">               ---a----b---c--d-e--âŠ¥
</span><span class="unknown token" data-binding="">it.dropWhile</span><span class="inter-text"> </span><span class="unknown token" data-binding="">P</span><span class="inter-text">   ------------c--d-e--âŠ¥

</span><span class="unknown token" data-binding="">it</span><span class="inter-text">               ---a----âŠ¥
</span><span class="unknown token" data-binding="">it.dropWhile</span><span class="inter-text"> </span><span class="unknown token" data-binding="">P</span><span class="inter-text">   --------âŠ¥</span></code><p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31891" data-verso-hover="6786">it</span></code> is finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31891" data-verso-hover="6786">it</span></code> is finite</p>
                      </li>
                    </ul>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    This combinator calls <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31918" data-verso-hover="6967">P</span></code> on each output of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31919" data-verso-hover="6786">it</span></code> until the predicate evaluates to false. After
that, the combinator incurs an addictional O(1) cost for each value emitted by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31919" data-verso-hover="6786">it</span></code>.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___IterM___dropWhileM">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.IterM.dropWhileM" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.IterM.dropWhileM.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.32133" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.32135" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.32136" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32135" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-MonadAttach" data-verso-hover="6999">MonadAttach</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32135" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.32140" data-verso-hover="6972">P</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32136" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32135" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="The-Type-System/Universes/#ULift___up" title="Documentation for ULift"><span class="const token" data-binding="const-ULift" data-verso-hover="401">ULift</span></a><span class="inter-text"> </span><a href="Basic-Types/Booleans/#Bool___false" title="Documentation for Bool"><span class="const token" data-binding="const-Bool" data-verso-hover="199">Bool</span></a><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.32144" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32135" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32136" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32135" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32136" data-verso-hover="4902">Î²</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.IterM.dropWhileM.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.32133" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.32135" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.32136" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32135" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-MonadAttach" data-verso-hover="6999">MonadAttach</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32135" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.32140" data-verso-hover="6972">P</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32136" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32135" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="The-Type-System/Universes/#ULift___up" title="Documentation for ULift"><span class="const token" data-binding="const-ULift" data-verso-hover="401">ULift</span></a><span class="inter-text"> </span><a href="Basic-Types/Booleans/#Bool___false" title="Documentation for Bool"><span class="const token" data-binding="const-Bool" data-verso-hover="199">Bool</span></a><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.32144" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32135" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32136" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32135" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32136" data-verso-hover="4902">Î²</span></div></pre><div class="text">
                  <p>
                    Given an iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31942" data-verso-hover="6786">it</span></code> and a monadic predicate <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31941" data-verso-hover="6972">P</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31942" data-verso-hover="6786">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___dropWhileM" title="Documentation for Std.IterM.dropWhileM"><span class="const token" data-binding="const-Std.IterM.dropWhileM" data-verso-hover="7032">dropWhileM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31941" data-verso-hover="6972">P</span></code> is an iterator that
emits the values emitted by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31942" data-verso-hover="6786">it</span></code> starting from the first value that is rejected by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31941" data-verso-hover="6972">P</span></code>.
The elements before are dropped.</p>
                  <p>
                    If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31970" data-verso-hover="6972">P</span></code> is pure, then the simpler variant <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">dropWhile</span></code> can be used instead.</p>
                  <p>
                    <strong>Marble diagram (ignoring monadic effects):</strong></p>
                  <p>
                    Assuming that the predicate <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.31994" data-verso-hover="6972">P</span></code> accepts <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">a</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">b</span></code> but rejects <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">c</span></code>:</p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32030" data-verso-hover="6786">it</span><span class="inter-text">                ---a----b---c--d-e--âŠ¥
</span><span class="unknown token" data-binding="">it.dropWhileM</span><span class="inter-text"> </span><span class="unknown token" data-binding="">P</span><span class="inter-text">   ------------c--d-e--âŠ¥

</span><span class="unknown token" data-binding="">it</span><span class="inter-text">                ---a----âŠ¥
</span><span class="unknown token" data-binding="">it.dropWhileM</span><span class="inter-text"> </span><span class="unknown token" data-binding="">P</span><span class="inter-text">   --------âŠ¥</span></code><p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32057" data-verso-hover="6786">it</span></code> is finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32057" data-verso-hover="6786">it</span></code> is finite</p>
                      </li>
                    </ul>
                  <p>
                    Depending on <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32079" data-verso-hover="6972">P</span></code>, it is possible that <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32080" data-verso-hover="6786">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___dropWhileM" title="Documentation for Std.IterM.dropWhileM"><span class="const token" data-binding="const-Std.IterM.dropWhileM" data-verso-hover="7032">dropWhileM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32079" data-verso-hover="6972">P</span></code> is finite (or productive) although
<code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32080" data-verso-hover="6786">it</span></code> is not. In this case, the <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> (or <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code>) instance needs to be proved manually.</p>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    This combinator calls <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32130" data-verso-hover="6972">P</span></code> on each output of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32131" data-verso-hover="6786">it</span></code> until the predicate evaluates to false. After
that, the combinator incurs an addictional O(1) cost for each value emitted by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32131" data-verso-hover="6786">it</span></code>.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___IterM___dropWhileWithPostcondition">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.IterM.dropWhileWithPostcondition" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.IterM.dropWhileWithPostcondition.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.32347" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.32349" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.32350" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.32354" data-verso-hover="7013">P</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32350" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32349" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="The-Type-System/Universes/#ULift___up" title="Documentation for ULift"><span class="const token" data-binding="const-ULift" data-verso-hover="401">ULift</span></a><span class="inter-text"> </span><a href="Basic-Types/Booleans/#Bool___false" title="Documentation for Bool"><span class="const token" data-binding="const-Bool" data-verso-hover="199">Bool</span></a><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.32358" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32349" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32350" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32349" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32350" data-verso-hover="4902">Î²</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.IterM.dropWhileWithPostcondition.{w,</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.32347" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.32349" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.32350" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.32354" data-verso-hover="7013">P</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32350" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32349" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="The-Type-System/Universes/#ULift___up" title="Documentation for ULift"><span class="const token" data-binding="const-ULift" data-verso-hover="401">ULift</span></a><span class="inter-text"> </span><a href="Basic-Types/Booleans/#Bool___false" title="Documentation for Bool"><span class="const token" data-binding="const-Bool" data-verso-hover="199">Bool</span></a><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.32358" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32349" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32350" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32349" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32350" data-verso-hover="4902">Î²</span></div></pre><div class="text">
                  <p>
                    <em>Note: This is a very general combinator that requires an advanced understanding of monads,
dependent types and termination proofs. The variants <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">dropWhile</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">dropWhileM</span></code> are easier to use
and sufficient for most use cases.</em></p>
                  <p>
                    Given an iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32176" data-verso-hover="6786">it</span></code> and a monadic predicate <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32175" data-verso-hover="7013">P</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32176" data-verso-hover="6786">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___dropWhileWithPostcondition" title="Documentation for Std.IterM.dropWhileWithPostcondition"><span class="const token" data-binding="const-Std.IterM.dropWhileWithPostcondition" data-verso-hover="7033">dropWhileWithPostcondition</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32175" data-verso-hover="7013">P</span></code> is an iterator
that emits the values emitted by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32176" data-verso-hover="6786">it</span></code> starting from the first value that is rejected by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32175" data-verso-hover="7013">P</span></code>.
The elements before are dropped.</p>
                  <p>
                    <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32199" data-verso-hover="7013">P</span></code> is expected to return <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32197" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="The-Type-System/Universes/#ULift___up" title="Documentation for ULift"><span class="const token" data-binding="const-ULift" data-verso-hover="401">ULift</span></a><span class="inter-text"> </span><a href="Basic-Types/Booleans/#Bool___false" title="Documentation for Bool"><span class="const token" data-binding="const-Bool" data-verso-hover="199">Bool</span></a><span class="unknown token" data-binding="">)</span></code>. The <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a></code> transformer allows
the caller to intrinsically prove properties about <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32199" data-verso-hover="7013">P</span></code>'s return value in the monad <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32197" data-verso-hover="5094">m</span></code>, enabling
termination proofs depending on the specific behavior of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32199" data-verso-hover="7013">P</span></code>.</p>
                  <p>
                    <strong>Marble diagram (ignoring monadic effects):</strong></p>
                  <p>
                    Assuming that the predicate <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32223" data-verso-hover="7013">P</span></code> accepts <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">a</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">b</span></code> but rejects <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">c</span></code>:</p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32257" data-verso-hover="6786">it</span><span class="inter-text">                                ---a----b---c--d-e--âŠ¥
</span><span class="unknown token" data-binding="">it.dropWhileWithPostcondition</span><span class="inter-text"> </span><span class="unknown token" data-binding="">P</span><span class="inter-text">   ------------c--d-e--âŠ¥

</span><span class="unknown token" data-binding="">it</span><span class="inter-text">                                ---a----âŠ¥
</span><span class="unknown token" data-binding="">it.dropWhileWithPostcondition</span><span class="inter-text"> </span><span class="unknown token" data-binding="">P</span><span class="inter-text">   --------âŠ¥</span></code><p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32280" data-verso-hover="6786">it</span></code> is finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32280" data-verso-hover="6786">it</span></code> is finite</p>
                      </li>
                    </ul>
                  <p>
                    Depending on <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32300" data-verso-hover="7013">P</span></code>, it is possible that <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32301" data-verso-hover="6786">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___dropWhileWithPostcondition" title="Documentation for Std.IterM.dropWhileWithPostcondition"><span class="const token" data-binding="const-Std.IterM.dropWhileWithPostcondition" data-verso-hover="7033">dropWhileWithPostcondition</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32300" data-verso-hover="7013">P</span></code> is finite (or productive) although
<code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32301" data-verso-hover="6786">it</span></code> is not. In this case, the <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> (or <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code>) instance needs to be proved manually.</p>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    This combinator calls <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32344" data-verso-hover="7013">P</span></code> on each output of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32345" data-verso-hover="6786">it</span></code> until the predicate evaluates to false. After
that, the combinator incurs an additional O(1) cost for each value emitted by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32345" data-verso-hover="6786">it</span></code>.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___IterM___stepSize">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.IterM.stepSize" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.IterM.stepSize.{u_1,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">u_2}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.32572" data-verso-hover="46">Î±</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type u_1</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.32574" data-verso-hover="3839">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type u_1</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type u_2</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.32575" data-verso-hover="46">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type u_1</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32572" data-verso-hover="46">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32574" data-verso-hover="3839">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32575" data-verso-hover="46">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___IteratorAccess___mk" title="Documentation for Std.IteratorAccess"><span class="const token" data-binding="const-Std.IteratorAccess" data-verso-hover="6920">IteratorAccess</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32572" data-verso-hover="46">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32574" data-verso-hover="3839">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32574" data-verso-hover="3839">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.32589" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32574" data-verso-hover="3839">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32575" data-verso-hover="46">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.32590" data-verso-hover="9">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat"><span class="const token" data-binding="const-Nat" data-verso-hover="17">Nat</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32574" data-verso-hover="3839">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32575" data-verso-hover="46">Î²</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.IterM.stepSize.{u_1,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">u_2}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.32572" data-verso-hover="46">Î±</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type u_1</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.32574" data-verso-hover="3839">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type u_1</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type u_2</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.32575" data-verso-hover="46">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type u_1</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32572" data-verso-hover="46">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32574" data-verso-hover="3839">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32575" data-verso-hover="46">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___IteratorAccess___mk" title="Documentation for Std.IteratorAccess"><span class="const token" data-binding="const-Std.IteratorAccess" data-verso-hover="6920">IteratorAccess</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32572" data-verso-hover="46">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32574" data-verso-hover="3839">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32574" data-verso-hover="3839">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.32589" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32574" data-verso-hover="3839">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32575" data-verso-hover="46">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.32590" data-verso-hover="9">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat"><span class="const token" data-binding="const-Nat" data-verso-hover="17">Nat</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32574" data-verso-hover="3839">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32575" data-verso-hover="46">Î²</span></div></pre><div class="text">
                  <p>
                    Produces an iterator that emits one value of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32369" data-verso-hover="6786">it</span></code>, then drops <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32370" data-verso-hover="9">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">-</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="9">1</span></code> elements, then emits another
value, and so on. In other words, it emits every <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32370" data-verso-hover="9">n</span></code>-th value of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32369" data-verso-hover="6786">it</span></code>, starting with the first one.</p>
                  <p>
                    If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32433" data-verso-hover="9">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="9">0</span></code>, the iterator behaves like for <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32433" data-verso-hover="9">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="9">1</span></code>: It emits all values of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32432" data-verso-hover="6786">it</span></code>.</p>
                  <p>
                    <strong>Marble diagram:</strong></p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32492" data-verso-hover="6786">it</span><span class="inter-text">               ---1----2----3---4----5
</span><span class="unknown token" data-binding="">it.stepSize</span><span class="inter-text"> </span><span class="unknown token" data-binding="">2</span><span class="inter-text">    ---1---------3--------5</span></code><p>
                    <strong>Availability:</strong></p>
                  <p>
                    This operation is currently only available for iterators implementing <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___IteratorAccess___mk" title="Documentation for Std.IteratorAccess"><span class="const token" data-binding="const-Std.IteratorAccess" data-verso-hover="6920">IteratorAccess</span></a></code>,
such as <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">PRange.iter</span></code> range iterators.</p>
                  <p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if the base iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32554" data-verso-hover="6786">it</span></code> is finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: always</p>
                      </li>
                    </ul>
                  </div>
                </div>
              <div class="namedocs" id="Std___IterM___map">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.IterM.map" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.IterM.map.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.32777" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32778" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32779" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.32781" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32777" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32781" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32778" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32781" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.32788" data-verso-hover="3485">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32778" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32779" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.32792" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32781" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32778" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32781" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32779" data-verso-hover="4902">Î³</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.IterM.map.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.32777" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32778" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32779" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.32781" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32777" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32781" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32778" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32781" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.32788" data-verso-hover="3485">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32778" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32779" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.32792" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32781" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32778" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32781" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32779" data-verso-hover="4902">Î³</span></div></pre><div class="text">
                  <p>
                    If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32602" data-verso-hover="6786">it</span></code> is an iterator, then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32602" data-verso-hover="6786">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___map" title="Documentation for Std.IterM.map"><span class="const token" data-binding="const-Std.IterM.map" data-verso-hover="7034">map</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32601" data-verso-hover="3485">f</span></code> is another iterator that applies a
function <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32601" data-verso-hover="3485">f</span></code> to all values emitted by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32602" data-verso-hover="6786">it</span></code> and emits the result.</p>
                  <p>
                    In situations where <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32633" data-verso-hover="3485">f</span></code> is monadic, use <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">mapM</span></code> instead.</p>
                  <p>
                    <strong>Marble diagram:</strong></p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32660" data-verso-hover="6786">it</span><span class="inter-text">         ---a --b --c --d -e ----âŠ¥
</span><span class="unknown token" data-binding="">it.map</span><span class="inter-text">     ---a'--b'--c'--d'-e'----âŠ¥</span></code><p>
                    (given that <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32680" data-verso-hover="3485">f</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32691" data-verso-hover="326">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32700" data-verso-hover="1223">a'</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32680" data-verso-hover="3485">f</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32712" data-verso-hover="326">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32723" data-verso-hover="1223">b'</span></code> etc.)</p>
                  <p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32743" data-verso-hover="6786">it</span></code> is finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32743" data-verso-hover="6786">it</span></code> is productive</p>
                      </li>
                    </ul>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    For each value emitted by the base iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32775" data-verso-hover="6786">it</span></code>, this combinator calls <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32774" data-verso-hover="3485">f</span></code>.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___IterM___mapM">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.IterM.mapM" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.IterM.mapM.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w',</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w''}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.34491" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34492" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34493" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.34495" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.34497" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w''</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34491" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34495" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34492" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34497" data-verso-hover="6981">n</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-MonadAttach" data-verso-hover="6999">MonadAttach</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34497" data-verso-hover="6981">n</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLiftT___mk" title="Documentation for MonadLiftT"><span class="const token" data-binding="const-MonadLiftT" data-verso-hover="83">MonadLiftT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34495" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34497" data-verso-hover="6981">n</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.34506" data-verso-hover="7035">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34492" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34497" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34493" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.34510" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34495" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34492" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34497" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34493" data-verso-hover="4902">Î³</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.IterM.mapM.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w',</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w''}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.34491" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34492" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34493" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.34495" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.34497" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w''</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34491" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34495" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34492" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34497" data-verso-hover="6981">n</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-MonadAttach" data-verso-hover="6999">MonadAttach</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34497" data-verso-hover="6981">n</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLiftT___mk" title="Documentation for MonadLiftT"><span class="const token" data-binding="const-MonadLiftT" data-verso-hover="83">MonadLiftT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34495" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34497" data-verso-hover="6981">n</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.34506" data-verso-hover="7035">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34492" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34497" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34493" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.34510" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34495" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34492" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34497" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34493" data-verso-hover="4902">Î³</span></div></pre><div class="text">
                  <p>
                    If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32807" data-verso-hover="6786">it</span></code> is an iterator, then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32807" data-verso-hover="6786">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___mapM" title="Documentation for Std.IterM.mapM"><span class="const token" data-binding="const-Std.IterM.mapM" data-verso-hover="7036">mapM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32806" data-verso-hover="7035">f</span></code> is another iterator that applies a monadic
function <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32806" data-verso-hover="7035">f</span></code> to all values emitted by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32807" data-verso-hover="6786">it</span></code> and emits the result.</p>
                  <p>
                    The base iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32861" data-verso-hover="6786">it</span></code> being monadic in <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32854" data-verso-hover="5094">m</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32860" data-verso-hover="7035">f</span></code> can return values in any monad <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32855" data-verso-hover="6981">n</span></code> for which a
<code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLiftT___mk" title="Documentation for MonadLiftT"><span class="const token" data-binding="const-MonadLiftT" data-verso-hover="83">MonadLiftT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32854" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.32855" data-verso-hover="6981">n</span></code> instance is available.</p>
                  <p>
                    If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32883" data-verso-hover="7035">f</span></code> is pure, then the simpler variant <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32884" data-verso-hover="6786">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___map" title="Documentation for Std.IterM.map"><span class="const token" data-binding="const-Std.IterM.map" data-verso-hover="7034">map</span></a></code> can be used instead.</p>
                  <p>
                    <strong>Marble diagram (without monadic effects):</strong></p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.32982" data-verso-hover="6786">it</span><span class="inter-text">          ---a --b --c --d -e ----âŠ¥
</span><span class="unknown token" data-binding="">it.mapM</span><span class="inter-text">     ---a'--b'--c'--d'-e'----âŠ¥</span></code><p>
                    (given that <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.33005" data-verso-hover="7035">f</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.33060" data-verso-hover="326">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/#Pure___mk" title="Documentation for Pure.pure"><span class="const token" data-binding="const-Pure.pure" data-verso-hover="999">pure</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.33118" data-verso-hover="1223">a'</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.33005" data-verso-hover="7035">f</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.33198" data-verso-hover="326">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/#Pure___mk" title="Documentation for Pure.pure"><span class="const token" data-binding="const-Pure.pure" data-verso-hover="999">pure</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.33282" data-verso-hover="1223">b'</span></code> etc.)</p>
                  <p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.33378" data-verso-hover="6786">it</span></code> is finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.33378" data-verso-hover="6786">it</span></code> is productive</p>
                      </li>
                    </ul>
                  <p>
                    For certain mapping functions <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.33404" data-verso-hover="7035">f</span></code>, the resulting iterator will be finite (or productive) even though
no <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> (or <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code>) instance is provided. For example, if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.33404" data-verso-hover="7035">f</span></code> is an <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT" title="Documentation for ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="3474">ExceptT</span></a></code> monad and
will always fail, then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">it.mapM</span></code> will be finite even if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.33405" data-verso-hover="6786">it</span></code> isn't. In such cases, the termination
proof needs to be done manually.</p>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    For each value emitted by the base iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.34489" data-verso-hover="6786">it</span></code>, this combinator calls <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.34488" data-verso-hover="7035">f</span></code>.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___IterM___mapWithPostcondition">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.IterM.mapWithPostcondition" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.IterM.mapWithPostcondition.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w',</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w''}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.35982" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.35983" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.35984" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.35986" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.35988" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w''</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.35988" data-verso-hover="6981">n</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLiftT___mk" title="Documentation for MonadLiftT"><span class="const token" data-binding="const-MonadLiftT" data-verso-hover="83">MonadLiftT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.35986" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.35988" data-verso-hover="6981">n</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.35982" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.35986" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.35983" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.35998" data-verso-hover="7037">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.35983" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.35988" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.35984" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.36002" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.35986" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.35983" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.35988" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.35984" data-verso-hover="4902">Î³</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.IterM.mapWithPostcondition.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w',</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">w''}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.35982" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.35983" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.35984" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.35986" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.35988" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w''</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.35988" data-verso-hover="6981">n</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLiftT___mk" title="Documentation for MonadLiftT"><span class="const token" data-binding="const-MonadLiftT" data-verso-hover="83">MonadLiftT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.35986" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.35988" data-verso-hover="6981">n</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.35982" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.35986" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.35983" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.35998" data-verso-hover="7037">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.35983" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.35988" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.35984" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.36002" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.35986" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.35983" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.35988" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.35984" data-verso-hover="4902">Î³</span></div></pre><div class="text">
                  <p>
                    <em>Note: This is a very general combinator that requires an advanced understanding of monads, dependent
types and termination proofs. The variants <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">map</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">mapM</span></code> are easier to use and sufficient
for most use cases.</em></p>
                  <p>
                    If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.34552" data-verso-hover="6786">it</span></code> is an iterator, then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.34552" data-verso-hover="6786">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___mapWithPostcondition" title="Documentation for Std.IterM.mapWithPostcondition"><span class="const token" data-binding="const-Std.IterM.mapWithPostcondition" data-verso-hover="7038">mapWithPostcondition</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34551" data-verso-hover="7037">f</span></code> is another iterator that applies a monadic
function <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.34551" data-verso-hover="7037">f</span></code> to all values emitted by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.34552" data-verso-hover="6786">it</span></code> and emits the result.</p>
                  <p>
                    <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.34604" data-verso-hover="7037">f</span></code> is expected to return <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34600" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">_</span></code>. The base iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.34605" data-verso-hover="6786">it</span></code> being monadic in
<code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.34599" data-verso-hover="5094">m</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.34600" data-verso-hover="6981">n</span></code> can be different from <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.34599" data-verso-hover="5094">m</span></code>, but <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.34605" data-verso-hover="6786">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___mapWithPostcondition" title="Documentation for Std.IterM.mapWithPostcondition"><span class="const token" data-binding="const-Std.IterM.mapWithPostcondition" data-verso-hover="7038">mapWithPostcondition</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34604" data-verso-hover="7037">f</span></code> expects a <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLiftT___mk" title="Documentation for MonadLiftT"><span class="const token" data-binding="const-MonadLiftT" data-verso-hover="83">MonadLiftT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34599" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34600" data-verso-hover="6981">n</span></code>
instance. The <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a></code> transformer allows the caller to intrinsically prove properties about
<code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.34604" data-verso-hover="7037">f</span></code>'s return value in the monad <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.34600" data-verso-hover="6981">n</span></code>, enabling termination proofs depending on the specific behavior
of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.34604" data-verso-hover="7037">f</span></code>.</p>
                  <p>
                    <strong>Marble diagram (without monadic effects):</strong></p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.34692" data-verso-hover="6786">it</span><span class="inter-text">                          ---a --b --c --d -e ----âŠ¥
</span><span class="unknown token" data-binding="">it.mapWithPostcondition</span><span class="inter-text">     ---a'--b'--c'--d'-e'----âŠ¥</span></code><p>
                    (given that <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.34714" data-verso-hover="7037">f</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34776" data-verso-hover="326">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/#Pure___mk" title="Documentation for Pure.pure"><span class="const token" data-binding="const-Pure.pure" data-verso-hover="999">pure</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34841" data-verso-hover="1223">a'</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.34714" data-verso-hover="7037">f</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.34928" data-verso-hover="326">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/#Pure___mk" title="Documentation for Pure.pure"><span class="const token" data-binding="const-Pure.pure" data-verso-hover="999">pure</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.35019" data-verso-hover="1223">b'</span></code> etc.)</p>
                  <p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.35120" data-verso-hover="6786">it</span></code> is finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.35120" data-verso-hover="6786">it</span></code> is productive</p>
                      </li>
                    </ul>
                  <p>
                    For certain mapping functions <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.35145" data-verso-hover="7037">f</span></code>, the resulting iterator will be finite (or productive) even though
no <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> (or <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code>) instance is provided. For example, if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.35145" data-verso-hover="7037">f</span></code> is an <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT" title="Documentation for ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="3474">ExceptT</span></a></code> monad and
will always fail, then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">it.mapWithPostcondition</span></code> will be finite even if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.35146" data-verso-hover="6786">it</span></code> isn't.</p>
                  <p>
                    In such situations, the missing instances can be proved manually if the postcondition bundled in
the <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.35946" data-verso-hover="6981">n</span></code> monad is strong enough. In the given example, a suitable postcondition might
be <code class="hl lean inline" data-lean-context="docstring-examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-0">fun</span><span class="inter-text"> </span><span class="unknown token" data-binding="">_</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><a href="Basic-Propositions/Truth/#False" title="Documentation for False"><span class="const token" data-binding="const-False" data-verso-hover="11">False</span></a></code>.</p>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    For each value emitted by the base iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.35980" data-verso-hover="6786">it</span></code>, this combinator calls <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.35979" data-verso-hover="7037">f</span></code>.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___IterM___uLift">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.IterM.uLift" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.IterM.uLift.{v,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">u,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">v',</span><span class="inter-text"> </span><span class="unknown token" data-binding="">u'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.36087" data-verso-hover="58">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36088" data-verso-hover="58">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type u</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.36090" data-verso-hover="7039">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type u</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type u'</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.36094" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36090" data-verso-hover="7039">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36088" data-verso-hover="58">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.36096" data-verso-hover="7040">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type (max u v)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type v'</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><span class="var token" data-binding="var-_uniq.36099" data-verso-hover="7041">lift</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLiftT___mk" title="Documentation for MonadLiftT"><span class="const token" data-binding="const-MonadLiftT" data-verso-hover="83">MonadLiftT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36090" data-verso-hover="7039">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="const token" data-binding="const-Std.Iterators.ULiftT" data-verso-hover="7042">ULiftT</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36096" data-verso-hover="7040">n</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36096" data-verso-hover="7040">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="The-Type-System/Universes/#ULift___up" title="Documentation for ULift"><span class="const token" data-binding="const-ULift" data-verso-hover="401">ULift</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36088" data-verso-hover="58">Î²</span><span class="unknown token" data-binding="">)</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.IterM.uLift.{v,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">u,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">v',</span><span class="inter-text"> </span><span class="unknown token" data-binding="">u'}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.36087" data-verso-hover="58">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36088" data-verso-hover="58">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type u</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.36090" data-verso-hover="7039">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type u</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type u'</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.36094" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36090" data-verso-hover="7039">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36088" data-verso-hover="58">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.36096" data-verso-hover="7040">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type (max u v)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type v'</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><span class="var token" data-binding="var-_uniq.36099" data-verso-hover="7041">lift</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLiftT___mk" title="Documentation for MonadLiftT"><span class="const token" data-binding="const-MonadLiftT" data-verso-hover="83">MonadLiftT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36090" data-verso-hover="7039">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="const token" data-binding="const-Std.Iterators.ULiftT" data-verso-hover="7042">ULiftT</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36096" data-verso-hover="7040">n</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36096" data-verso-hover="7040">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="The-Type-System/Universes/#ULift___up" title="Documentation for ULift"><span class="const token" data-binding="const-ULift" data-verso-hover="401">ULift</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36088" data-verso-hover="58">Î²</span><span class="unknown token" data-binding="">)</span></div></pre><div class="text">
                  <p>
                    Transforms an <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36009" data-verso-hover="7039">m</span></code>-monadic iterator with values in <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36008" data-verso-hover="58">Î²</span></code> into an <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36011" data-verso-hover="7040">n</span></code>-monadic iterator with
values in <code class="hl lean inline" data-lean-context="docstring-examples"><a href="The-Type-System/Universes/#ULift___up" title="Documentation for ULift"><span class="const token" data-binding="const-ULift" data-verso-hover="401">ULift</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36008" data-verso-hover="58">Î²</span></code>. Requires a <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLift___mk" title="Documentation for MonadLift"><span class="const token" data-binding="const-MonadLift" data-verso-hover="94">MonadLift</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36009" data-verso-hover="7039">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="const token" data-binding="const-Std.Iterators.ULiftT" data-verso-hover="7042">ULiftT</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36011" data-verso-hover="7040">n</span><span class="unknown token" data-binding="">)</span></code> instance.</p>
                  <p>
                    <strong>Marble diagram:</strong></p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36043" data-verso-hover="6786">it</span><span class="inter-text">            ---a    ----b    ---c    --d    ---âŠ¥
</span><span class="unknown token" data-binding="">it.uLift</span><span class="inter-text"> </span><span class="unknown token" data-binding="">n</span><span class="inter-text">    ---.up a----.up b---.up c--.up d---âŠ¥</span></code><p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code>: only if the original iterator is finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code>: only if the original iterator is productive</p>
                      </li>
                    </ul>
                  </div>
                </div>
              <div class="namedocs" id="Std___IterM___flatMap">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.IterM.flatMap" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.IterM.flatMap.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.36291" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36292" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36293" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36294" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.36296" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36296" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36291" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36296" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36292" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36293" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36296" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36294" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.36310" data-verso-hover="7043">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36292" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36296" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36294" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.36314" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36296" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36292" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36296" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36294" data-verso-hover="4902">Î³</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.IterM.flatMap.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.36291" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36292" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36293" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36294" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.36296" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36296" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36291" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36296" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36292" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36293" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36296" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36294" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.36310" data-verso-hover="7043">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36292" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36296" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36294" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.36314" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36296" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36292" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36296" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36294" data-verso-hover="4902">Î³</span></div></pre><div class="text">
                  <p>
                    Let <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36113" data-verso-hover="6786">it</span></code> be an iterator and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36112" data-verso-hover="7043">f</span></code> a function mapping <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36113" data-verso-hover="6786">it</span></code>'s outputs to iterators.
Then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36113" data-verso-hover="6786">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___flatMap" title="Documentation for Std.IterM.flatMap"><span class="const token" data-binding="const-Std.IterM.flatMap" data-verso-hover="7044">flatMap</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36112" data-verso-hover="7043">f</span></code> is an iterator that goes over <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36113" data-verso-hover="6786">it</span></code> and for each output, it applies <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36112" data-verso-hover="7043">f</span></code> and
iterates over the resulting iterator. <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36113" data-verso-hover="6786">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___flatMap" title="Documentation for Std.IterM.flatMap"><span class="const token" data-binding="const-Std.IterM.flatMap" data-verso-hover="7044">flatMap</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36112" data-verso-hover="7043">f</span></code> emits all values obtained from the inner
iterators -- first, all of the first inner iterator, then all of the second one, and so on.</p>
                  <p>
                    <strong>Marble diagram:</strong></p>
                  <pre>it                 ---a      --b      c    --d -âŠ¥
f a                    a1-a2âŠ¥
f b                             b1-b2âŠ¥
f c                                    c1-c2âŠ¥
f d                                           âŠ¥
it.flatMap         ----a1-a2----b1-b2--c1-c2----âŠ¥
</pre><p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36216" data-verso-hover="6786">it</span></code> and the inner iterators are finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36216" data-verso-hover="6786">it</span></code> is finite and the inner iterators are productive</p>
                      </li>
                    </ul>
                  <p>
                    For certain functions <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36241" data-verso-hover="7043">f</span></code>, the resulting iterator will be finite (or productive) even though
no <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> (or <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code>) instance is provided out of the box. For example, if the outer
iterator is productive and the inner
iterators are productive <em>and provably never empty</em>, then the resulting iterator is also productive.</p>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    This combinator incurs an additional O(1) cost with each output of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36279" data-verso-hover="6786">it</span></code> or an internal iterator.</p>
                  <p>
                    For each value emitted by the outer iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36289" data-verso-hover="6786">it</span></code>, this combinator calls <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36288" data-verso-hover="7043">f</span></code>.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___IterM___flatMapM">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.IterM.flatMapM" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.IterM.flatMapM.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.36520" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36521" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36522" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36523" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.36525" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36525" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-MonadAttach" data-verso-hover="6999">MonadAttach</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36525" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36520" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36525" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36521" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36522" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36525" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36523" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.36540" data-verso-hover="7006">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36521" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36525" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36525" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36523" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.36544" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36525" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36521" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36525" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36523" data-verso-hover="4902">Î³</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.IterM.flatMapM.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.36520" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36521" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36522" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36523" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.36525" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36525" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-MonadAttach" data-verso-hover="6999">MonadAttach</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36525" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36520" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36525" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36521" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36522" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36525" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36523" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.36540" data-verso-hover="7006">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36521" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36525" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36525" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36523" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.36544" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36525" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36521" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36525" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36523" data-verso-hover="4902">Î³</span></div></pre><div class="text">
                  <p>
                    Let <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36329" data-verso-hover="6786">it</span></code> be an iterator and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36328" data-verso-hover="7006">f</span></code> a monadic function mapping <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36329" data-verso-hover="6786">it</span></code>'s outputs to iterators.
Then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36329" data-verso-hover="6786">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___flatMapM" title="Documentation for Std.IterM.flatMapM"><span class="const token" data-binding="const-Std.IterM.flatMapM" data-verso-hover="7045">flatMapM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36328" data-verso-hover="7006">f</span></code> is an iterator that goes over <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36329" data-verso-hover="6786">it</span></code> and for each output, it applies <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36328" data-verso-hover="7006">f</span></code> and
iterates over the resulting iterator. <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36329" data-verso-hover="6786">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___flatMapM" title="Documentation for Std.IterM.flatMapM"><span class="const token" data-binding="const-Std.IterM.flatMapM" data-verso-hover="7045">flatMapM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36328" data-verso-hover="7006">f</span></code> emits all values obtained from the inner
iterators -- first, all of the first inner iterator, then all of the second one, and so on.</p>
                  <p>
                    <strong>Marble diagram (without monadic effects):</strong></p>
                  <pre>it                 ---a      --b      c    --d -âŠ¥
f a                    a1-a2âŠ¥
f b                             b1-b2âŠ¥
f c                                    c1-c2âŠ¥
f d                                           âŠ¥
it.flatMapM        ----a1-a2----b1-b2--c1-c2----âŠ¥
</pre><p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36441" data-verso-hover="6786">it</span></code> and the inner iterators are finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36441" data-verso-hover="6786">it</span></code> is finite and the inner iterators are productive</p>
                      </li>
                    </ul>
                  <p>
                    For certain functions <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36467" data-verso-hover="7006">f</span></code>, the resulting iterator will be finite (or productive) even though
no <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> (or <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code>) instance is provided out of the box. For example, if the outer
iterator is productive and the inner
iterators are productive <em>and provably never empty</em>, then the resulting iterator is also productive.</p>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    This combinator incurs an additional O(1) cost with each output of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36507" data-verso-hover="6786">it</span></code> or an internal iterator.</p>
                  <p>
                    For each value emitted by the outer iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36518" data-verso-hover="6786">it</span></code>, this combinator calls <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36517" data-verso-hover="7006">f</span></code>.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___IterM___flatMapAfter">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.IterM.flatMapAfter" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.IterM.flatMapAfter.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.36839" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36840" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36841" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36842" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.36844" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36844" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36839" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36844" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36840" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36841" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36844" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36842" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.36858" data-verso-hover="7043">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36840" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36844" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36842" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.36862" data-verso-hover="6786">itâ‚</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36844" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36840" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.36866" data-verso-hover="7010">itâ‚‚</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option"><span class="const token" data-binding="const-Option" data-verso-hover="47">Option</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36844" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36842" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36844" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36842" data-verso-hover="4902">Î³</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.IterM.flatMapAfter.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.36839" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36840" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36841" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36842" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.36844" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36844" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36839" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36844" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36840" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36841" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36844" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36842" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.36858" data-verso-hover="7043">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36840" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36844" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36842" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.36862" data-verso-hover="6786">itâ‚</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36844" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36840" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.36866" data-verso-hover="7010">itâ‚‚</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option"><span class="const token" data-binding="const-Option" data-verso-hover="47">Option</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36844" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36842" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36844" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36842" data-verso-hover="4902">Î³</span></div></pre><div class="text">
                  <p>
                    Let <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36558" data-verso-hover="6786">itâ‚</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36559" data-verso-hover="7010">itâ‚‚</span></code> be iterators and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36557" data-verso-hover="7043">f</span></code> a function mapping <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36558" data-verso-hover="6786">itâ‚</span></code>'s outputs to iterators
of the same type as <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36559" data-verso-hover="7010">itâ‚‚</span></code>. Then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36558" data-verso-hover="6786">itâ‚</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___flatMapAfter" title="Documentation for Std.IterM.flatMapAfter"><span class="const token" data-binding="const-Std.IterM.flatMapAfter" data-verso-hover="7046">flatMapAfter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36557" data-verso-hover="7043">f</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36559" data-verso-hover="7010">itâ‚‚</span></code> first goes over <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36559" data-verso-hover="7010">itâ‚‚</span></code> and then over
<code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36558" data-verso-hover="6786">itâ‚</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___flatMap" title="Documentation for Std.IterM.flatMap"><span class="const token" data-binding="const-Std.IterM.flatMap" data-verso-hover="7044">flatMap</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36557" data-verso-hover="7043">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">itâ‚‚</span></code>, emitting all their values.</p>
                  <p>
                    The main purpose of this combinator is to represent the intermediate state of a <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">flatMap</span></code> iterator
that is currently iterating over one of the inner iterators.</p>
                  <p>
                    <strong>Marble diagram:</strong></p>
                  <pre>itâ‚                            --b      c    --d -âŠ¥
itâ‚‚                      a1-a2âŠ¥
f b                               b1-b2âŠ¥
f c                                      c1-c2âŠ¥
f d                                             âŠ¥
it.flatMapAfter  f itâ‚‚   a1-a2----b1-b2--c1-c2----âŠ¥
</pre><p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36759" data-verso-hover="6786">itâ‚</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36760" data-verso-hover="7010">itâ‚‚</span></code> and the inner iterators are finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36759" data-verso-hover="6786">itâ‚</span></code> is finite and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36760" data-verso-hover="7010">itâ‚‚</span></code> and the inner iterators are productive</p>
                      </li>
                    </ul>
                  <p>
                    For certain functions <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36785" data-verso-hover="7043">f</span></code>, the resulting iterator will be finite (or productive) even though
no <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> (or <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code>) instance is provided out of the box. For example, if the outer
iterator is productive and the inner
iterators are productive <em>and provably never empty</em>, then the resulting iterator is also productive.</p>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    This combinator incurs an additional O(1) cost with each output of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36825" data-verso-hover="6786">itâ‚</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36826" data-verso-hover="7010">itâ‚‚</span></code> or an internal
iterator.</p>
                  <p>
                    For each value emitted by the outer iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36836" data-verso-hover="6786">itâ‚</span></code>, this combinator calls <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36835" data-verso-hover="7043">f</span></code>.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___IterM___flatMapAfterM">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.IterM.flatMapAfterM" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.IterM.flatMapAfterM.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.37770" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37771" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37772" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37773" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.37775" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37775" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-MonadAttach" data-verso-hover="6999">MonadAttach</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37775" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37770" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37775" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37771" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37772" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37775" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37773" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.37790" data-verso-hover="7006">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37771" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37775" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37775" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37773" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.37794" data-verso-hover="6786">itâ‚</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37775" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37771" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.37798" data-verso-hover="7010">itâ‚‚</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option"><span class="const token" data-binding="const-Option" data-verso-hover="47">Option</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37775" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37773" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37775" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37773" data-verso-hover="4902">Î³</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.IterM.flatMapAfterM.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.37770" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37771" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37772" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37773" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.37775" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37775" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-MonadAttach" data-verso-hover="6999">MonadAttach</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37775" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37770" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37775" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37771" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37772" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37775" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37773" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.37790" data-verso-hover="7006">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37771" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37775" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37775" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37773" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.37794" data-verso-hover="6786">itâ‚</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37775" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37771" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.37798" data-verso-hover="7010">itâ‚‚</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option"><span class="const token" data-binding="const-Option" data-verso-hover="47">Option</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37775" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37773" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37775" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37773" data-verso-hover="4902">Î³</span></div></pre><div class="text">
                  <p>
                    Let <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36881" data-verso-hover="6786">itâ‚</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36882" data-verso-hover="7010">itâ‚‚</span></code> be iterators and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36880" data-verso-hover="7006">f</span></code> a monadic function mapping <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36881" data-verso-hover="6786">itâ‚</span></code>'s outputs to iterators
of the same type as <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36882" data-verso-hover="7010">itâ‚‚</span></code>. Then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36881" data-verso-hover="6786">itâ‚</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___flatMapAfterM" title="Documentation for Std.IterM.flatMapAfterM"><span class="const token" data-binding="const-Std.IterM.flatMapAfterM" data-verso-hover="7047">flatMapAfterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36880" data-verso-hover="7006">f</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36882" data-verso-hover="7010">itâ‚‚</span></code> first goes over <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.36882" data-verso-hover="7010">itâ‚‚</span></code> and then over
<code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">itâ‚.flatMap</span><span class="inter-text"> </span><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">itâ‚‚</span></code>, emitting all their values.</p>
                  <p>
                    The main purpose of this combinator is to represent the intermediate state of a <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">flatMap</span></code> iterator
that is currently iterating over one of the inner iterators.</p>
                  <p>
                    <strong>Marble diagram (without monadic effects):</strong></p>
                  <pre>itâ‚                            --b      c    --d -âŠ¥
itâ‚‚                      a1-a2âŠ¥
f b                               b1-b2âŠ¥
f c                                      c1-c2âŠ¥
f d                                             âŠ¥
it.flatMapAfterM f itâ‚‚   a1-a2----b1-b2--c1-c2----âŠ¥
</pre><p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.37686" data-verso-hover="6786">itâ‚</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.37687" data-verso-hover="7010">itâ‚‚</span></code> and the inner iterators are finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.37686" data-verso-hover="6786">itâ‚</span></code> is finite and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.37687" data-verso-hover="7010">itâ‚‚</span></code> and the inner iterators are productive</p>
                      </li>
                    </ul>
                  <p>
                    For certain functions <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.37713" data-verso-hover="7006">f</span></code>, the resulting iterator will be finite (or productive) even though
no <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> (or <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code>) instance is provided out of the box. For example, if the outer
iterator is productive and the inner
iterators are productive <em>and provably never empty</em>, then the resulting iterator is also productive.</p>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    This combinator incurs an additional O(1) cost with each output of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.37755" data-verso-hover="6786">itâ‚</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.37756" data-verso-hover="7010">itâ‚‚</span></code> or an internal
iterator.</p>
                  <p>
                    For each value emitted by the outer iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.37767" data-verso-hover="6786">itâ‚</span></code>, this combinator calls <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.37766" data-verso-hover="7006">f</span></code>.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___IterM___filter">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.IterM.filter" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.IterM.filter.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.37946" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37947" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.37949" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37946" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37949" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37947" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37949" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.37956" data-verso-hover="6967">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37947" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Basic-Types/Booleans/#Bool___false" title="Documentation for Bool"><span class="const token" data-binding="const-Bool" data-verso-hover="199">Bool</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.37960" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37949" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37947" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37949" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37947" data-verso-hover="4902">Î²</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.IterM.filter.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.37946" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37947" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.37949" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37946" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37949" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37947" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37949" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.37956" data-verso-hover="6967">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37947" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Basic-Types/Booleans/#Bool___false" title="Documentation for Bool"><span class="const token" data-binding="const-Bool" data-verso-hover="199">Bool</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.37960" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37949" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37947" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37949" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37947" data-verso-hover="4902">Î²</span></div></pre><div class="text">
                  <p>
                    If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.37809" data-verso-hover="6786">it</span></code> is an iterator, then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.37809" data-verso-hover="6786">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___filter" title="Documentation for Std.IterM.filter"><span class="const token" data-binding="const-Std.IterM.filter" data-verso-hover="7048">filter</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37808" data-verso-hover="6967">f</span></code> is another iterator that applies a
predicate <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.37808" data-verso-hover="6967">f</span></code> to all values emitted by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.37809" data-verso-hover="6786">it</span></code> and emits them only if they are accepted by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.37808" data-verso-hover="6967">f</span></code>.</p>
                  <p>
                    In situations where <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.37838" data-verso-hover="6967">f</span></code> is monadic, use <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">filterM</span></code> instead.</p>
                  <p>
                    <strong>Marble diagram (without monadic effects):</strong></p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.37863" data-verso-hover="6786">it</span><span class="inter-text">            ---a--b--c--d-e--âŠ¥
</span><span class="unknown token" data-binding="">it.filter</span><span class="inter-text">     ---a-----c-------âŠ¥</span></code><p>
                    (given that <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">c</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">true</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">d</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">d</span><span class="inter-text"> </span><span class="unknown token" data-binding="">e</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">false</span></code>)</p>
                  <p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.37897" data-verso-hover="6786">it</span></code> is finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.37897" data-verso-hover="6786">it</span></code> is finite`</p>
                      </li>
                    </ul>
                  <p>
                    For certain mapping functions <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.37919" data-verso-hover="6967">f</span></code>, the resulting iterator will be productive even though
no <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance is provided. For example, if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.37919" data-verso-hover="6967">f</span></code> always returns <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Propositions/Truth/#True___intro" title="Documentation for True"><span class="const token" data-binding="const-True" data-verso-hover="405">True</span></a></code>, the resulting
iterator will be productive as long as <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.37920" data-verso-hover="6786">it</span></code> is. In such situations, the missing instance needs to
be proved manually.</p>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    For each value emitted by the base iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.37944" data-verso-hover="6786">it</span></code>, this combinator calls <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.37943" data-verso-hover="6967">f</span></code> and matches on the
returned value.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___IterM___filterM">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.IterM.filterM" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.IterM.filterM.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w',</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w''}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.39018" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.39019" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.39021" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.39023" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w''</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.39018" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.39021" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.39019" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.39023" data-verso-hover="6981">n</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-MonadAttach" data-verso-hover="6999">MonadAttach</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.39023" data-verso-hover="6981">n</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLiftT___mk" title="Documentation for MonadLiftT"><span class="const token" data-binding="const-MonadLiftT" data-verso-hover="83">MonadLiftT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.39021" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.39023" data-verso-hover="6981">n</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.39032" data-verso-hover="7049">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.39019" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.39023" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="The-Type-System/Universes/#ULift___up" title="Documentation for ULift"><span class="const token" data-binding="const-ULift" data-verso-hover="401">ULift</span></a><span class="inter-text"> </span><a href="Basic-Types/Booleans/#Bool___false" title="Documentation for Bool"><span class="const token" data-binding="const-Bool" data-verso-hover="199">Bool</span></a><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.39036" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.39021" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.39019" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.39023" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.39019" data-verso-hover="4902">Î²</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.IterM.filterM.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w',</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w''}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.39018" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.39019" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.39021" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.39023" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w''</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.39018" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.39021" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.39019" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.39023" data-verso-hover="6981">n</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-MonadAttach" data-verso-hover="6999">MonadAttach</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.39023" data-verso-hover="6981">n</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLiftT___mk" title="Documentation for MonadLiftT"><span class="const token" data-binding="const-MonadLiftT" data-verso-hover="83">MonadLiftT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.39021" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.39023" data-verso-hover="6981">n</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.39032" data-verso-hover="7049">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.39019" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.39023" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="The-Type-System/Universes/#ULift___up" title="Documentation for ULift"><span class="const token" data-binding="const-ULift" data-verso-hover="401">ULift</span></a><span class="inter-text"> </span><a href="Basic-Types/Booleans/#Bool___false" title="Documentation for Bool"><span class="const token" data-binding="const-Bool" data-verso-hover="199">Bool</span></a><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.39036" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.39021" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.39019" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.39023" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.39019" data-verso-hover="4902">Î²</span></div></pre><div class="text">
                  <p>
                    If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.37974" data-verso-hover="6786">it</span></code> is an iterator, then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.37974" data-verso-hover="6786">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___filterM" title="Documentation for Std.IterM.filterM"><span class="const token" data-binding="const-Std.IterM.filterM" data-verso-hover="7050">filterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37973" data-verso-hover="7049">f</span></code> is another iterator that applies a monadic
predicate <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.37973" data-verso-hover="7049">f</span></code> to all values emitted by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.37974" data-verso-hover="6786">it</span></code> and emits them only if they are accepted by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.37973" data-verso-hover="7049">f</span></code>.</p>
                  <p>
                    The base iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.38026" data-verso-hover="6786">it</span></code> being monadic in <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.38019" data-verso-hover="5094">m</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.38025" data-verso-hover="7049">f</span></code> can return values in any monad <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.38020" data-verso-hover="6981">n</span></code> for which a
<code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLiftT___mk" title="Documentation for MonadLiftT"><span class="const token" data-binding="const-MonadLiftT" data-verso-hover="83">MonadLiftT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.38019" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.38020" data-verso-hover="6981">n</span></code> instance is available.</p>
                  <p>
                    If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.38047" data-verso-hover="7049">f</span></code> is pure, then the simpler variant <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.38048" data-verso-hover="6786">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___filter" title="Documentation for Std.IterM.filter"><span class="const token" data-binding="const-Std.IterM.filter" data-verso-hover="7048">filter</span></a></code> can be used instead.</p>
                  <p>
                    <strong>Marble diagram (without monadic effects):</strong></p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.38138" data-verso-hover="6786">it</span><span class="inter-text">             ---a--b--c--d-e--âŠ¥
</span><span class="unknown token" data-binding="">it.filterM</span><span class="inter-text">     ---a-----c-------âŠ¥</span></code><p>
                    (given that <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">c</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">pure</span><span class="inter-text"> </span><span class="unknown token" data-binding="">true</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">d</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">d</span><span class="inter-text"> </span><span class="unknown token" data-binding="">e</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">pure</span><span class="inter-text"> </span><span class="unknown token" data-binding="">false</span></code>)</p>
                  <p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.38181" data-verso-hover="6786">it</span></code> is finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.38181" data-verso-hover="6786">it</span></code> is finite`</p>
                      </li>
                    </ul>
                  <p>
                    For certain mapping functions <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.38206" data-verso-hover="7049">f</span></code>, the resulting iterator will be finite (or productive) even though
no <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> (or <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code>) instance is provided. For example, if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.38206" data-verso-hover="7049">f</span></code> is an <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT" title="Documentation for ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="3474">ExceptT</span></a></code> monad and
will always fail, then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">it.filterWithPostcondition</span></code> will be finite -- and productive -- even if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.38207" data-verso-hover="6786">it</span></code>
isn't. In such cases, the termination proof needs to be done manually.</p>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    For each value emitted by the base iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.39016" data-verso-hover="6786">it</span></code>, this combinator calls <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.39015" data-verso-hover="7049">f</span></code>.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___IterM___filterWithPostcondition">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.IterM.filterWithPostcondition" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.IterM.filterWithPostcondition.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w',</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w''}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.40103" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40104" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.40106" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.40108" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w''</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40108" data-verso-hover="6981">n</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLiftT___mk" title="Documentation for MonadLiftT"><span class="const token" data-binding="const-MonadLiftT" data-verso-hover="83">MonadLiftT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40106" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40108" data-verso-hover="6981">n</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40103" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40106" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40104" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.40118" data-verso-hover="7051">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40104" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40108" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="The-Type-System/Universes/#ULift___up" title="Documentation for ULift"><span class="const token" data-binding="const-ULift" data-verso-hover="401">ULift</span></a><span class="inter-text"> </span><a href="Basic-Types/Booleans/#Bool___false" title="Documentation for Bool"><span class="const token" data-binding="const-Bool" data-verso-hover="199">Bool</span></a><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.40122" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40106" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40104" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40108" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40104" data-verso-hover="4902">Î²</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.IterM.filterWithPostcondition.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w',</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">w''}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.40103" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40104" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.40106" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.40108" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w''</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40108" data-verso-hover="6981">n</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLiftT___mk" title="Documentation for MonadLiftT"><span class="const token" data-binding="const-MonadLiftT" data-verso-hover="83">MonadLiftT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40106" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40108" data-verso-hover="6981">n</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40103" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40106" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40104" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.40118" data-verso-hover="7051">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40104" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40108" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="The-Type-System/Universes/#ULift___up" title="Documentation for ULift"><span class="const token" data-binding="const-ULift" data-verso-hover="401">ULift</span></a><span class="inter-text"> </span><a href="Basic-Types/Booleans/#Bool___false" title="Documentation for Bool"><span class="const token" data-binding="const-Bool" data-verso-hover="199">Bool</span></a><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.40122" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40106" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40104" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40108" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40104" data-verso-hover="4902">Î²</span></div></pre><div class="text">
                  <p>
                    <em>Note: This is a very general combinator that requires an advanced understanding of monads,
dependent types and termination proofs. The variants <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">filter</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">filterM</span></code> are easier to use and
sufficient for most use cases.</em></p>
                  <p>
                    If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.39076" data-verso-hover="6786">it</span></code> is an iterator, then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.39076" data-verso-hover="6786">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___filterWithPostcondition" title="Documentation for Std.IterM.filterWithPostcondition"><span class="const token" data-binding="const-Std.IterM.filterWithPostcondition" data-verso-hover="7052">filterWithPostcondition</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.39075" data-verso-hover="7051">f</span></code> is another iterator that applies a monadic
predicate <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.39075" data-verso-hover="7051">f</span></code> to all values emitted by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.39076" data-verso-hover="6786">it</span></code> and emits them only if they are accepted by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.39075" data-verso-hover="7051">f</span></code>.</p>
                  <p>
                    <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.39126" data-verso-hover="7051">f</span></code> is expected to return <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.39122" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="The-Type-System/Universes/#ULift___up" title="Documentation for ULift"><span class="const token" data-binding="const-ULift" data-verso-hover="401">ULift</span></a><span class="inter-text"> </span><a href="Basic-Types/Booleans/#Bool___false" title="Documentation for Bool"><span class="const token" data-binding="const-Bool" data-verso-hover="199">Bool</span></a><span class="unknown token" data-binding="">)</span></code>. The base iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.39127" data-verso-hover="6786">it</span></code> being monadic in
<code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.39121" data-verso-hover="5094">m</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.39122" data-verso-hover="6981">n</span></code> can be different from <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.39121" data-verso-hover="5094">m</span></code>, but <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.39127" data-verso-hover="6786">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___filterWithPostcondition" title="Documentation for Std.IterM.filterWithPostcondition"><span class="const token" data-binding="const-Std.IterM.filterWithPostcondition" data-verso-hover="7052">filterWithPostcondition</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.39126" data-verso-hover="7051">f</span></code> expects a <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLiftT___mk" title="Documentation for MonadLiftT"><span class="const token" data-binding="const-MonadLiftT" data-verso-hover="83">MonadLiftT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.39121" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.39122" data-verso-hover="6981">n</span></code>
instance. The <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a></code> transformer allows the caller to intrinsically prove properties about
<code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.39126" data-verso-hover="7051">f</span></code>'s return value in the monad <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.39122" data-verso-hover="6981">n</span></code>, enabling termination proofs depending on the specific behavior
of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.39126" data-verso-hover="7051">f</span></code>.</p>
                  <p>
                    <strong>Marble diagram (without monadic effects):</strong></p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.39211" data-verso-hover="6786">it</span><span class="inter-text">                             ---a--b--c--d-e--âŠ¥
</span><span class="unknown token" data-binding="">it.filterWithPostcondition</span><span class="inter-text">     ---a-----c-------âŠ¥</span></code><p>
                    (given that <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">c</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">pure</span><span class="inter-text"> </span><span class="unknown token" data-binding="">true</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">d</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">d</span><span class="inter-text"> </span><span class="unknown token" data-binding="">e</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">pure</span><span class="inter-text"> </span><span class="unknown token" data-binding="">false</span></code>)</p>
                  <p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.39251" data-verso-hover="6786">it</span></code> is finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.39251" data-verso-hover="6786">it</span></code> is finite`</p>
                      </li>
                    </ul>
                  <p>
                    For certain mapping functions <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.39275" data-verso-hover="7051">f</span></code>, the resulting iterator will be finite (or productive) even though
no <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> (or <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code>) instance is provided. For example, if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.39275" data-verso-hover="7051">f</span></code> is an <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT" title="Documentation for ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="3474">ExceptT</span></a></code> monad and
will always fail, then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">it.filterWithPostcondition</span></code> will be finite -- and productive -- even if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.39276" data-verso-hover="6786">it</span></code>
isn't.</p>
                  <p>
                    In such situations, the missing instances can be proved manually if the postcondition bundled in
the <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40069" data-verso-hover="6981">n</span></code> monad is strong enough. In the given example, a suitable postcondition might
be <code class="hl lean inline" data-lean-context="docstring-examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-0">fun</span><span class="inter-text"> </span><span class="unknown token" data-binding="">_</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><a href="Basic-Propositions/Truth/#False" title="Documentation for False"><span class="const token" data-binding="const-False" data-verso-hover="11">False</span></a></code>.</p>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    For each value emitted by the base iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40101" data-verso-hover="6786">it</span></code>, this combinator calls <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40100" data-verso-hover="7051">f</span></code>.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___IterM___filterMap">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.IterM.filterMap" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.IterM.filterMap.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.40504" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40505" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40506" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.40508" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40504" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40508" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40505" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40508" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.40515" data-verso-hover="2492">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40505" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option"><span class="const token" data-binding="const-Option" data-verso-hover="47">Option</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40506" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.40519" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40508" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40505" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40508" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40506" data-verso-hover="4902">Î³</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.IterM.filterMap.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.40504" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40505" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40506" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.40508" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40504" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40508" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40505" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40508" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.40515" data-verso-hover="2492">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40505" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option"><span class="const token" data-binding="const-Option" data-verso-hover="47">Option</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40506" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.40519" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40508" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40505" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40508" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40506" data-verso-hover="4902">Î³</span></div></pre><div class="text">
                  <p>
                    If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40134" data-verso-hover="6786">it</span></code> is an iterator, then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40134" data-verso-hover="6786">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___filterMap" title="Documentation for Std.IterM.filterMap"><span class="const token" data-binding="const-Std.IterM.filterMap" data-verso-hover="7053">filterMap</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40133" data-verso-hover="2492">f</span></code> is another iterator that applies a function <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40133" data-verso-hover="2492">f</span></code> to all
values emitted by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40134" data-verso-hover="6786">it</span></code>. <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40133" data-verso-hover="2492">f</span></code> is expected to return an <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option"><span class="const token" data-binding="const-Option" data-verso-hover="47">Option</span></a></code>. If it returns <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option.none"><span class="const token" data-binding="const-Option.none" data-verso-hover="50">none</span></a></code>, then nothing is
emitted; if it returns <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option.some"><span class="const token" data-binding="const-Option.some" data-verso-hover="49">some</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40169" data-verso-hover="72">x</span></code>, then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40169" data-verso-hover="72">x</span></code> is emitted.</p>
                  <p>
                    In situations where <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40202" data-verso-hover="2492">f</span></code> is monadic, use <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">filterMapM</span></code> instead.</p>
                  <p>
                    <strong>Marble diagram:</strong></p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40229" data-verso-hover="6786">it</span><span class="inter-text">               ---a --b--c --d-e--âŠ¥
</span><span class="unknown token" data-binding="">it.filterMap</span><span class="inter-text">     ---a'-----c'-------âŠ¥</span></code><p>
                    (given that <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40249" data-verso-hover="2492">f</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40286" data-verso-hover="326">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option.some"><span class="const token" data-binding="const-Option.some" data-verso-hover="49">some</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40323" data-verso-hover="1223">a'</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40249" data-verso-hover="2492">f</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40363" data-verso-hover="326">c</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40402" data-verso-hover="7016">c'</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">d</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">d</span><span class="inter-text"> </span><span class="unknown token" data-binding="">e</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">none</span></code>)</p>
                  <p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40450" data-verso-hover="6786">it</span></code> is finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40450" data-verso-hover="6786">it</span></code> is finite`</p>
                      </li>
                    </ul>
                  <p>
                    For certain mapping functions <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40473" data-verso-hover="2492">f</span></code>, the resulting iterator will be productive even though
no <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance is provided. For example, if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40473" data-verso-hover="2492">f</span></code> never returns <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option.none"><span class="const token" data-binding="const-Option.none" data-verso-hover="50">none</span></a></code>, then
this combinator will preserve productiveness. In such situations, the missing instance needs to
be proved manually.</p>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    For each value emitted by the base iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40501" data-verso-hover="6786">it</span></code>, this combinator calls <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40500" data-verso-hover="2492">f</span></code> and matches on the
returned <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option"><span class="const token" data-binding="const-Option" data-verso-hover="47">Option</span></a></code> value.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___IterM___filterMapM">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.IterM.filterMapM" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.IterM.filterMapM.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w',</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w''}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.42089" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42090" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42091" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.42093" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.42095" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w''</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42089" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42093" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42090" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42095" data-verso-hover="6981">n</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-MonadAttach" data-verso-hover="6999">MonadAttach</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42095" data-verso-hover="6981">n</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLiftT___mk" title="Documentation for MonadLiftT"><span class="const token" data-binding="const-MonadLiftT" data-verso-hover="83">MonadLiftT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42093" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42095" data-verso-hover="6981">n</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.42104" data-verso-hover="7054">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42090" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42095" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option"><span class="const token" data-binding="const-Option" data-verso-hover="47">Option</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42091" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.42108" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42093" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42090" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42095" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42091" data-verso-hover="4902">Î³</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.IterM.filterMapM.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w',</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w''}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.42089" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42090" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42091" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.42093" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.42095" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w''</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42089" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42093" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42090" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42095" data-verso-hover="6981">n</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-MonadAttach" data-verso-hover="6999">MonadAttach</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42095" data-verso-hover="6981">n</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLiftT___mk" title="Documentation for MonadLiftT"><span class="const token" data-binding="const-MonadLiftT" data-verso-hover="83">MonadLiftT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42093" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42095" data-verso-hover="6981">n</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.42104" data-verso-hover="7054">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42090" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42095" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option"><span class="const token" data-binding="const-Option" data-verso-hover="47">Option</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42091" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.42108" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42093" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42090" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42095" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42091" data-verso-hover="4902">Î³</span></div></pre><div class="text">
                  <p>
                    If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40534" data-verso-hover="6786">it</span></code> is an iterator, then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40534" data-verso-hover="6786">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___filterMapM" title="Documentation for Std.IterM.filterMapM"><span class="const token" data-binding="const-Std.IterM.filterMapM" data-verso-hover="7055">filterMapM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40533" data-verso-hover="7054">f</span></code> is another iterator that applies a monadic
function <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40533" data-verso-hover="7054">f</span></code> to all values emitted by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40534" data-verso-hover="6786">it</span></code>. <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40533" data-verso-hover="7054">f</span></code> is expected to return an <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option"><span class="const token" data-binding="const-Option" data-verso-hover="47">Option</span></a></code> inside the monad.
If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40533" data-verso-hover="7054">f</span></code> returns <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option.none"><span class="const token" data-binding="const-Option.none" data-verso-hover="50">none</span></a></code>, then nothing is emitted; if it returns <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option.some"><span class="const token" data-binding="const-Option.some" data-verso-hover="49">some</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40589" data-verso-hover="72">x</span></code>, then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40589" data-verso-hover="72">x</span></code> is emitted.</p>
                  <p>
                    The base iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40635" data-verso-hover="6786">it</span></code> being monadic in <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40628" data-verso-hover="5094">m</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40634" data-verso-hover="7054">f</span></code> can return values in any monad <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40629" data-verso-hover="6981">n</span></code> for which a
<code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLiftT___mk" title="Documentation for MonadLiftT"><span class="const token" data-binding="const-MonadLiftT" data-verso-hover="83">MonadLiftT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40628" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40629" data-verso-hover="6981">n</span></code> instance is available.</p>
                  <p>
                    If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40657" data-verso-hover="7054">f</span></code> is pure, then the simpler variant <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40658" data-verso-hover="6786">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___filterMap" title="Documentation for Std.IterM.filterMap"><span class="const token" data-binding="const-Std.IterM.filterMap" data-verso-hover="7053">filterMap</span></a></code> can be used instead.</p>
                  <p>
                    <strong>Marble diagram (without monadic effects):</strong></p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40756" data-verso-hover="6786">it</span><span class="inter-text">                ---a --b--c --d-e--âŠ¥
</span><span class="unknown token" data-binding="">it.filterMapM</span><span class="inter-text">     ---a'-----c'-------âŠ¥</span></code><p>
                    (given that <code>f a = pure (some a)'</code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40779" data-verso-hover="7054">f</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40837" data-verso-hover="326">c</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/#Pure___mk" title="Documentation for Pure.pure"><span class="const token" data-binding="const-Pure.pure" data-verso-hover="999">pure</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option.some"><span class="const token" data-binding="const-Option.some" data-verso-hover="49">some</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40900" data-verso-hover="1223">c'</span><span class="unknown token" data-binding="">)</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">d</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">d</span><span class="inter-text"> </span><span class="unknown token" data-binding="">e</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">pure</span><span class="inter-text"> </span><span class="unknown token" data-binding="">none</span></code>)</p>
                  <p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40973" data-verso-hover="6786">it</span></code> is finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40973" data-verso-hover="6786">it</span></code> is finite`</p>
                      </li>
                    </ul>
                  <p>
                    For certain mapping functions <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40999" data-verso-hover="7054">f</span></code>, the resulting iterator will be finite (or productive) even though
no <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> (or <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code>) instance is provided. For example, if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40999" data-verso-hover="7054">f</span></code> never returns <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option.none"><span class="const token" data-binding="const-Option.none" data-verso-hover="50">none</span></a></code>, then
this combinator will preserve productiveness. If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.40999" data-verso-hover="7054">f</span></code> is an <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT" title="Documentation for ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="3474">ExceptT</span></a></code> monad and will always fail,
then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">it.filterMapM</span></code> will be finite even if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.41000" data-verso-hover="6786">it</span></code> isn't. In such cases, the termination proof needs
to be done manually.</p>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    For each value emitted by the base iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.42086" data-verso-hover="6786">it</span></code>, this combinator calls <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.42085" data-verso-hover="7054">f</span></code> and matches on the
returned <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option"><span class="const token" data-binding="const-Option" data-verso-hover="47">Option</span></a></code> value.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___IterM___filterMapWithPostcondition">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.IterM.filterMapWithPostcondition" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.IterM.filterMapWithPostcondition.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w',</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w''}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.42991" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42992" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42993" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.42995" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.42997" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w''</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLiftT___mk" title="Documentation for MonadLiftT"><span class="const token" data-binding="const-MonadLiftT" data-verso-hover="83">MonadLiftT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42995" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42997" data-verso-hover="6981">n</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42991" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42995" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42992" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.43006" data-verso-hover="7056">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42992" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42997" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option"><span class="const token" data-binding="const-Option" data-verso-hover="47">Option</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42993" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.43010" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42995" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42992" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42997" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42993" data-verso-hover="4902">Î³</span></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.IterM.filterMapWithPostcondition.{w,</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">w',</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w''}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.42991" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42992" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42993" data-verso-hover="4902">Î³</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.42995" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.42997" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w''</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLiftT___mk" title="Documentation for MonadLiftT"><span class="const token" data-binding="const-MonadLiftT" data-verso-hover="83">MonadLiftT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42995" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42997" data-verso-hover="6981">n</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42991" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42995" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42992" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.43006" data-verso-hover="7056">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42992" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42997" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option"><span class="const token" data-binding="const-Option" data-verso-hover="47">Option</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42993" data-verso-hover="4902">Î³</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.43010" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42995" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42992" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42997" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42993" data-verso-hover="4902">Î³</span></div></pre><div class="text">
                  <p>
                    <em>Note: This is a very general combinator that requires an advanced understanding of monads,
dependent types and termination proofs. The variants <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">filterMap</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">filterMapM</span></code> are easier to use
and sufficient for most use cases.</em></p>
                  <p>
                    If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.42148" data-verso-hover="6786">it</span></code> is an iterator, then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.42148" data-verso-hover="6786">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___filterMapWithPostcondition" title="Documentation for Std.IterM.filterMapWithPostcondition"><span class="const token" data-binding="const-Std.IterM.filterMapWithPostcondition" data-verso-hover="7057">filterMapWithPostcondition</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42147" data-verso-hover="7056">f</span></code> is another iterator that applies a
monadic function <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.42147" data-verso-hover="7056">f</span></code> to all values emitted by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.42148" data-verso-hover="6786">it</span></code>. <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.42147" data-verso-hover="7056">f</span></code> is expected to return an <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option"><span class="const token" data-binding="const-Option" data-verso-hover="47">Option</span></a></code> inside the
monad. If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.42147" data-verso-hover="7056">f</span></code> returns <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option.none"><span class="const token" data-binding="const-Option.none" data-verso-hover="50">none</span></a></code>, then nothing is emitted; if it returns <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option.some"><span class="const token" data-binding="const-Option.some" data-verso-hover="49">some</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42200" data-verso-hover="72">x</span></code>, then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.42200" data-verso-hover="72">x</span></code> is emitted.</p>
                  <p>
                    <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.42242" data-verso-hover="7056">f</span></code> is expected to return <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42239" data-verso-hover="6981">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option"><span class="const token" data-binding="const-Option" data-verso-hover="47">Option</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">_</span><span class="unknown token" data-binding="">)</span></code>. The base iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.42243" data-verso-hover="6786">it</span></code> being monadic in
<code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.42238" data-verso-hover="5094">m</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.42239" data-verso-hover="6981">n</span></code> can be different from <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.42238" data-verso-hover="5094">m</span></code>, but <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.42243" data-verso-hover="6786">it</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___filterMapWithPostcondition" title="Documentation for Std.IterM.filterMapWithPostcondition"><span class="const token" data-binding="const-Std.IterM.filterMapWithPostcondition" data-verso-hover="7057">filterMapWithPostcondition</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42242" data-verso-hover="7056">f</span></code> expects a <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLiftT___mk" title="Documentation for MonadLiftT"><span class="const token" data-binding="const-MonadLiftT" data-verso-hover="83">MonadLiftT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42238" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42239" data-verso-hover="6981">n</span></code>
instance. The <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a></code> transformer allows the caller to intrinsically prove properties about
<code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.42242" data-verso-hover="7056">f</span></code>'s return value in the monad <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.42239" data-verso-hover="6981">n</span></code>, enabling termination proofs depending on the specific behavior
of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.42242" data-verso-hover="7056">f</span></code>.</p>
                  <p>
                    <strong>Marble diagram (without monadic effects):</strong></p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.42326" data-verso-hover="6786">it</span><span class="inter-text">                                ---a --b--c --d-e--âŠ¥
</span><span class="unknown token" data-binding="">it.filterMapWithPostcondition</span><span class="inter-text">     ---a'-----c'-------âŠ¥</span></code><p>
                    (given that <code>f a = pure (some a)'</code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.42347" data-verso-hover="7056">f</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42410" data-verso-hover="326">c</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><a href="Functors___-Monads-and--do--Notation/#Pure___mk" title="Documentation for Pure.pure"><span class="const token" data-binding="const-Pure.pure" data-verso-hover="999">pure</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option.some"><span class="const token" data-binding="const-Option.some" data-verso-hover="49">some</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42478" data-verso-hover="1223">c'</span><span class="unknown token" data-binding="">)</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">d</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">d</span><span class="inter-text"> </span><span class="unknown token" data-binding="">e</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">pure</span><span class="inter-text"> </span><span class="unknown token" data-binding="">none</span></code>)</p>
                  <p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.42608" data-verso-hover="6786">it</span></code> is finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.42608" data-verso-hover="6786">it</span></code> is finite</p>
                      </li>
                    </ul>
                  <p>
                    For certain mapping functions <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.42632" data-verso-hover="7056">f</span></code>, the resulting iterator will be finite (or productive) even though
no <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> (or <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code>) instance is provided. For example, if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.42632" data-verso-hover="7056">f</span></code> never returns <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option.none"><span class="const token" data-binding="const-Option.none" data-verso-hover="50">none</span></a></code>, then
this combinator will preserve productiveness. If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.42632" data-verso-hover="7056">f</span></code> is an <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT" title="Documentation for ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="3474">ExceptT</span></a></code> monad and will always fail,
then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">it.filterMapWithPostcondition</span></code> will be finite even if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.42633" data-verso-hover="6786">it</span></code> isn't. In the first case, consider
using the <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">map</span></code>/<code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">mapM</span></code>/<code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">mapWithPostcondition</span></code> combinators instead, which provide more instances out of
the box.</p>
                  <p>
                    In such situations, the missing instances can be proved manually if the postcondition bundled in
the <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Reasoning-About-Iterators/#Std___Iterators___PostconditionT___mk" title="Documentation for Std.Iterators.PostconditionT"><span class="const token" data-binding="const-Std.Iterators.PostconditionT" data-verso-hover="7002">PostconditionT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42925" data-verso-hover="6981">n</span></code> monad is strong enough. If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.42928" data-verso-hover="7056">f</span></code> always returns <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option.some"><span class="const token" data-binding="const-Option.some" data-verso-hover="49">some</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">_</span></code>, a suitable
postcondition is <code class="hl lean inline" data-lean-context="docstring-examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-0">fun</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42960" data-verso-hover="1873">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="unknown token" data-binding="">x.isSome</span></code>; if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.42928" data-verso-hover="7056">f</span></code> always fails, a suitable postcondition might be
<code class="hl lean inline" data-lean-context="docstring-examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-0">fun</span><span class="inter-text"> </span><span class="unknown token" data-binding="">_</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><a href="Basic-Propositions/Truth/#False" title="Documentation for False"><span class="const token" data-binding="const-False" data-verso-hover="11">False</span></a></code>.</p>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    For each value emitted by the base iterator <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.42988" data-verso-hover="6786">it</span></code>, this combinator calls <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.42987" data-verso-hover="7056">f</span></code> and matches on the
returned <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none" title="Documentation for Option"><span class="const token" data-binding="const-Option" data-verso-hover="47">Option</span></a></code> value.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___IterM___zip">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.IterM.zip" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.IterM.zip.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.43208" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.43209" data-verso-hover="4902">Î±â‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43210" data-verso-hover="4902">Î²â‚</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43209" data-verso-hover="4902">Î±â‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43208" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43210" data-verso-hover="4902">Î²â‚</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.43215" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43216" data-verso-hover="4902">Î²â‚‚</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.43220" data-verso-hover="7058">left</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43208" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43210" data-verso-hover="4902">Î²â‚</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.43224" data-verso-hover="7059">right</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43208" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43216" data-verso-hover="4902">Î²â‚‚</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43208" data-verso-hover="5094">m</span><span class="inter-text"> </span><a href="Basic-Types/Tuples/#Prod___mk" title="Documentation for Prod"><span class="const token" data-binding="const-Prod" data-verso-hover="330">(</span></a><span class="var token" data-binding="var-_uniq.43210" data-verso-hover="4902">Î²â‚</span><span class="inter-text"> </span><a href="Basic-Types/Tuples/#Prod___mk" title="Documentation for Prod"><span class="const token" data-binding="const-Prod" data-verso-hover="330">Ã—</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43216" data-verso-hover="4902">Î²â‚‚</span><a href="Basic-Types/Tuples/#Prod___mk" title="Documentation for Prod"><span class="const token" data-binding="const-Prod" data-verso-hover="330">)</span></a></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.IterM.zip.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.43208" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.43209" data-verso-hover="4902">Î±â‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43210" data-verso-hover="4902">Î²â‚</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43209" data-verso-hover="4902">Î±â‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43208" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43210" data-verso-hover="4902">Î²â‚</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.43215" data-verso-hover="4902">Î±â‚‚</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43216" data-verso-hover="4902">Î²â‚‚</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.43220" data-verso-hover="7058">left</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43208" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43210" data-verso-hover="4902">Î²â‚</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.43224" data-verso-hover="7059">right</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43208" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43216" data-verso-hover="4902">Î²â‚‚</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43208" data-verso-hover="5094">m</span><span class="inter-text"> </span><a href="Basic-Types/Tuples/#Prod___mk" title="Documentation for Prod"><span class="const token" data-binding="const-Prod" data-verso-hover="330">(</span></a><span class="var token" data-binding="var-_uniq.43210" data-verso-hover="4902">Î²â‚</span><span class="inter-text"> </span><a href="Basic-Types/Tuples/#Prod___mk" title="Documentation for Prod"><span class="const token" data-binding="const-Prod" data-verso-hover="330">Ã—</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43216" data-verso-hover="4902">Î²â‚‚</span><a href="Basic-Types/Tuples/#Prod___mk" title="Documentation for Prod"><span class="const token" data-binding="const-Prod" data-verso-hover="330">)</span></a></div></pre><div class="text">
                  <p>
                    Given two iterators <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.43021" data-verso-hover="7058">left</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.43022" data-verso-hover="7059">right</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.43021" data-verso-hover="7058">left</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___zip" title="Documentation for Std.IterM.zip"><span class="const token" data-binding="const-Std.IterM.zip" data-verso-hover="7060">zip</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43022" data-verso-hover="7059">right</span></code> is an iterator that yields pairs of
outputs of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.43021" data-verso-hover="7058">left</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.43022" data-verso-hover="7059">right</span></code>. When one of them terminates,
the <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">zip</span></code> iterator will also terminate.</p>
                  <p>
                    <strong>Marble diagram:</strong></p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.43065" data-verso-hover="7058">left</span><span class="inter-text">               --a        ---b        --c
</span><span class="unknown token" data-binding="">right</span><span class="inter-text">                 --x         --y        --âŠ¥
</span><span class="unknown token" data-binding="">left.zip</span><span class="inter-text"> </span><span class="unknown token" data-binding="">right</span><span class="inter-text">     -----(a, x)------(b, y)-----âŠ¥</span></code><p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if either <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.43094" data-verso-hover="7058">left</span></code> or <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.43095" data-verso-hover="7059">right</span></code> is finite and the other is productive</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.43094" data-verso-hover="7058">left</span></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.43095" data-verso-hover="7059">right</span></code> are productive</p>
                      </li>
                    </ul>
                  <p>
                    There are situations where <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.43118" data-verso-hover="7058">left</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___zip" title="Documentation for Std.IterM.zip"><span class="const token" data-binding="const-Std.IterM.zip" data-verso-hover="7060">zip</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43119" data-verso-hover="7059">right</span></code> is finite (or productive) but none of the instances
above applies. For example, if the computation happens in an <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error" title="Documentation for Except"><span class="const token" data-binding="const-Except" data-verso-hover="1565">Except</span></a></code> monad and <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.43118" data-verso-hover="7058">left</span></code> immediately
fails when calling <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">step</span></code>, then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.43118" data-verso-hover="7058">left</span><span class="unknown token" data-binding="">.</span><a href="Iterators/Iterator-Combinators/#Std___IterM___zip" title="Documentation for Std.IterM.zip"><span class="const token" data-binding="const-Std.IterM.zip" data-verso-hover="7060">zip</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43119" data-verso-hover="7059">right</span></code> will also do so. In such a case, the <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code>
(or <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code>) instance needs to be proved manually.</p>
                  <p>
                    <strong>Performance:</strong></p>
                  <p>
                    This combinator incurs an additional O(1) cost with each step taken by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.43197" data-verso-hover="7058">left</span></code> or <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.43198" data-verso-hover="7059">right</span></code>.</p>
                  <p>
                    Right now, the compiler does not unbox the internal state, leading to worse performance than
possible.</p>
                  </div>
                </div>
              <div class="namedocs" id="Std___IterM___attachWith">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&amp;name=Std.IterM.attachWith" title="Permalink">ðŸ”—</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only"><span class="unknown token" data-binding="">Std.IterM.attachWith.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.43277" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43278" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.43280" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43280" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43277" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43280" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43278" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.43289" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43280" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43278" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.43291" data-verso-hover="7022">P</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43278" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-14430969920833713138" data-verso-hover="26">Prop</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.43301" data-verso-hover="7023">h</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="unknown token" data-binding="">âˆ€</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.43293" data-verso-hover="326">out</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43278" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">),</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43289" data-verso-hover="6786">it</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Std.IterM.IsPlausibleIndirectOutput" data-verso-hover="6931">IsPlausibleIndirectOutput</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43293" data-verso-hover="326">out</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43291" data-verso-hover="7022">P</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43293" data-verso-hover="326">out</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43280" data-verso-hover="5094">m</span><span class="inter-text"> </span><a href="Basic-Types/Subtypes/#Subtype___mk" title="Documentation for Subtype"><span class="const token" data-binding="const-Subtype" data-verso-hover="631">{</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43305" data-verso-hover="326">out</span><span class="inter-text"> </span><a href="Basic-Types/Subtypes/#Subtype___mk" title="Documentation for Subtype"><span class="const token" data-binding="const-Subtype" data-verso-hover="631">//</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43291" data-verso-hover="7022">P</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43305" data-verso-hover="326">out</span><span class="inter-text"> </span><a href="Basic-Types/Subtypes/#Subtype___mk" title="Documentation for Subtype"><span class="const token" data-binding="const-Subtype" data-verso-hover="631">}</span></a></div><div class="narrow-only"><span class="unknown token" data-binding="">Std.IterM.attachWith.{w,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">w'}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.43277" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43278" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.43280" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="52">Type w'</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk" title="Documentation for Monad"><span class="const token" data-binding="const-Monad" data-verso-hover="221">Monad</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43280" data-verso-hover="5094">m</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="Iterators/Iterator-Definitions/#Std___Iterator___mk" title="Documentation for Std.Iterator"><span class="const token" data-binding="const-Std.Iterator" data-verso-hover="4598">Iterator</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43277" data-verso-hover="4902">Î±</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43280" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43278" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.43289" data-verso-hover="6786">it</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43280" data-verso-hover="5094">m</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43278" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.43291" data-verso-hover="7022">P</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43278" data-verso-hover="4902">Î²</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-14430969920833713138" data-verso-hover="26">Prop</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.43301" data-verso-hover="7023">h</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">âˆ€</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.43293" data-verso-hover="326">out</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43278" data-verso-hover="4902">Î²</span><span class="unknown token" data-binding="">),</span><span class="inter-text">
      </span><span class="var token" data-binding="var-_uniq.43289" data-verso-hover="6786">it</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Std.IterM.IsPlausibleIndirectOutput" data-verso-hover="6931">IsPlausibleIndirectOutput</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43293" data-verso-hover="326">out</span><span class="inter-text"> </span><span class="unknown token" data-binding="">â†’</span><span class="inter-text">
        </span><span class="var token" data-binding="var-_uniq.43291" data-verso-hover="7022">P</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43293" data-verso-hover="326">out</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><a href="Iterators/Iterator-Definitions/#Std___IterM___mk" title="Documentation for Std.IterM"><span class="const token" data-binding="const-Std.IterM" data-verso-hover="5095">IterM</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43280" data-verso-hover="5094">m</span><span class="inter-text"> </span><a href="Basic-Types/Subtypes/#Subtype___mk" title="Documentation for Subtype"><span class="const token" data-binding="const-Subtype" data-verso-hover="631">{</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43305" data-verso-hover="326">out</span><span class="inter-text"> </span><a href="Basic-Types/Subtypes/#Subtype___mk" title="Documentation for Subtype"><span class="const token" data-binding="const-Subtype" data-verso-hover="631">//</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43291" data-verso-hover="7022">P</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43305" data-verso-hover="326">out</span><span class="inter-text"> </span><a href="Basic-Types/Subtypes/#Subtype___mk" title="Documentation for Subtype"><span class="const token" data-binding="const-Subtype" data-verso-hover="631">}</span></a></div></pre><div class="text">
                  <p>
                    â€œAttachesâ€ individual proofs to an iterator of values that satisfy a predicate <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.43235" data-verso-hover="7022">P</span></code>, returning an
iterator with values in the corresponding subtype <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">{</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43242" data-verso-hover="326">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">//</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43235" data-verso-hover="7022">P</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43242" data-verso-hover="326">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">}</span></code>.</p>
                  <p>
                    <strong>Termination properties:</strong></p>
                  <ul>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Finite___mk" title="Documentation for Std.Iterators.Finite"><span class="const token" data-binding="const-Std.Iterators.Finite" data-verso-hover="6802">Finite</span></a></code> instance: only if the base iterator is finite</p>
                      </li>
                    <li>
                      <p>
                        <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Iterators/Iterator-Definitions/#Std___Iterators___Productive___mk" title="Documentation for Std.Iterators.Productive"><span class="const token" data-binding="const-Std.Iterators.Productive" data-verso-hover="6803">Productive</span></a></code> instance: only if the base iterator is productive</p>
                      </li>
                    </ul>
                  </div>
                </div>
              </section>
            </section>
          <nav class="prev-next-buttons">
            <a class="local-button active" href="Iterators/Consuming-Iterators/#The-Lean-Language-Reference--Iterators--Consuming-Iterators" rel="prev" title="22.3. Consuming Iterators"><span class="arrow">â†</span><span class="where">22.3. Consuming Iterators</span></a><a class="local-button active" href="Iterators/Reasoning-About-Iterators/#The-Lean-Language-Reference--Iterators--Reasoning-About-Iterators" rel="next" title="22.5. Reasoning About Iterators"><span class="where">22.5. Reasoning About Iterators</span><span class="arrow">â†’</span></a></nav>
          </div>
        </main></div>
    </body>
  </html>

